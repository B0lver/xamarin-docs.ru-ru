---
title: Ход выполнения и индикаторы активности
ms.prod: xamarin
ms.assetid: 7AA887E4-51F7-4867-82C5-A8D2EA48AE07
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 07/11/2017
ms.openlocfilehash: 58a492bed81a1d96a482c1396718da1c5e4af589
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="progress-and-activity-indicators"></a>Ход выполнения и индикаторы активности

Вполне вероятно, что приложение будет выполнять долго выполняемых задач, например загрузки или обработки данных и что эта задержка может привести к задержке при обновлении пользовательского интерфейса. В течение этого времени следует всегда использовать индикатор хода выполнения для заверить пользователя, что система занята работой. Это предоставляет пользовательский элемент управления, приложение работает при их запросе, который не ждет их входных данных и может обеспечивать подробные сведения о точности как долго они имеют ожидания.

iOS предоставляет два основных способа указания свидетельствует о ходе выполнения в приложении: индикаторы активности (включая конкретного _сети_ индикатор активности) и индикаторы выполнения.

## <a name="activity-indicator"></a>Индикатор активности

Индикаторы активности должен отображаться при длительной работы вашего приложения, но вы не знаете точное количество времени, требует выполнения задачи.

Apple имеет следующие рекомендации по работе с индикаторами действия:

- **По возможности следует использовать вместо строки выполняется** — поскольку индикатор активности предоставляет пользователю не обратную связь относительно как процесс, время, всегда используйте индикатор хода выполнения, если знать длину, (например, сколько байтов для загрузки в файле).
- **Сохранить анимированного индикатора** -пользователи связаны стационарным индикатор активности остановленная приложения, следует всегда иметь индикатор анимации при его отображении.
- **Описания задачи обработки** -просто отображает индикатор активности сам по себе недостаточно, пользователь должен быть в курсе в процессе ожидания. Включить осмысленное метку (обычно один, полное предложение), четко определяет задачу.

### <a name="implementing-an-activity-indicator"></a>Реализация индикатор активности

Индикатор активности реализуется с помощью [ `UIActivityIndictorView` ](https://developer.xamarin.com/api/type/UIKit.UIActivityIndicatorView/) класса, чтобы указать, что `UIActivity` выполняется.

### <a name="activity-indicators-and-storyboards"></a>Индикаторы активности и раскадровки

Если вы используете iOS конструктор для создания пользовательского интерфейса, можно добавить индикатор активности макет из области элементов. В панели свойств можно изменить следующие свойства:

![Панель свойств](progress-activity-indicator-images/progress-indicator1.png)

### <a name="managing-activity-indicator-behavior"></a>Управление поведением индикатор активности

Используйте `StartAnimating()` и `StopAnimating()` методы для запуска и остановки анимации индикатор активности.

Задать `HidesWhenStopped` свойства `true` вносить исчезают после индикатора активности `StopAnimating()` был вызван. Это свойство имеет значение `true` по умолчанию. В любой момент можно проверить, установлена ли индикатор активности анимации вращающийся проверив `IsAnimating` свойство. 


### <a name="managing-activity-indicator-appearances"></a>Управление внешний вид индикатора активности

`UIActivityIndicatorViewStyle` Перечисления могут передаваться как параметр при создании экземпляра индикатор активности. Это можно использовать для задания визуальный стиль `Gray`, `White`, или `WhiteLarge`, например:

```csharp
activitySpinner = new UIActivityIndicatorView(UIActivityIndicatorViewStyle.WhiteLarge);
```

Можно изменить цвет, предоставляемые `UIActivityIndicatorViewStyle` , установив `Color` свойство.

## <a name="progress-bar"></a>Progress Bar

Индикатор хода выполнения представляется как строка, которая заполняет цветом для отображения состояния и длины трудоемкой задачей. Индикаторы выполнения всегда можно использовать при длина задачи является знать или может быть вычислено.

Apple имеет следующие рекомендации по работе с индикаторы выполнения.

- **Точно сообщают о ходе выполнения** -индикаторы выполнения всегда должен быть точно отражает время, необходимое для выполнения задачи. Никогда не исказить того, чтобы сделать приложение прерываться.
- **Используйте для длительности Well-Defined** -индикатор выполнения не должно только отображать, слишком продолжительной операции помещать и предоставить пользователя и часть задачи завершения, указывающее, а также оценку оставшегося времени.

### <a name="implementing-an-progress-bar"></a>Реализация индикатор

Индикатор хода выполнения, создается путем создания экземпляра [`UIProgressView`](https://developer.xamarin.com/api/type/UIKit.UIProgressView/)

### <a name="progress-bars-and-storyboards"></a>Индикаторы выполнения и раскадровки

Также можно добавить индикатор хода выполнения для пользовательского интерфейса при использовании iOS конструктора. Поиск **представление о ходе выполнения** в **элементов** и перетащите его в представлении.

На панели свойств можно изменить следующие свойства:

![Панель свойств](progress-activity-indicator-images/progress-indicator3.png)


### <a name="managing-progress-bar-behavior"></a>Управление поведением индикатор хода выполнения

Ход выполнения строке изначально можно задать с помощью `Progress` свойство:

```csharp
ProgressBar.Progress = 0f;
```

Ход выполнения можно изменить с помощью `SetProgress` метода и передачи логическое объявление, следует ли изменение анимации или нет.

```csharp
ProgressBar.SetProgress(1.0f, true);
```

Дополнительные сведения об использовании индикатора см. [отчетов о ходе выполнения](https://developer.xamarin.com/recipes/cross-platform/networking/download_progress/#Reporting_Progress_in_iOS) инструкций и [UICatalog tvOS пример](https://developer.xamarin.com/samples/monotouch/tvos/UICatalog/).

### <a name="managing-progress-bar-appearance"></a>Управление внешний вид индикатора хода выполнения

Аналогично индикатор активности `UIProgressViewStyle` перечисления могут передаваться как параметр при создании экземпляра индикатор выполнения.

Ход выполнения и отслеживания изображения и цвета оттенка может настраиваться с помощью следующих свойств:

```csharp
progressBar = new UIProgressView(UIProgressViewStyle.Default)
            {
                ProgressImage = UIImage.FromBundle("TrackImage"),
                ProgressTintColor = UIColor.Cyan,
                TrackImage = UIImage.FromBundle("TrackImage"),
                TrackTintColor = UIColor.Magenta
            }; 
```



