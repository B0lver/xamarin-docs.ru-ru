---
title: Автоматическая подготовка для Xamarin.iOS
description: После успешной установки Xamarin.iOS следующим шагом в разработке приложений для iOS является подготовка устройства iOS. В этом руководстве описано, как использовать функцию автоматического подписывания для запроса сертификатов и профилей разработки.
ms.prod: xamarin
ms.assetid: 81FCB2ED-687C-40BC-ABF1-FB4303034D01
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.custom: video
ms.date: 03/05/2020
ms.openlocfilehash: 32d9142fb74cba637982438a2aa984adb759d847
ms.sourcegitcommit: bb18e6b3b5d592374b17932efa1e85c3b5fbad57
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2020
ms.locfileid: "88950720"
---
# <a name="automatic-provisioning-for-xamarinios"></a>Автоматическая подготовка для Xamarin.iOS

_Установив Xamarin.iOS для разработки приложений для iOS можно приступать к подготовке устройства iOS. В этом руководстве описано, как использовать функцию автоматической подготовки для запроса сертификатов и профилей разработки._

## <a name="requirements"></a>Требования

Автоматическая подготовка доступна на Visual Studio для Mac, Visual Studio 2019 и Visual Studio 2017 (версия 15.7 и более поздние). 

> [!NOTE]
> Для использования этой функции у вас также должна быть платная учетная запись разработчика Apple. Дополнительные сведения об учетных записях разработчика Apple можно найти в статье [Подготовка устройства для Xamarin.iOS](~/ios/get-started/installation/device-provisioning/index.md).
> Если у вас нет платной учетной записи разработчика Apple, см. руководство [Бесплатная подготовка для Xamarin.iOS](~/ios/get-started/installation/device-provisioning/free-provisioning.md).

> [!NOTE]
> Прежде чем начать, обязательно примите все лицензионные соглашения на [портале разработчика Apple](https://developer.apple.com/account/) или [App Store Connect](https://appstoreconnect.apple.com/).


## <a name="enable-automatic-provisioning"></a>Включение автоматической подготовки

Прежде чем начинать процесс автоматического подписывания, следует убедиться, что в Visual Studio добавлен идентификатор Apple, как описано в руководстве [Управление учетными записями Apple](~/cross-platform/macios/apple-account-management.md). 

После добавления идентификатора Apple вы можете использовать любую связанную _команду_. Это позволяет создавать сертификаты, профили и другие идентификаторы для этой группы. На основе идентификатора команды также создается префикс для идентификатора приложения, который будет включен в профиль подготовки. Это позволяет компании Apple подтверждать вашу личность.

Чтобы автоматически подписать приложение для развертывания на устройстве iOS, выполните указанные ниже действия:

# <a name="visual-studio-for-mac"></a>[Visual Studio для Mac](#tab/macos)

1. Откройте проект iOS в Visual Studio для Mac.

2. Откройте файл **Info.plist**.

3. Перейдите на вкладку **Приложение**.

4. В разделе **Подписывание** выберите **Автоматическая подготовка**:

    ![Раскрывающийся список для выбора команды](automatic-provisioning-images/image2.png)

5. Выберите свою команду в раскрывающемся списке **Team** (Команда).

6. Через несколько секунд будут созданы сертификат для подписи и профиль подготовки:

    ![успешное создание сертификата и профиля](automatic-provisioning-images/image5.png)

    Если автоматическое подписывание выполнить не удалось, на **панели автоматического подписывания** будет указана причина ошибки.

# <a name="visual-studio"></a>[Visual Studio](#tab/windows)

> [!NOTE]
> Если вы используете Visual Studio 2017 или Visual Studio 2019 (версии 16.4 и более ранних версий), перед продолжением необходимо [связать их с узлом сборки Mac](~/ios/get-started/installation/windows/connecting-to-mac/index.md).

1. В **обозревателе решений** щелкните правой кнопкой мыши имя проекта iOS и выберите **Свойства**. Затем откройте вкладку **Подписывание пакета iOS**:

    ![Снимок экрана со страницей подписывания пакета в свойствах iOS.](automatic-provisioning-images/bundle-signing-win.png)

2. Выберите схему **Автоматическая подготовка**.

3. Выберите команду из раскрывающегося меню **Команда**, чтобы запустить процесс автоматического подписывания. Visual Studio сообщит, успешно ли завершился процесс.

    ![Снимок экрана страницы подписания пакета с выделенным сообщением "Автоматическая подготовка выполнена успешно".](automatic-provisioning-images/signing-success-win.png)

-----

## <a name="run-automatic-provisioning"></a>Запуск автоматической подготовки

Если автоматическая подготовка включена, Visual Studio будет повторно запускать процесс при необходимости в следующих случаях:

- Устройство iOS подключается к компьютеру Mac
  - При этом автоматически проверяется регистрация устройства на портале разработчика Apple. Если устройство не зарегистрировано, оно добавляется, и создается содержащий его профиль подготовки.
- Изменяется идентификатор пакета приложения.
  - При этом обновляется идентификатор приложения. Создается профиль подготовки, содержащий этот идентификатор приложения.
- В файле Entitlements.plist включается поддерживаемая возможность.
  - Эта возможность будет добавлена в идентификатор приложения, и будет создан профиль подготовки с обновленным идентификатором приложения.
  - В настоящее время поддерживаются не все возможности. Дополнительные сведения о поддерживаемых возможностях см. в руководстве [Работа с возможностями](~/ios/deploy-test/provisioning/capabilities/index.md).

## <a name="wildcard-app-ids"></a>Шаблон идентификаторов приложений

В Visual Studio для Mac и Visual Studio 2019 (версия 16.5 или более поздняя) автоматическая подготовка по умолчанию пытается создать и использовать шаблон идентификатора приложения и профили подготовки вместо явного идентификатора приложения на основании **идентификатора пакета**, указанного в файле **Info.plist**. Шаблон идентификаторов приложений сокращает число профилей и идентификаторов на портале разработчика Apple.

В некоторых случаях для назначений приложения требуется явный идентификатор приложения. Следующие назначения не поддерживают шаблон идентификаторов приложений:

- Группы приложений
- Связанные домены
- Apple Pay
- Game Center
- HealthKit
- HomeKit
- Хот-спот
- Покупки из приложений
- Несколько путей
- NFC
- Личный VPN
- Push-уведомления
- Конфигурация беспроводных периферийных устройств

Если приложение использует одно из этих назначений, Visual Studio попытается создать явный (вместо шаблонного) идентификатор приложения.

## <a name="troubleshoot"></a>Устранение неполадок 

- Утверждение новой учетной записи разработчика Apple может занять несколько часов. Вы не сможете включить автоматическую подготовку, пока учетная запись не будет утверждена.
- Если процесс автоматической подготовки завершается сбоем с сообщением об ошибке `Authentication Service Is Unavailable`, войдите в [App Store Connect](https://appstoreconnect.apple.com/) или [appleid.apple.com](https://appleid.apple.com), чтобы убедиться, что вы приняли последние соглашения об обслуживании.
- Если вы получаете сообщение об ошибке `Authentication Error: Xcode 7.3 or later is required to continue developing with your Apple ID.`, убедитесь, что выбранная команда имеет активную платную принадлежность к программе для разработчиков Apple. Чтобы использовать платную учетную запись разработчика Apple, ознакомьтесь со статьей [Бесплатная подготовка для приложений Xamarin.iOS](~/ios/get-started/installation/device-provisioning/free-provisioning.md).

## <a name="related-links"></a>Связанные ссылки

- [Бесплатная подготовка](~/ios/get-started/installation/device-provisioning/free-provisioning.md)
- [Распространение приложений](~/ios/deploy-test/app-distribution/index.md)
- [Устранение неполадок](~/ios/deploy-test/troubleshooting.md)
- [Руководство Apple. Распространение приложений](https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html)
