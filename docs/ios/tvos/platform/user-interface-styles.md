---
title: "Новые стили пользовательского интерфейса"
description: "В этой статье рассматриваются светлой и темной темы пользовательского интерфейса, Apple добавил tvOS 10 и способы их реализации в приложении Xamarin.tvOS."
ms.topic: article
ms.prod: xamarin
ms.assetid: 8BC37683-AD9E-45CD-BE40-96965618AD1D
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 03/16/2017
ms.openlocfilehash: e400a72f4c759662e70bfecc372134f8fda05ad6
ms.sourcegitcommit: 73bd0c7e5f237f0a1be70a6c1384309bb26609d5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2018
---
# <a name="new-user-interface-styles"></a>Новые стили пользовательского интерфейса

_В этой статье рассматриваются светлой и темной темы пользовательского интерфейса, Apple добавил tvOS 10 и способы их реализации в приложении Xamarin.tvOS._

tvOS 10 теперь поддерживает темы темной и светлой пользовательский интерфейс, все UIKit сборки в элементы управления будут автоматически использовать адаптивно в, на основании персональные настройки пользователя. Кроме того разработчик может вручную настроить элементы пользовательского интерфейса на основе темы, выбранный пользователем и могут переопределять данной темы.


<a name="About-the-New-User-Interface-Styles" />

## <a name="about-the-new-user-interface-styles"></a>О новых стилем пользовательского интерфейса

Как уже говорилось выше, tvOS 10 теперь поддерживает темы темной и светлой пользовательский интерфейс, все UIKit сборки в элементы управления будут автоматически использовать адаптивно в, на основании персональные настройки пользователя.

Можно переключаться эту тему, перейдя к **параметры** > **Общие** > **внешний вид** и переключения между **свет**  и **темной**:

[![](user-interface-styles-images/theme01.png "Параметры приложения")](user-interface-styles-images/theme01.png#lightbox)

Когда **темной** темы установлен, все элементы пользовательского интерфейса будет переключен в светло-текста темным фоном:

[![](user-interface-styles-images/theme02.png ""Темной" теме")](user-interface-styles-images/theme02.png#lightbox)

У пользователя есть возможность в любое время переключить темы и делается, поэтому на основе текущего действия, где находится Apple TV или время дня.

Светлая тема пользовательского интерфейса является тему по умолчанию, и любые существующие приложения tvOS по-прежнему использовать светлого оформления, независимо от того, персональные настройки пользователя, если они изменяются для tvOS 10, чтобы воспользоваться преимуществами темной темами. Приложение tvOS 10 также имеет возможность переопределить текущую тему и всегда использовать Темная или Светлая тема некоторые или все его пользовательского интерфейса.

<a name="Adopting-the-Light-and-Dark-Themes" />

## <a name="adopting-the-light-and-dark-themes"></a>Внедрение светлой и темной темы

Для поддержки этой возможности, Apple добавлен новый API для `UITraitCollection` класса и приложение tvOS должны согласиться на поддерживает темной внешний (через параметр в его `Info.plist` файла).

Чтобы включить в службе поддержки светлой и темной темы, сделайте следующее.

1. В **обозревателе решений** дважды щелкните файл `Info.plist`, чтобы открыть его для редактирования.
2. Выберите **источника** представление (в нижней части редактора).
3. Добавьте новый раздел и назовите его `UIUserInterfaceStyle`: 

    [![](user-interface-styles-images/theme03.png "Ключ UIUserInterfaceStyle")](user-interface-styles-images/theme03.png#lightbox)
4. Оставьте значение типа, установленного `String` и введите значение `Automatic`: 

    [![](user-interface-styles-images/theme04.png "Введите автоматически")](user-interface-styles-images/theme04.png#lightbox)
5. Сохраните изменения в файле.

Существует три возможных значения для `UIUserInterfaceStyle` ключ:

- **Индикатор** -принудительно пользовательского интерфейса приложения tvOS всегда использовать светлого оформления.
- **Темный** -принудительно пользовательского интерфейса приложения tvOS всегда использовать темной темами.
- **Автоматическое** -переключение между светлой и темной темы в соответствии с параметрами пользователя в параметрах. Это параметр предпочтительной.

<a name="UIKit-Theme-Support" />

### <a name="uikit-theme-support"></a>Поддержка UIKit темы

Если приложение tvOS использует стандартных, встроенных `UIView` на основе элементов управления, автоматически ответит на тему пользовательского интерфейса без вмешательства разработчика.

Кроме того `UILabel` и `UITextView` автоматически изменит их цвет на основе выбора темы пользовательского интерфейса:

- Текст будет черным "светлой" темой.
- Текст будет белый "темной" темой.

Если разработчик никогда не изменяет цвет текста вручную (либо в раскадровку или код), они будут отвечает за обработку изменения цвета на основе темы пользовательского интерфейса.

<a name="New-Blur-Effects" />

### <a name="new-blur-effects"></a>Новые эффекты размытия

Для поддержки светлой и темной темах в приложении tvOS 10, Apple были добавлены два новых эффектов размытия. Эти новые эффекты автоматически настроит размытия, на основе темы пользовательского интерфейса, выбранное пользователем следующим образом:

- `UIBlurEffectStyleRegular` -Использует светлый Размытие в теме светлой и темной размытия темной темы.
- `UIBlurEffectStyleProminent` -Использует очень светлая размытия "светлой" темой и очень темный размытия "темной" темой.

<a name="Working-with-Trait-Collections" />

## <a name="working-with-trait-collections"></a>Работа с коллекциями признака

Новый `UserInterfaceStyle` свойство `UITraitCollection` класс может использоваться для получения текущего выбранного тема пользовательского интерфейса и будет `UIUserInterfaceStyle` enum одного из следующих значений:

- **Индикатор** -выбрана пользовательского интерфейса Светлая тема.
- **Темный** -выбран пользовательский Интерфейс темной темы.
- **Неизвестная** -представление не было отображается на экране, поэтому текущую тему пользовательского интерфейса.

Кроме того Признак коллекции имеют следующие возможности в tvOS 10:
 
- Можно настроить внешний вид прокси-сервера на основе `UserInterfaceStyle` из заданного `UITraitCollection` изменять такие параметры, такие как изображения или элемента цвета на основе темы.
- Приложение tvOS может обрабатывать изменения признака коллекции путем переопределения `TraitCollectionDidChange` метод `UIView` или `UIViewController` класса.

> [!IMPORTANT]
> Не полностью поддерживает предварительной Xamarin.tvOS для tvOS 10 `UIUserInterfaceStyle` для `UITraitCollection` еще. Полная поддержка будет добавлена в будущем выпуске.




<a name="Customizing-Appearance-Based-on-Theme" />

### <a name="customizing-appearance-based-on-theme"></a>Настройка внешнего вида, на основе темы

Для элементов пользовательского интерфейса, которые поддерживают внешний прокси-сервера их внешний вид можно настраивать с учетом на теме пользовательского интерфейса свою коллекцию признака. Таким образом для данного элемента пользовательского интерфейса, разработчик может указать один цвет для светлого оформления, а другой — для темной темы.

```csharp
button.SetTitleColor (UIColor.Red, UIControlState.Normal);

// TODO - Pseudocode because this isn't currently supported in the preview bindings.
var light = new UITraitCollection(UIUserInterfaceStyle.Light);
var dark = new UITraitCollection(UIUserInterfaceStyle.Dark);

button.ForTraitCollection(light).SetTitleColor (UIColor.Red, UIControlState.Normal);
button.ForTraitCollection(dark).SetTitleColor (UIColor.White, UIControlState.Normal);
```

> [!IMPORTANT]
> К сожалению, не поддерживает предварительный просмотр Xamarin.tvOS tvOS 10 полностью `UIUserInterfaceStyle` для `UITraitCollection`, поэтому такая настройка еще не доступен. Полная поддержка будет добавлена в будущем выпуске.

<a name="Responding-to-Theme-Changes-Directly" />

### <a name="responding-to-theme-changes-directly"></a>Реагирование на изменения темы напрямую

В разработчик требует более глубокого управлять внешним видом элемента пользовательского интерфейса на основе пользовательского интерфейса темы выбран, они могут переопределять `TraitCollectionDidChange` метод `UIView` или `UIViewController` класса.

Пример:

```csharp
public override void TraitCollectionDidChange (UITraitCollection previousTraitCollection)
{
    base.TraitCollectionDidChange (previousTraitCollection);
    
    // Take action based on the Light or Dark theme
    ...
}
```

<a name="Responding-to-Theme-Changes-Directly" />

### <a name="overriding-a-trait-collection"></a>Переопределение сбора признака

На основании разработки приложения tvOS, возможны ситуации при разработчику необходимо переопределить Признак коллекции для указанного элемента пользовательского интерфейса и его всегда используйте конкретной темы пользовательского интерфейса.

Это можно сделать с помощью `SetOverrideTraitCollection` метод `UIViewController` класса. Пример:

```csharp
// Create new trait and configure it
var trait = new UITraitCollection ();
...

// Apply new trait collection
SetOverrideTraitCollection (trait, this);
```

Дополнительные сведения см. в разделе [признаки](~/ios/user-interface/storyboards/unified-storyboards.md) и [переопределение признаки](~/ios/user-interface/storyboards/unified-storyboards.md) части нашей [введение в единой раскадровки](~/ios/user-interface/storyboards/unified-storyboards.md) документации.

<a name="Trait-Collections-and-Storyboards" />

### <a name="trait-collections-and-storyboards"></a>Признак коллекций и раскадровки

В tvOS 10 раскадровки приложения можно задать реагировать на Признак коллекций и многие элементы пользовательского интерфейса могут быть уведомлены светлой и темной темами. Текущий Xamarin.tvOS ранней предварительной версии для tvOS 10 еще не поддерживает эту функцию в конструкторе интерфейса, поэтому раскадровку потребуется изменить в построителе интерфейс Xcode в качестве обходного пути.

Чтобы включить поддержку признака коллекции, выполните следующее:

1. Щелкните правой кнопкой мыши файл раскадровки в **обозревателе решений** и выберите **открыть с помощью** > **Xcode интерфейс построителя**: 

    [![](user-interface-styles-images/theme05.png "Открыть в построителе интерфейс Xcode")](user-interface-styles-images/theme05.png#lightbox) 
2. Для включения поддержки коллекции признака, перейдите к **инспектора файл** и проверьте **варианты использования признаков** свойства в **документ построитель интерфейса** раздела: 

    [![](user-interface-styles-images/theme06.png "Включить поддержку признака коллекции")](user-interface-styles-images/theme06.png#lightbox)
3. Подтверждение изменения используют признака варианты: 

    [![](user-interface-styles-images/theme07.png "Использование вариантов Признак предупреждения")](user-interface-styles-images/theme07.png#lightbox)
4. Сохраните изменения в файл раскадровки.

При редактировании tvOS раскадровки в построителе интерфейса, Apple добавила следующие возможности:

* Разработчик может указать различные виды элементы пользовательского интерфейса на основе темы пользовательского интерфейса в **инспектора атрибут**:
    
    * Теперь имеют несколько свойств  **+**  рядом с ними, которые можно выбрать для добавления определенной версии тема пользовательского интерфейса: 

        [![](user-interface-styles-images/theme08.png "Добавьте определенную версию темы пользовательского интерфейса")](user-interface-styles-images/theme08.png#lightbox) 
    
    * Разработчик может указать новое свойство или нажмите кнопку **x** кнопку, чтобы удалить его: 

        [![](user-interface-styles-images/theme09.png "Укажите новое свойство или нажмите кнопку «x», чтобы удалить его")](user-interface-styles-images/theme09.png#lightbox)
* Разработчик можно выполнить предварительный просмотр разработки пользовательского интерфейса в Темная или Светлая тема из в построителе интерфейса:
    
    * В нижней части рабочей области конструктора позволяет разработчику для переключения текущей темы пользовательского интерфейса: 

        [![](user-interface-styles-images/theme10.png "В нижней части рабочей области конструктора")](user-interface-styles-images/theme10.png#lightbox)
        
    * Новую тему будет отображаться в интерфейс построителя и отображаются все внесенные изменения определенной коллекции признака: 

        [![](user-interface-styles-images/theme11.png "Темы, отображаемой в построителе интерфейса")](user-interface-styles-images/theme11.png#lightbox)

Кроме того сочетания клавиш, чтобы разработчик мог быстро переключаться между светлой и темной темах при отладке приложения tvOS теперь имеет tvOS симулятора. Используйте **команда + Shift + D** сочетания последовательности для переключения от светлого к темному.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье покрытия светлой и темной темами пользовательского интерфейса, Apple добавил tvOS 10 и способы их реализации в приложении Xamarin.tvOS.



## <a name="related-links"></a>Связанные ссылки

- [Примеры tvOS](https://developer.xamarin.com/samples/tvos/all/)
- [Новые возможности tvOS 10](https://developer.apple.com/library/prerelease/content/releasenotes/General/WhatsNewinTVOS/Articles/tvOS10.html#//apple_ref/doc/uid/TP40017259-SW1)
