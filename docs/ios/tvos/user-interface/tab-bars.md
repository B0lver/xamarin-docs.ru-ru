---
title: Работа с контроллерами панели вкладок tvOS в Xamarin
description: В этом документе описывается работа с контроллерами панели вкладок в приложении tvOS, созданном с помощью Xamarin. Он предоставляет общий обзор панелей вкладок и обсуждение элементов панели вкладок, интеграции раскадровки и элементов панели вкладок.
ms.prod: xamarin
ms.assetid: 99A2D7C6-0324-4DE5-B6E9-D39D0BAD8370
ms.technology: xamarin-ios
author: davidortinau
ms.author: daortin
ms.date: 03/16/2017
ms.openlocfilehash: a4adc692680c0556a3cfb07b1a9f45963a81d199
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73022129"
---
# <a name="working-with-tvos-tab-bar-controllers-in-xamarin"></a>Работа с контроллерами панели вкладок tvOS в Xamarin

Для многих типов приложений tvOS Основная навигация представлена в виде панели вкладок, работающей в верхней части экрана. Пользователь переходит влево и вправо по списку возможных категорий и области содержимого под изменениями, чтобы отразить выбор пользователя.

[![](tab-bars-images/tab01.png "Sample Tab Bar")](tab-bars-images/tab01.png#lightbox)

Панель вкладок по умолчанию прозрачна и всегда отображается в верхней части экрана. В фокусе панель вкладок будет охватывать первые 140 пикселей экрана, но быстро пропустить, когда фокус переместится на область содержимого ниже.

<a name="Tab-Bars-in-tvOS" />

## <a name="tab-bars-in-tvos"></a>Панели вкладок в tvOS

`UITabViewController` работает аналогичным образом и выполняет аналогичные задачи в tvOS, как это делается в iOS, со следующими ключевыми отличиями.

- В отличие от панели вкладок в iOS, которая отображается в нижней части экрана, панели вкладок в tvOS занимают первые 140 пикселей экрана и по умолчанию являются полупрозрачными.
- Когда фокус покидает панель вкладок для области содержимого, панель вкладок будет быстро продвигаться в верхней части экрана и быть скрытой. Пользователь может либо нажать кнопку меню один раз, либо прокрутить [Siri удаленно](~/ios/tvos/platform/remote-bluetooth.md#The-Siri-Remote) , чтобы снова отобразить панель вкладок.
- Прокрутка вниз на Siri удаленном элементе перемещает фокус на область содержимого под панелью вкладок к первому изменяемому [элементу](~/ios/tvos/app-fundamentals/navigation-focus.md#Focus-and-Selection) в отображаемом содержимом. Опять же, при смене фокуса панель вкладок будет скрыта.
- При выборе категории, отображаемой на панели вкладок, переключается на содержимое этой категории, и фокус переключается на первый элемент в этом представлении.
- Число категорий, отображаемых на панели вкладок, должно быть фиксированным, и все категории должны быть доступны в любое время, заданную категорию никогда не следует отключать.
- Панели вкладок не поддерживают настройку tvOS. Кроме того, они не отображают **больше** категорий (например, IOS), если количество категорий превышает размер панели вкладок.

В Apple имеются следующие рекомендации по работе с панелями вкладок:

- **Использование полос табуляции для логической организации содержимого** — используйте панель вкладок для логической организации содержимого, с которым работает приложение tvOS. Например, популярные, лучшие диаграммы, приобретенные и поисковые.
- **Добавление эмблем для информирования пользователей о новом содержимом** . при необходимости можно отобразить значок (красный овал с белым числом или восклицательным знаком) для информирования пользователя о новом содержимом в категории.
- Частое **использование эмблем** — не загромождать панель вкладок с эмблемами и отображать их только там, где они предоставляют пользователю важную информацию.
- **Ограничьте число категорий** . чтобы сократить сложность и обеспечить управляемость приложения, не перегружайте панель вкладок с категориями и убедитесь, что все категории видимы и не перемещаются. Простые и короткие названия работают лучше.
- **Не отключайте категорию** — все вкладки (категории) должны всегда отображаться и включаться в любое время. Если на данной вкладке нет содержимого, укажите объяснение пользователя. Например, вкладка покупки будет пустой, если пользователь не сделал покупки.

<a name="Tab-Bar-Items" />

## <a name="tab-bar-items"></a>Элементы панели вкладок

Каждая категория (вкладка) на панели вкладок представлена элементом панели вкладок (`UITabBarItem`). У Apple есть следующие рекомендации по работе с элементами панели вкладок:

- **Использовать вкладки на основе текста** . Хотя элемент панели вкладок может быть представлен в виде значка, Apple предлагает использовать только текст, поскольку краткий заголовок проще интерпретировать, чем значок.
- **Используйте короткие, понятные существительные или глаголы** — элемент панели вкладок должен четко пересылать содержимое, которое оно содержит, и лучше подходит, если это простой термин (например, фотографии, фильмы или музыка) или глаголы (например, поиск или воспроизведение).

<a name="Tab-Bars-and-Storyboards" />

## <a name="tab-bars-and-storyboards"></a>Панели вкладок и раскадровки

Самый простой способ работы с панелями вкладок в приложении Xamarin. tvOS — добавить их в пользовательский интерфейс приложения с помощью конструктора iOS.

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. Запустите новое приложение Xamarin. tvOS и выберите **tvOS** > **приложение** > **приложение с вкладками**: 

    [![](tab-bars-images/tab02.png "Select Tabbed App")](tab-bars-images/tab02.png#lightbox)
1. Следуйте всем запросам, чтобы создать новое решение Xamarin. tvOS.
1. В **панель решения**дважды щелкните файл `Main.storyboard` и откройте его для редактирования.
1. Чтобы изменить **значок** или **заголовок** для данной категории, выберите **элемент панели вкладок** для **контроллера представления** в разделе **Структура документа**:

    [![](tab-bars-images/tab03a.png "The Tab Bar Item for the View Controller in the Document Outline")](tab-bars-images/tab03a.png#lightbox)
1. Затем задайте необходимые свойства на **вкладке мини** -приложение **обозревателя свойств**. 

    [![](tab-bars-images/tab03.png "The Widget Tab")](tab-bars-images/tab03.png#lightbox)
1. Чтобы добавить новую категорию (вкладку), перетащите **контроллер представления** в область конструктора: 

    [![](tab-bars-images/tab04.png "A View Controller")](tab-bars-images/tab04.png#lightbox)
1. Щелкните элемент управления и перетащите его из **контроллера представления вкладок** в новый **контроллер представления**.
1. В контекстном меню выберите **вид контроллеры** , чтобы добавить новое представление в виде вкладки (категория): 

    [![](tab-bars-images/tab05.png "Select Tab")](tab-bars-images/tab05.png#lightbox)
1. Разработайте макет пользовательского интерфейса для каждой области содержимого Катерогиес обычным образом, добавив элементы пользовательского интерфейса в конструктор iOS.
1. Предоставьте все необходимые события для работы с элементами управления пользовательского интерфейса C# в коде.
1. Назовите все элементы управления пользовательского интерфейса, которые необходимо C# предоставить в коде.
1. Сохраните изменения.

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. Запустите новое приложение Xamarin. tvOS и выберите **tvOS** > **приложение** > **приложение с вкладками**: 

    [![](tab-bars-images/tab02vs.png "Select Tabbed App")](tab-bars-images/tab02vs.png#lightbox)
1. Следуйте всем запросам, чтобы создать новое решение Xamarin. tvOS.
1. В **Обозреватель решений**дважды щелкните файл `Main.storyboard` и откройте его для редактирования.
1. Чтобы изменить **значок** или **заголовок** для данной категории, выберите **элемент панели вкладок** для **контроллера представления** в разделе **Структура документа**:

    [![](tab-bars-images/tab03avs.png "The View Controller in the Document Outline")](tab-bars-images/tab03avs.png#lightbox)
1. Затем задайте необходимые свойства на **вкладке мини** -приложение **обозревателя свойств**. 

    [![](tab-bars-images/tab03vs.png "The Widget Tab")](tab-bars-images/tab03vs.png#lightbox)
1. Чтобы добавить новую категорию (вкладку), перетащите **контроллер представления** из **панели элементов** и поместите его в область конструктора: 

    [![](tab-bars-images/tab04vs.png "A View Controller")](tab-bars-images/tab04vs.png#lightbox)
1. Щелкните элемент управления и перетащите его из **контроллера представления вкладок** в новый **контроллер представления**.
1. В контекстном меню выберите **вид контроллеры** , чтобы добавить новое представление в виде вкладки (категория): 

    [![](tab-bars-images/tab05vs.png "Select Tab")](tab-bars-images/tab05vs.png#lightbox)
1. Разработайте макет пользовательского интерфейса для каждой области содержимого Катерогиес обычным образом, добавив элементы пользовательского интерфейса в конструктор iOS.
1. Предоставьте все необходимые события для работы с элементами управления пользовательского интерфейса C# в коде.
1. Назовите все элементы управления пользовательского интерфейса, которые необходимо C# предоставить в коде.
1. Сохраните изменения.

-----

> [!IMPORTANT]
> Хотя можно назначить события, такие как `TouchUpInside`, элементу пользовательского интерфейса (например, `UIButton`) в конструкторе iOS, он никогда не будет вызываться, так как Apple TV не имеет сенсорного экрана или поддержки сенсорных событий. При создании обработчиков событий для элементов пользовательского интерфейса tvOS всегда следует использовать событие `Primary Action`.

Дополнительные сведения о работе с раскадровками см. в статье [Hello, tvOS краткое руководство по началу работы](~/ios/tvos/get-started/hello-tvos.md). 

<a name="Working-with-Tab-Bars" />

## <a name="working-with-tab-bars"></a>Работа с панелями вкладок

Используйте свойство `Items` `UITabBar`, чтобы получить доступ к коллекции `UITabBarItems` он содержит нулевое (0) индексированный массив. Свойство `SelectedItem` вернет текущую выбранную вкладку (Category) в качестве `UITabBarItem`.

<a name="Working-with-Tab-Bar-Items" />

## <a name="working-with-tab-bar-items"></a>Работа с элементами панели вкладок

Чтобы отобразить значок на заданной вкладке (красный овал с белым текстом), используйте следующий код:

```csharp
// Display a badge
TabBar.Items [2].BadgeValue = "10";
```

При выполнении этого действия будут получены следующие результаты:

[![](tab-bars-images/tab06.png "A Tab Bar Item with badge")](tab-bars-images/tab06.png#lightbox)

Используйте свойство `Title` `UITabBarItem`, чтобы изменить заголовок и свойство `Image`, чтобы изменить значок.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье рассматривается проектирование и работа с контроллером панели вкладок в приложении Xamarin. tvOS.

## <a name="related-links"></a>Связанные ссылки

- [Примеры tvOS](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.iOS+tvOS)
- [tvOS](https://developer.apple.com/tvos/)
- [Руководства по tvOSму интерфейсу](https://developer.apple.com/tvos/human-interface-guidelines/)
- [Руководством по программированию приложений для tvOS](https://developer.apple.com/library/prerelease/tvos/documentation/General/Conceptual/AppleTV_PG/)
