---
title: "Публикации в магазине приложений Apple TV"
description: "В этой статье показано, как настройка, построение и публикация приложения Xamarin.tvOS для распространения через ТВ Apple App Store. Он включает Пошаговое руководство, описывается Подготовка приложения для распространения, как использовать средства Apple для отправки приложения для просмотра и, наконец, как публиковать приложение в магазине приложений Apple TV."
ms.topic: article
ms.prod: xamarin
ms.assetid: 52448C93-DC19-40FA-BF8C-608AE680FF49
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 03/16/2017
ms.openlocfilehash: a3c9c76ce173606d206166b2bcfb9760eb5634ac
ms.sourcegitcommit: 6cd40d190abe38edd50fc74331be15324a845a28
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/27/2018
---
# <a name="publishing-to-the-apple-tv-app-store"></a>Публикации в магазине приложений Apple TV

_В этой статье показано, как настройка, построение и публикация приложения Xamarin.tvOS для распространения через ТВ Apple App Store. Он включает Пошаговое руководство, описывается Подготовка приложения для распространения, как использовать средства Apple для отправки приложения для просмотра и, наконец, как публиковать приложение в магазине приложений Apple TV._

В порядке распространения приложений на всех устройствах Apple TV, Apple требует, чтобы опубликованных через приложение *магазина Apple TV*, делая корзину централизованно для tvOS приложений App Store. Разработчики многих типов приложений можно прописными значительных успех этой одной точки распространения. Apple App Store ТВ является готовое решение, предложения распространения "и" Оплата "систем разработки приложений.

Процесс отправки приложения в магазине приложений Apple TV включает в себя:

1. Создание *идентификатора приложения* и выбор *прав*.
2. Создание *профиля подготовки распространения*.
3. Для создания приложений с помощью этого профиля.
4. Отправка приложения через *iTunes Connect*.


В этой статье мы рассмотрим все шаги, необходимые для подготовки, сборки и отправке приложения для магазина Apple TV распространения.

<a name="Before_you_Submit" />

## <a name="before-you-submit-an-application"></a>Действия перед отправкой приложения

После отправки приложения для публикации в магазине приложений Apple TV перебирает процесс анализа, Apple, чтобы обеспечить соответствие Apple рекомендации по качеству и содержимого. Если ваше приложение не соответствует этим правилам, компания Apple отклоняет его. В таком случае вам следует устранить указанные компанией Apple несоответствия и отправить приложение на проверку повторно.
Таким образом, чтобы максимально повысить шансы успешно пройти проверку Apple, ознакомьтесь с приведенными ниже рекомендациями и постарайтесь адаптировать свое приложение к ним. Рекомендации Apple можно найти по адресу [приложения хранилища просмотрите рекомендации](https://developer.apple.com/appstore/resources/approval/guidelines.html) и [Подготовка Your App отправки для нового Apple TV](https://developer.apple.com/tvos/submit/).

Прежде чем отправлять приложение, проверьте некоторые моменты:

1. Убедитесь, что описание приложения соответствует функции, включенные в приложении.
2. Тест, приложение не приводит к сбою при обычном использовании. Это включает использование на каждом устройстве Apple TV, обслуживаемых.


Apple также поддерживает список магазина Apple TV советы по отправке. Вы можете ознакомиться с ними на странице [Распространение через App Store](https://developer.apple.com/appstore/resources/submission/tips.html).

<a name="Configuring_your_Application_in_iTunes_Connect" />

## <a name="configuring-your-application-in-itunes-connect"></a>Настройка приложения в iTunes Connect

[iTunes Connect](https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa) — это набор веб-средства, помимо прочего, управление tvOS приложений в магазине приложений Apple TV. Xamarin.tvOS приложения должен быть правильно указаны и настраиваются в iTunes Connect, прежде чем его можно отправить в Apple для просмотра и в конечном счете, освобождается для продажи или как бесплатное приложение в магазине приложений Apple TV.

Выполните следующие действия:

1. Убедитесь, что в разделе **Соглашения, налоги и банковские операции** iTunes Connect установлены актуальные соглашения, относящиеся к коммерческому или бесплатному распространению приложений iOS.
2. Создайте новый **iTunes Connect записи** для приложения и указать его **отображаемое имя** (как показано в магазине приложений Apple TV).
3. Установите **цену продажи** или укажите, что приложение будет распространяться на бесплатной основе.
4. Укажите **значка приложения магазина** (большой значок) и снимки экрана приложения в действие на устройствах Apple TV, он поддерживает. См. наш [работы со значками и образы](~/ios/tvos/app-fundamentals/icons-images.md) руководство для получения дополнительных сведений.
5. Укажите команду clear сжатой **описание** приложения, включая его возможности и преимущества для конечного пользователя.
6. Укажите **категории**, **подкатегории**, и **ключевые слова** помочь найти приложение в магазине приложений Apple TV пользователю.
7. Укажите URL-адреса для **связи** и **получения поддержки** на вашем веб-сайте в соответствии с требованиями Apple.
8. Установите свое приложение **Оценка**, который используется для родительского контроля в магазине приложений Apple TV.
9. Настройте дополнительные технологии App Store, такие как **Game Center** и **покупки в приложении**.

Дополнительные сведения см. в разделе нашей [настройки вашей tvOS приложения в iTunes Connect](~/ios/tvos/deploy-test/app-distribution/itunes-connect.md) документации.

<a name="Preparing_for_App_Store_Distribution" />

## <a name="preparing-for-app-store-distribution"></a>Подготовка к распространению через App Store

Для публикации приложения в магазине приложений Apple TV, необходимо сначала выполнить его сборку для распространения, которая включает в себя множество действий. Ниже приведены все необходимые для подготовки приложения Xamarin.tvOS публикации, чтобы он может быть построен и отправить его в магазине приложений Apple TV для ознакомления и выпуска.

<a name="Provisioning_for_Application_Services" />

### <a name="provisioning-for-application-services"></a>Подготовка служб приложений

Apple предоставляет набор специальных служб приложений, также называемый права, которые могут быть активированы для tvOS приложения при создании уникального идентификатора для него. При использовании пользовательских прав или не будет по-прежнему необходимо создать уникальный идентификатор для приложения Xamarin.tvOS перед публикацией в магазине приложений Apple TV.

Чтобы создать идентификатор приложения и при необходимости выбрать права для него с помощью веб-портала подготовки для iOS компании Apple, выполните следующие действия:

1. Выберите **подготовки** > **разработки**.
2. Нажмите кнопку **+** и заполните поля **Name** (Имя) и **Bundle ID** (Идентификатор пакета) для нового приложения.
3. Прокрутите до нижней части экрана и выберите любой **службы приложений** , необходимую для приложения Xamarin.tvOS.
4. Нажмите кнопку **Continue** (Продолжить) и создайте новый идентификатор приложения, следуя инструкциям на экране.

Помимо выбора и настройки необходимых служб приложения, при определении ваш код приложения, необходимо также настроить идентификатор приложения и права в проекте Xamarin.tvOS, изменив оба `Info.plist` и `Entitlements.plist` файлов.

Выполните следующие действия в Visual Studio для Mac:

1. В **обозревателе решений** дважды щелкните файл `Info.plist`, чтобы открыть его для редактирования.
2. В **tvOS целевого приложения** статьи, введите имя для вашего приложения и введите **идентификатор пакета** , созданный при определении код приложения.
3. Сохраните изменения в файле `Info.plist`.
4. В **обозревателе решений** дважды щелкните файл `Entitlements.plist`, чтобы открыть его для редактирования.
5. Выберите и настройте права, необходимые для приложения Xamarin.tvOS, чтобы они соответствовали установки копирования выше, если определен идентификатор приложения.
6. Сохраните изменения в файле `Entitlements.plist`.

Подробные инструкции см. в нашей документации по [подготовке служб приложений](~/ios/get-started/installation/device-provisioning/manual-provisioning.md#appservices). Хотя этот документ был написан для операций ввода-вывода, те же шаги используются для подготовки приложения Xamarin.tvOS.

<a name="Setting_the_Apps_Icons_and_Launch_Screens" />

### <a name="setting-the-apps-icons-launch-image-and-top-shelf-image"></a>Настройка значков приложения, запуска и верхняя Полка изображения

Для tvOS приложения должен быть подтвержден Apple для включения в магазине приложений Apple TV требуются соответствующие значки, запуска и верхней Полка изображения для всех устройств Apple TV, которые будут выполняться на. Требуется добавим необходимые активы изображений, который будет скомпилирован в `Assets.car` файла и включенные в пакет Xamarin.tvOS приложения перед его отправкой в iTunes Connect.

Подробные инструкции см. в разделе нашей [работы со значками и образы](~/ios/tvos/app-fundamentals/icons-images.md) документации.

<a name="Creating_and_Installing_a_Distribution_Profile" />

### <a name="creating-and-installing-a-distribution-profile"></a>Создание и установка профиля распространения

использует tvOS *профили подготовки* управляющих развертыванием сборки конкретного приложения. Эти файлы содержат информацию о сертификате, который используется для подписывания приложения, *идентификатор приложения*, а также сведения о том, где можно устанавливать приложение. Для разработки и динамического распространения в профиль подготовки также включается список разрешенных устройств, на которых можно развертывать приложение. Тем не менее для распространения магазина Apple TV только сведения о сертификатах и приложения идентификатор включаются, так как единственный общедоступен в магазине приложений Apple TV.

Чтобы выполнить подготовку на портале подготовки для iOS компании Apple, выполните следующие действия:

1.  Выберите **Provisioning** > **Distribution** (Подготовка > Распространение).
2.  Нажмите кнопку  **+**  кнопку и выберите тип профиля распределения, который требуется создать как **магазина Apple TV**.
3.  Выберите в раскрывающемся списке **App ID** (Идентификатор приложения), для которого требуется создать профиль распространения.
4.  Выберите сертификат, необходимый для подписи приложения.
5.  Заполните поле **Name** (Имя) для нового элемента **Distribution Profile** (Профиль распространения) и создайте профиль.
6.  Обновление списка доступных профилей в Xcode.
7.  Выберите распределение подготовительного профиля в Visual Studio для **App Store** _конфигурация построения_.

Подробные инструкции см. в разделах [Создание профиля распространения](~/ios/deploy-test/app-distribution/app-store-distribution/index.md#creatingprofile) и [Выбор профиля распространения в проекте Xamarin.iOS](~/ios/deploy-test/app-distribution/app-store-distribution/index.md#selectprofile). Опять же этих двух документах характерные для операций ввода-вывода, но тот же метод используется для tvOS приложений.


<a name="Setting_the_Build_Configuration_for_your_Application" />

### <a name="setting-the-build-configuration-for-your-application"></a>Настройка конфигурации сборки для приложения

По умолчанию при создании нового приложения Xamarin.tvOS _конфигураций построения_ автоматически создается для обоих **отладки** и **выпуска** развертывания. Прежде чем сделать последнего построения приложения, который будет отправлен в Apple, существует несколько изменений, необходимо будет внести в базу **выпуска** конфигурации.

Выполните следующие действия:

1. Щелкните правой кнопкой мыши **имя проекта** в **обозревателе решений** "и" Выбор **параметры** открыть их для редактирования.
2. При разработке проектов для конкретной версии tvOS, выберите его в списке **tvOS построения** > **iOS SDK версии**. Для предварительной версии tvOS поддержки, оставьте это значение равным **по умолчанию**.
3. Связывание сокращает общий размер приложения распространяемого путем удаления неиспользуемых классы методы, свойства, т. д. и в большинстве случаев следует оставить значение по умолчанию из **ссылку framework SDK только**. В некоторых ситуациях, например, если с помощью некоторых библиотеки сторонних производителей, возможно, придется это значение равно **не связать** для предотвращения удаления необходимых элементов.
4. Отправка приложения Xamarin.tvOS, необходимо использовать LLVM оптимизирующий компилятор. Убедитесь, что **использовать LLVM, оптимизация компилятора** флажок под **выпуска** конфигурации.
5. Apple также требуется использование bitcode tvOS приложений. Под **выпуска** конфигурации, добавьте `--bitcode=asmonly` для **mtouch дополнительные аргументы** поле.
6. **Файлы изображений PNG оптимизировать для iOS** флажок следует проверить, как это поможет дальнейших уменьшить размер конечного результата приложений.
7. Отладка должна *не* быть включена, как это сделает сборки без необходимости большего размера.


<a name="Building_and_Submitting_the_Distributable" />

## <a name="building-and-submitting-the-distributable"></a>Построение и отправка распространяемых файлов

Вместе с приложением Xamarin.tvOS правильно настроен теперь вы готовы сделать окончательного распространения сборки, который будет отправлен в Apple для ознакомления и выпуска.

#### <a name="build-your-archive"></a>Построение архива

1. Выберите конфигурацию **Выпуск | Устройство** в Visual Studio для Mac:

    ![](app-store-publishing-images/buildxs01new.png "Выберите конфигурации выпуска")
2. В меню **Сборка** выберите **Архивировать для публикации**:

    [ ![](app-store-publishing-images/buildxs02new.png "Выберите "Архивирование для публикации"")](app-store-publishing-images/buildxs02new.png)
3. После создания архива появится представление **Архивы**:

    [ ![](app-store-publishing-images/buildxs03new.png "Представление архивы")](app-store-publishing-images/buildxs03new.png)

#<a name="3-sign-and-distribute-your-app"></a>&#3;# подписание и распространение приложения

Каждый раз при сборке приложения для архивирования автоматически открывается представление *Архивы*, где отображаются все заархивированные проекты, сгруппированные по решениям. По умолчанию в этом представлении отображаются только открытые на данный момент решения. Чтобы просмотреть все решения с архивами, выберите параметр **Показать все архивы**.

Рекомендуется хранить архивы, которые были развернуты для клиентов (развертывания App Store или корпоративные развертывания), чтобы при необходимости впоследствии отображать любую получаемую отладочную информации.

Чтобы подписать приложение и подготовить его к распространению, выполните следующие действия:

1. Выберите **подписание и распространение...** , приведенный ниже:

    [ ![](app-store-publishing-images/buildxs04new.png ", Выберите theSign и распределить...")](app-store-publishing-images/buildxs04new.png)
2. Откроется мастер публикации. Выберите **App Store** в качестве канала распространения, чтобы создать пакет, и откройте загрузчик приложений:

    [ ![](app-store-publishing-images/distribute01.png "Выберите канал распространения App Store")](app-store-publishing-images/distribute01.png)
3. На экране профиль подготовки выберите удостоверения подписи и соответствующий профиль подготовки или переподписать с другим удостоверением.

    [ ![](app-store-publishing-images/distribute02.png "Выберите удостоверение подписывания и соответствующий профиль подготовки")](app-store-publishing-images/distribute02.png)
4. Проверьте сведения о пакете и затем нажмите кнопку **Опубликовать**, чтобы сохранить пакет `.ipa`:

    [ ![](app-store-publishing-images/distribute03.png "Проверьте сведения о пакете")](app-store-publishing-images/distribute03.png)
5. После сохранения файла `.ipa` ваше приложение готово для загрузки в iTunes Connect с помощью загрузчика приложений:

    [ ![](app-store-publishing-images/distribute04.png "Передан iTunes подключиться через загрузчик приложения")](app-store-publishing-images/distribute04.png)

После того как была создана и архивирована сборка для распространения, все готово для отправки приложения в iTunes Connect.

<a name="Submitting_Your_App_to_Apple" />

## <a name="submitting-your-app-to-apple"></a>Отправка приложения в Apple

После создания сборки для распространения все готово к тому, чтобы отправить ваше приложение для iOS на проверку в Apple и выпустить его в App Store.


Архив рабочего процесса в Visual Studio для Mac загрузчик приложения автоматически открывается, после сохранения `.ipa`:

2. Щелкните *Deliver Your App* (Доставить приложение) и нажмите кнопку *Choose* (Выбрать):

    [ ![](app-store-publishing-images/publishvs01.png "Выбор команды "Deliver Your App" (Доставить приложение)")](app-store-publishing-images/publishvs01.png)

3. Выберите ранее созданный ZIP- или IPA-файл и нажмите кнопку **OK**.
4. Загрузчик приложения выполнит проверку файла:

    [ ![](app-store-publishing-images/publishvs02.png "Экран проверки загрузчика приложений")](app-store-publishing-images/publishvs02.png)
5. Нажмите кнопку *Next* (Далее). Приложение будет проверено на соответствие требованиям App Store:

    [ ![](app-store-publishing-images/publishvs03.png "Приложения, проверяемого в хранилище приложения")](app-store-publishing-images/publishvs03.png)
6. Нажмите кнопку **Send** (Отправить), чтобы отправить приложение на проверку в компанию Apple.
7. После успешной загрузки появится соответствующее сообщение загрузчика приложений.

<a name="iTunes_Connect_Status" />

### <a name="itunes-connect-status"></a>Статус iTunes Connect

При входе в iTunes Connect и выберите приложение из списка доступных приложений, состояние в iTunes Connect теперь должно показывать, в том, что это **ожидание проверки** (временно считывать **отправить получил** во время его обработки):

[ ![](app-store-publishing-images/image21.png "Состояние в iTunes подключения, показывающий время ожидания проверки")](app-store-publishing-images/image21.png)

<a name="Troubleshooting" />

## <a name="troubleshooting"></a>Устранение неполадок

Если возникают проблемы с отправкой Xamarin.tvOS приложения в магазине приложений Apple TV, см. в разделе нашей [Устранение неполадок](~/ios/tvos/troubleshooting.md) руководства. Он содержит несколько известных проблем, которые могут возникнуть и способы их решения приведены в Xamarin.tvOS.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье представлены пошаговые инструкции по настройке, сборка и отправка приложения для магазина Apple TV публикации. Сначала рассматриваются действия по созданию и установке профиля подготовки распространения. Далее он рассмотрены способы использования Visual Studio для Mac для создания сборки распространения. Наконец он вы узнали, как используемый для отправки приложения в магазине приложений Apple TV iTunes Connect и средство архив Xcode.


## <a name="related-links"></a>Связанные ссылки

- [Работа со значками и изображениями](~/ios/tvos/app-fundamentals/icons-images.md)
- [Подготовка отправки вашего приложения для новых Apple TV](https://developer.apple.com/tvos/submit/)
- [Советы по отправке в магазин приложений](https://developer.apple.com/appstore/resources/submission/tips.html)
- [Общие приложения отклонений](https://developer.apple.com/app-store/review/rejections/)
- [Рекомендации по оценке App Store](https://developer.apple.com/appstore/resources/approval/guidelines.html)
