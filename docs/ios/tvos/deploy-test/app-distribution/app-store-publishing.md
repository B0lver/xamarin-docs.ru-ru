---
title: Публикация в App Store Apple TV
description: В этом документе описывается публикация приложений для Apple TV App Store. Он описывает, как настроить, подготовить, создать и отправить приложение tvOS, созданных с помощью Xamarin.
ms.prod: xamarin
ms.assetid: 52448C93-DC19-40FA-BF8C-608AE680FF49
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/16/2017
ms.openlocfilehash: 73ee7fc3c28fc7a8476010e8bf7567b3e5ef590d
ms.sourcegitcommit: 7ccc7a9223cd1d3c42cd03ddfc28050a8ea776c2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/13/2019
ms.locfileid: "67865088"
---
# <a name="publishing-to-the-apple-tv-app-store"></a>Публикация в App Store Apple TV

В порядке распространения приложений на всех устройствах Apple TV, Apple требует, чтобы опубликовать с помощью приложение *Apple TV App Store*, делая корзину централизованно для tvOS приложений App Store. Разработчики многих типов приложений может начинаться с прописной буквы на могут успешно эту единственную точку распространения. Store приложения Apple TV — это комплексное решение, предлагая разработчикам приложений системы распространения и оплаты.

Процесс отправки приложения в App Store Apple TV, включает в себя:

1. Создание *идентификатора приложения* и выбор *прав*.
2. Создание *профиля подготовки распространения*.
3. Для создания приложения, использующие этот профиль.
4. Отправка приложения через *iTunes Connect*.


В этой статье мы рассмотрим все шаги, необходимые для подготовки, построения и отправлять приложения для распространения Apple TV App Store.

<a name="Before_you_Submit" />

## <a name="before-you-submit-an-application"></a>Действия перед отправкой приложения

После отправки приложения для публикации в App Store Apple TV, проходит процесс рассмотрения компанией Apple, чтобы гарантировать, что он соответствует правилам Apple в отношении качества и содержимого. Если ваше приложение не соответствует этим правилам, компания Apple отклоняет его. В таком случае вам следует устранить указанные компанией Apple несоответствия и отправить приложение на проверку повторно.
Таким образом, чтобы максимально повысить шансы успешно пройти проверку Apple, ознакомьтесь с приведенными ниже рекомендациями и постарайтесь адаптировать свое приложение к ним. Требования Apple можно найти по адресу [руководства по оценке App Store](https://developer.apple.com/appstore/resources/approval/guidelines.html) и [Подготовка к отправке приложений, для новых Apple TV](https://developer.apple.com/tvos/submit/).

Прежде чем отправлять приложение, проверьте некоторые моменты:

1. Убедитесь, что описание приложения соответствует его функциональным возможностям в приложении.
2. Протестируйте приложение на отсутствие сбоев при обычном использовании. Это включает использование на каждом устройстве Apple TV, которые вы поддерживаете.


Apple также ведет список советы по отправке Apple TV App Store. Вы можете ознакомиться с ними на странице [Распространение через App Store](https://developer.apple.com/appstore/resources/submission/tips.html).

<a name="Configuring_your_Application_in_iTunes_Connect" />

## <a name="configuring-your-application-in-itunes-connect"></a>Настройка приложения в iTunes Connect

[iTunes Connect](https://itunesconnect.apple.com/WebObjects/iTunesConnect.woa) — это набор веб-средств, обеспечивающих, помимо прочего, управление приложениями tvOS на Apple TV App Store. Xamarin.tvOS приложения должен быть правильно, а настроен в iTunes Connect, прежде чем его можно отправить в Apple для просмотра и в конечном счете освобождается коммерческое или бесплатное приложение в App Store Apple TV.

Выполните следующие действия:

1. Убедитесь, что в разделе **Соглашения, налоги и банковские операции** iTunes Connect установлены актуальные соглашения, относящиеся к коммерческому или бесплатному распространению приложений iOS.
2. Создайте новый **запись iTunes Connect** для приложения и указать его **отображаемое имя** (как показано в Store приложения Apple TV).
3. Установите **цену продажи** или укажите, что приложение будет распространяться на бесплатной основе.
4. Укажите **значок App Store** (крупный значок) и снимки экрана приложения в действии, на устройствах Apple TV, он поддерживает. См. в разделе наших [работа со значками и изображениями](~/ios/tvos/app-fundamentals/icons-images.md) руководство для получения дополнительных сведений.
5. Приведите краткое **описание** приложения указанием его функциональных возможностей и преимуществ для конечного пользователя.
6. Укажите **категории**, **подкатегории**, и **ключевые слова** чтобы упростить поиск приложения в App Store Apple TV.
7. Укажите URL-адреса для **связи** и **получения поддержки** на вашем веб-сайте в соответствии с требованиями Apple.
8. Установите свое приложение **Оценка**, который используется системой родительского контроля App Store Apple TV.
9. Настройте дополнительные технологии App Store, такие как **Game Center** и **покупки в приложении**.

Дополнительные сведения см. в разделе наших [Настройка приложения tvOS в iTunes Connect](~/ios/tvos/deploy-test/app-distribution/itunes-connect.md) документации.

<a name="Preparing_for_App_Store_Distribution" />

## <a name="preparing-for-app-store-distribution"></a>Подготовка к распространению через App Store

Публикация приложения для Apple TV App Store, сначала необходимо его построения для распространения, многоэтапный процесс. Ниже Вы найдете все необходимое для подготовки приложения Xamarin.tvOS для публикации, так что он может быть построен и отправить ее в Apple TV App Store для проверки и выпуска.

<a name="Provisioning_for_Application_Services" />

### <a name="provisioning-for-application-services"></a>Подготовка служб приложений

Apple предоставляет ряд специальных служб приложений, также называемых правами, которые могут быть активированы для вашего приложения tvOS, создавая уникальный идентификатор для него. Используете ли вы настраиваемые права или нет, по-прежнему необходимо создать уникальный идентификатор для приложения Xamarin.tvOS, прежде чем его можно опубликовать на Apple TV App Store.

Чтобы создать идентификатор приложения и при необходимости выбрать права для него с помощью веб-портала подготовки для iOS компании Apple, выполните следующие действия:

1. Выберите **подготовки** > **разработки**.
2. Нажмите кнопку **+** и заполните поля **Name** (Имя) и **Bundle ID** (Идентификатор пакета) для нового приложения.
3. Прокрутите до нижней части экрана и выберите любой **службы приложений** , необходимую для приложения Xamarin.tvOS.
4. Нажмите кнопку **Continue** (Продолжить) и создайте новый идентификатор приложения, следуя инструкциям на экране.

Помимо выбора и настройки необходимых служб приложения, при определении идентификатора приложения, необходимо также настроить идентификатор приложения и права в проекте Xamarin.tvOS, изменив оба `Info.plist` и `Entitlements.plist` файлы.

Выполните следующие действия в Visual Studio для Mac:

1. В **обозревателе решений** дважды щелкните файл `Info.plist`, чтобы открыть его для редактирования.
2. В **целевая платформа приложения tvOS** раздел, введите имя для вашего приложения и введите **идентификатор пакета** , созданный при определении идентификатора приложения.
3. Сохраните изменения в файле `Info.plist`.
4. В **обозревателе решений** дважды щелкните файл `Entitlements.plist`, чтобы открыть его для редактирования.
5. Выберите и настройте права для вас Xamarin.tvOS приложения, в соответствии с настройками, установленными ранее при определении идентификатора приложения.
6. Сохраните изменения в файле `Entitlements.plist`.

Подробные инструкции см. в нашей документации по [подготовке служб приложений](~/ios/get-started/installation/device-provisioning/manual-provisioning.md#appservices). Хотя этот документ был написан для iOS, чтобы подготовить приложение Xamarin.tvOS используются те же действия.

<a name="Setting_the_Apps_Icons_and_Launch_Screens" />

### <a name="setting-the-apps-icons-launch-image-and-top-shelf-image"></a>Настройка значков приложений, изображения запуска и изображение для верхней панели

Для приложения tvOS можно было использовать Apple для включения в Store приложения Apple TV требуется верными значками, запуска и Top Shelf образы для всех устройств Apple TV, которые будут выполняться на. Будет необходимо добавить необходимые активы изображений, который будет скомпилирован в `Assets.car` файл и включенные в пакет приложения Xamarin.tvOS, перед отправкой в iTunes Connect.

Подробные инструкции см. в разделе наших [работа со значками и изображениями](~/ios/tvos/app-fundamentals/icons-images.md) документации.

<a name="Creating_and_Installing_a_Distribution_Profile" />

### <a name="creating-and-installing-a-distribution-profile"></a>Создание и установка профиля распространения

использует tvOS *профили подготовки* для управления развертыванием определенных сборок приложений. Эти файлы содержат информацию о сертификате, который используется для подписывания приложения, *идентификатор приложения*, а также сведения о том, где можно устанавливать приложение. Для разработки и динамического распространения в профиль подготовки также включается список разрешенных устройств, на которых можно развертывать приложение. Тем не менее для распространения Apple TV App Store только сертификат и идентификатор информации приложений, которые, так как — это единственный механизм для публичного распространения через App Store Apple TV.

Чтобы выполнить подготовку на портале подготовки для iOS компании Apple, выполните следующие действия:

1.  Выберите **Provisioning** > **Distribution** (Подготовка > Распространение).
2.  Нажмите кнопку **+** кнопку и выберите тип профиля распространения, который вы хотите создать как **Apple TV App Store**.
3.  Выберите в раскрывающемся списке **App ID** (Идентификатор приложения), для которого требуется создать профиль распространения.
4.  Выберите сертификат, необходимый для подписи приложения.
5.  Заполните поле **Name** (Имя) для нового элемента **Distribution Profile** (Профиль распространения) и создайте профиль.
6.  Обновите список доступных профилей в Xcode.
7.  Выбор профиля в Visual Studio для подготовки распространения **App Store** _конфигурация построения_.

Подробные инструкции см. в разделах [Создание профиля распространения](~/ios/deploy-test/app-distribution/app-store-distribution/index.md#creatingprofile) и [Выбор профиля распространения в проекте Xamarin.iOS](~/ios/deploy-test/app-distribution/app-store-distribution/index.md#selectprofile). Опять же оба эти документы относятся к iOS, но тот же метод используется для приложений tvOS.


<a name="Setting_the_Build_Configuration_for_your_Application" />

### <a name="setting-the-build-configuration-for-your-application"></a>Настройка конфигурации сборки для приложения

По умолчанию при создании нового приложения Xamarin.tvOS _конфигурациях сборки_ автоматически создается для обоих **Отладка** и **выпуска** развертывания. Прежде чем выполнить окончательную сборку приложения, которое будет отправлено в Apple, существуют определенные изменения, необходимо будет внести в базовый **выпуска** конфигурации.

Выполните следующие действия:

1. Щелкните правой кнопкой мыши **имя_проекта** в **обозревателе решений** "и" Выбор **параметры** открыть их для редактирования.
2. Если вы используете конкретную версию tvOS, выберите его в папке **сборка tvOS** > **версия пакета SDK для iOS**. Для предварительной версии поддержки tvOS, оставьте это значение равным **по умолчанию**.
3. Компоновка позволяет уменьшить общий размер приложения распространяемый путем удаления неиспользуемые методы, свойства, классы, т. д., поэтому в большинстве случаев следует оставить значение по умолчанию из **ссылку framework SDK только**. В некоторых ситуациях, например, при использовании определенных сторонних библиотек, возможно, придется это значение равно **не компоновать** для предотвращения удаления необходимый элемент.
4. Для отправки в Xamarin.tvOS приложение, необходимо использовать оптимизирующий компилятор LLVM. Убедитесь, что **использовать оптимизирующий компилятор LLVM** флажки в разделе **выпуска** конфигурации.
5. Apple также требуется использование bitcode приложения tvOS. Под **выпуска** конфигурации, добавьте `--bitcode=asmonly` для **дополнительные аргументы mtouch** поле.
6. **Файлы изображений PNG, оптимизировать для iOS** следует установить флажок, как это позволит дополнительно уменьшить размер конечных вашего приложения.
7. Отладка должна *не* включить, так как это сделает сборку без необходимости большего размера.


<a name="Building_and_Submitting_the_Distributable" />

## <a name="building-and-submitting-the-distributable"></a>Построение и отправка распространяемых файлов

Xamarin.tvOS приложение правильно настроено и теперь вы готовы к сборке окончательного распространения, который вы будете отправлять в Apple для проверки и выпуска.

#### <a name="build-your-archive"></a>Построение архива

1. Выберите конфигурацию **Выпуск | Устройство** в Visual Studio для Mac:

    ![](app-store-publishing-images/buildxs01new.png "Выбор конфигурации выпуска")
2. В меню **Сборка** выберите **Архивировать для публикации**:

    [![](app-store-publishing-images/buildxs02new.png "Выбор элемента \"Архивировать для публикации\"")](app-store-publishing-images/buildxs02new.png#lightbox)
3. После создания архива появится представление **Архивы**:

    [![](app-store-publishing-images/buildxs03new.png "Представление \"архивы\"")](app-store-publishing-images/buildxs03new.png#lightbox)

### <a name="sign-and-distribute-your-app"></a>Подписывание и распространение приложения

Каждый раз при сборке приложения для архивирования автоматически открывается представление *Архивы*, где отображаются все заархивированные проекты, сгруппированные по решениям. По умолчанию в этом представлении отображаются только открытые на данный момент решения. Чтобы просмотреть все решения с архивами, выберите параметр **Показать все архивы**.

Рекомендуется хранить архивы, которые были развернуты для клиентов (развертывания App Store или корпоративные развертывания), чтобы при необходимости впоследствии отображать любую получаемую отладочную информации.

Чтобы подписать приложение и подготовить его к распространению, выполните следующие действия:

1. Выберите **подписать и распространить...** , как показано ниже:

    [![](app-store-publishing-images/buildxs04new.png ", Выберите theSign и распространить...")](app-store-publishing-images/buildxs04new.png#lightbox)
2. Откроется мастер публикации. Выберите **App Store** в качестве канала распространения, чтобы создать пакет, и откройте загрузчик приложений:

    [![](app-store-publishing-images/distribute01.png "Выберите канал распространения App Store")](app-store-publishing-images/distribute01.png#lightbox)
3. На экране профиля подготовки выберите удостоверение подписывания и соответствующий профиль подготовки или подпишите повторно другим удостоверением:

    [![](app-store-publishing-images/distribute02.png "Выберите удостоверение подписывания и соответствующий профиль подготовки")](app-store-publishing-images/distribute02.png#lightbox)
4. Проверьте сведения о пакете и затем нажмите кнопку **Опубликовать**, чтобы сохранить пакет `.ipa`:

    [![](app-store-publishing-images/distribute03.png "Проверьте сведения о пакете")](app-store-publishing-images/distribute03.png#lightbox)
5. После сохранения файла `.ipa` ваше приложение готово для загрузки в iTunes Connect с помощью загрузчика приложений:

    [![](app-store-publishing-images/distribute04.png "Отправить в iTunes Connect с помощью загрузчика приложений")](app-store-publishing-images/distribute04.png#lightbox)

После того как была создана и архивирована сборка для распространения, все готово для отправки приложения в iTunes Connect.

<a name="Submitting_Your_App_to_Apple" />

## <a name="submitting-your-app-to-apple"></a>Отправка приложения в Apple

После создания сборки для распространения все готово к тому, чтобы отправить ваше приложение для iOS на проверку в Apple и выпустить его в App Store.


Рабочий процесс архивирования в Visual Studio для Mac откроет загрузчик приложений автоматически, после сохранения `.ipa`:

1. Щелкните *Deliver Your App* (Доставить приложение) и нажмите кнопку *Choose* (Выбрать):

    [![](app-store-publishing-images/publishvs01.png "Выбор команды \"Доставить приложение\"")](app-store-publishing-images/publishvs01.png#lightbox)

2. Выберите ранее созданный ZIP- или IPA-файл и нажмите кнопку **OK**.
3. Загрузчик приложения выполнит проверку файла:

    [![](app-store-publishing-images/publishvs02.png "Экран проверки загрузчика приложений")](app-store-publishing-images/publishvs02.png#lightbox)
4. Нажмите кнопку *Next* (Далее). Приложение будет проверено на соответствие требованиям App Store:

    [![](app-store-publishing-images/publishvs03.png "Приложение проверяется App Store")](app-store-publishing-images/publishvs03.png#lightbox)
5. Нажмите кнопку **Send** (Отправить), чтобы отправить приложение на проверку в компанию Apple.
6. После успешной загрузки появится соответствующее сообщение загрузчика приложений.

<a name="iTunes_Connect_Status" />

### <a name="itunes-connect-status"></a>Статус iTunes Connect

Если вы войдете в iTunes Connect и выберите свое приложение из списка доступных приложений, состояние в iTunes Connect должно теперь иметь состояние **ожидания проверки** (он может временно считывать **Upload Received** время обработки):

[![](app-store-publishing-images/image21.png "Состояние в iTunes Connect, отображение ожидание проверки")](app-store-publishing-images/image21.png#lightbox)

<a name="Troubleshooting" />

## <a name="troubleshooting"></a>Устранение неполадок

Если у вас возникают проблемы с отправкой Xamarin.tvOS приложения Store приложения Apple TV, см. наш [Устранение неполадок](~/ios/tvos/troubleshooting.md) руководства. Он содержит несколько известных проблем, которые могут возникнуть и способы их устранения в Xamarin.tvOS.

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье приводятся пошаговые инструкции по настройке, построению и отправке приложения для Apple TV App Store публикации. Сначала рассматриваются действия по созданию и установке профиля подготовки распространения. Далее описывается использование Visual Studio для Mac для создания сборки распространения. Наконец он показал, как использовать iTunes Connect и средство Xcode архива для отправки приложению Store приложения Apple TV.


## <a name="related-links"></a>Связанные ссылки

- [Работа со значками и изображениями](~/ios/tvos/app-fundamentals/icons-images.md)
- [Подготовка к отправке приложений для нового Apple TV](https://developer.apple.com/tvos/submit/)
- [Советы по отправке в App Store](https://developer.apple.com/appstore/resources/submission/tips.html)
- [Частые причины отклонения приложений](https://developer.apple.com/app-store/review/rejections/)
- [Руководство по оценке приложений App Store](https://developer.apple.com/appstore/resources/approval/guidelines.html)
