---
title: Внедренные платформы в Xamarin.iOS
description: В этом документе описывается совместное использование кода с внедренные платформы в приложении Xamarin.iOS. Это можно сделать с помощью средства mtouch или собственные ссылки.
ms.prod: xamarin
ms.assetid: F8C61020-4106-46F1-AECB-B56C909F42CB
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 06/05/2018
ms.openlocfilehash: b59fd7c1a9e5f528878b90e1a76fabe5a79bab81
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "60946836"
---
# <a name="embedded-frameworks-in-xamarinios"></a>Внедренные платформы в Xamarin.iOS

_В этом документе описывается, как приложения разработчики могут внедрять пользователя платформ в своих приложениях._

Под управлением iOS версии 8.0 Apple становится возможной Создание внедренные платформы, для совместного использования кода между расширения приложений и основного приложения в Xcode.

Xamarin.iOS 9.0 добавляет поддержку использования эти внедренные платформы (созданная с помощью Xcode) в приложениях Xamarin.iOS. *Он будет **не** можно создавать внедренные платформы из любого типа проектов Xamarin.iOS, использовать только существующие собственных платформ (Objective-C).*

Существует два способа для использования платформы в Xamarin.iOS:

- Передаваемый средству mtouch, платформы, добавив следующий к дополнительным аргументам mtouch в проекте **сборка iOS** параметры:

  ```csharp
  --framework:/Path/To/My.Framework
  ```

  Это должно быть задано для каждой конфигурации проекта.

- Добавление собственных ссылок в контекстном меню

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

Правой кнопкой мыши проект и обзора, чтобы добавить собственные ссылки

![](embedded-frameworks-images/xam-native-refs.png "Выберите добавить собственные ссылки в Visual Studio для Mac")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

Правой кнопкой мыши проект и обзора, чтобы добавить собственные ссылки

![](embedded-frameworks-images/vs-native-refs.png "Выберите добавить собственные ссылки в Visual Studio")

-----

  Это будет работать для всех конфигураций.

В будущих версиях Visual Studio для Mac и инструменты Xamarin для Visual Studio можно будет использовать платформы из интегрированной среды разработки (без изменение файлов проекта вручную).

Ряд образцов проектов можно найти на [github](https://github.com/rolfbjarne/embedded-frameworks)

## <a name="limitations"></a>Ограничения

- Внедренные платформы поддерживаются только в [единой](~/cross-platform/macios/unified/index.md) проекты.
- Внедренные платформы поддерживаются только в проектах с целевым объектом развертывания минимум iOS 8.0.
- Если для расширения требуется платформу embedded, то приложения-контейнера также должен иметь ссылку к .NET framework, в противном случае платформа не будут включены в пакет приложений.

## <a name="the-mono-runtime"></a>Среда выполнения Mono

Внутренне Xamarin.iOS использует эту функцию, чтобы связать со средой выполнения Mono как платформу, вместо того, чтобы среда выполнения Mono статически в каждое расширение и приложения-контейнера.

Выполняется автоматически, если приложение контейнера является единой, он содержит расширения, и в конечном развертывании — iOS 8.0 или более поздней версии.

Приложения без расширения будет по-прежнему связан со средой выполнения Mono статически, так как снижает размер для использования платформы, в том случае, если имеется только одно приложение, ссылающихся на него.

Это поведение может быть переопределен разработчиком приложения, добавив следующее в качестве аргумента дополнительных mtouch в параметрах сборки проекта iOS:

- `--mono:static`: Статически связывает с среда выполнения Mono.
- `--mono:framework`: Ссылки со средой выполнения Mono как платформу.

Один сценарий для связывания со средой выполнения Mono как платформу даже для приложений без расширения — уменьшить размер исполняемого файла, для преодоления ограничений размера, Apple накладывает на исполняемый файл. Справочник по среде выполнения Mono добавляет приблизительно 1,7 МБ на основе архитектуры (как из Xamarin.iOS 8.12, однако его зависит от различных выпусках и даже между приложениями). Платформа Mono добавляет около 2,3 МБ на архитектуру, которая означает, что для одной архитектуры приложения без каких-либо расширений, что ссылка на приложение с помощью среды выполнения Mono инфраструктуру сжать исполняемому файлу по ~1.7MB, но добавление ~2.3MB платформы, что приводит к в ~0.6MB больше приложения вместе.

