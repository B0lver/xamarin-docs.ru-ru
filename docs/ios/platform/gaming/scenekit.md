---
title: SceneKit в Xamarin.iOS
description: В этом документе описывается SceneKit 3D-сцену graph API, который упрощает работу с трехмерной графикой, Воспринимая сложности OpenGL.
ms.prod: xamarin
ms.assetid: 19049ED5-B68E-4A0E-9D57-B7FAE3BB8987
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 06/14/2017
ms.openlocfilehash: fb72e194e14f903061e1bd2dc6d04ef88ab429d4
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34786789"
---
# <a name="scenekit-in-xamarinios"></a>SceneKit в Xamarin.iOS

SceneKit — это граф 3D-сцену API, который упрощает работу с трехмерной графикой. Впервые появившийся в OS X 10.8 и теперь пришло iOS 8. С SceneKit Создание случайного трехмерных игр и впечатляющие трехмерной визуализации не требуется опыт в OpenGL. Основываясь на основные понятия граф сцены, SceneKit устраняет сложности OpenGL и OpenGL ES, поскольку его легко добавить трехмерные содержимого в приложение. Однако если вы не являетесь специалистом OpenGL, SceneKit имеет отличную поддержку для привязки непосредственно с также OpenGL. Также включает множество функций, которые дополняют трехмерной графики, такие как физический и хорошо интегрируется с несколькими другими средами Apple, как основной анимации, образ Core и Sprite Kit.

SceneKit очень легко работать. Это декларативный API-Интерфейс, обеспечивающий подготовки к просмотру. Просто настроить сцены, добавления свойств и дескрипторы SceneKit визуализации сцены.

Для работы с SceneKit создать граф сценой с помощью `SCNScene` класса. Это может быть содержит иерархию узлов, представленных экземплярами класса `SCNNode`, определение расположения в трехмерном пространстве. Каждый узел имеет свойства, такие как геометрии, освещения и материалов, которые влияют на его внешний вид, как показано на следующем рисунке:

![](scenekit-images/image7.png "Иерархия SceneKit") 

## <a name="create-a-scene"></a>Создание сцены

Чтобы сделать это может быть отображаться на экране, добавьте его в `SCNView` , назначив его свойство сцены представления. Кроме того, если вы внесли изменения в сцену `SCNView` обновится для отображения изменений.

```csharp
scene = SCNScene.Create ();
sceneView = new SCNView (View.Frame);
sceneView.Scene = scene;
```

Сцены могут включаться в файлы, экспортированные через средство моделирования трехмерной или программным путем с геометрическим примитивам. Например это создание сфере и добавить его в сцену:

```csharp
sphere = SCNSphere.Create (10.0f);
sphereNode = SCNNode.FromGeometry (sphere);
sphereNode.Position = new SCNVector3 (0, 0, 0);
scene.RootNode.AddChildNode (sphereNode);
```

## <a name="adding-light"></a>Добавление индикатор

На этом этапе сфере не будет отображать что-либо, из-за свет в сцене. Присоединение `SCNLight` экземпляров узлов создает индикаторы в SceneKit. Существует несколько типов индикаторов от различных видов направления освещения до от освещенности. Например, следующий код создает высококачественный всенаправленный light боковой части сферы:

```csharp
// omnidirectional light
var light = SCNLight.Create ();
var lightNode = SCNNode.Create ();
light.LightType = SCNLightType.Omni;
light.Color = UIColor.Blue;
lightNode.Light = light;
lightNode.Position = new SCNVector3 (-40, 40, 60);
scene.RootNode.AddChildNode (lightNode);
```

Высококачественный всенаправленный освещения выводятся распространяемый отражения, в результате чего даже освещения сортировку как освещение фонарик. Создание освещения аналогично, несмотря на то, что он имеет не направления, как он излучает одинаково во всех направлениях. Рассматривать его как модальности :) освещение

```csharp
// ambient light
ambientLight = SCNLight.Create ();
ambientLightNode = SCNNode.Create ();
ambientLight.LightType = SCNLightType.Ambient;
ambientLight.Color = UIColor.Purple;
ambientLightNode.Light = ambientLight;
scene.RootNode.AddChildNode (ambientLightNode);
```

С помощью индикатора в месте сфере теперь отображается в сцене.

![](scenekit-images/image8.png "Сферы является видимым в сцене включен")
 
## <a name="adding-a-camera"></a>Добавление веб-камеры

Добавление веб-камеры (SCNCamera) в сцену изменяет точки зрения. Шаблон для добавления камеры похож. Создайте камеры, присоединить ее к узлу и добавьте узел сцены.

```csharp
// camera
camera = new SCNCamera {
    XFov = 80,
    YFov = 80
};
cameraNode = new SCNNode {
    Camera = camera,
    Position = new SCNVector3 (0, 0, 40)
};
scene.RootNode.AddChildNode (cameraNode);
```

Как видно из кода выше SceneKit объекты могут быть созданы с помощью конструкторов и создать метод фабрики. Первый способ позволяет с помощью синтаксиса инициализатора в C#, но какой из них следует использовать зависит главным образом от предпочтений.

С камеры в месте всей сфере видимые пользователю:

![](scenekit-images/image9.png "Всего сфере видимые пользователю")
 
В сцену также можно добавить дополнительные источники света. Вот, как оно выглядит с несколько дополнительных высококачественный всенаправленный света.

![](scenekit-images/image10.png "Сферу с немного больше высококачественный всенаправленный света")
 
Кроме того, установив `sceneView.AllowsCameraControl = true`, пользователь может изменить позицию с помощью жестов касания.

### <a name="materials"></a>Материалы

Материалы создаются с помощью класса SCNMaterial. Например добавить изображение в сфере область присвоено изображение материала *Рассеянное* содержимое.

```csharp
material = SCNMaterial.Create ();
material.Diffuse.Contents = UIImage.FromFile ("monkey.png");
sphere.Materials = new SCNMaterial[] { material };
```

Это слои образа на узле, как показано ниже:

![](scenekit-images/image11.png "Иерархическое представление образ на сфере")
 
Материал может устанавливаться отвечать на другие виды слишком освещение. Например можно сделать Блестящий объект и задание его отражающий содержимое для отображения отраженный отражения, в результате чего ярко переместится в рабочей области, как показано ниже:

![](scenekit-images/image12.png "Объекта, выполненные Блестящий отраженный отражения, приведет к ярко переместится в рабочей области")
 
Материалы являются достаточно гибкими, предоставляя гораздо с небольшого фрагмента кода. Например вместо параметра изображения содержания диффузного set его содержания, отражающего свет.

```csharp
material.Reflective.Contents = UIImage.FromFile ("monkey.png");
```

Теперь monkey отображается визуально находимся в сфере, независимо от точки зрения.

### <a name="animation"></a>Анимация

SceneKit предназначен для работы с анимации. Можно создавать явного или неявного анимации и даже может отображать сцены из дерева основных компонентов анимации слоя. При создании неявное анимации, SceneKit предоставляет собственный класс перехода `SCNTransaction`.

Ниже приведен пример, который вращается сферы:

```csharp
SCNTransaction.Begin ();
SCNTransaction.AnimationDuration = 2.0;
sphereNode.Rotation = new SCNVector4 (0, 1, 0, (float)Math.PI * 4);
SCNTransaction.Commit ();
```

Можно анимировать гораздо больше, чем поворота хотя. Многие свойства SceneKit анимации. Например, следующий код выполняет анимацию материала `Shininess` увеличить отраженный отражения.

```csharp
SCNTransaction.Begin ();
SCNTransaction.AnimationDuration = 2.0;
material.Shininess = 0.1f;
SCNTransaction.Commit ();
```

SceneKit очень проста в использовании. Он предоставляет широкий набор дополнительных функций, включая ограничения, физических, декларативные действия, трехмерного текста, глубины поддержка, Sprite комплект средств для интеграции и интеграции основного изображения для других.