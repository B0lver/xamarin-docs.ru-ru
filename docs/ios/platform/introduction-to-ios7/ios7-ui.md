---
title: Обзор пользовательского интерфейса iOS 7
description: в iOS 7 введено множество изменений пользовательского интерфейса. В этой статье описываются некоторые из больших изменений, как в визуальном представлении элементов управления, так и в интерфейсах API, поддерживающих новый проект.
ms.prod: xamarin
ms.assetid: FADCEA7C-8968-42A1-9E9E-F4BBAB7BCF2C
ms.technology: xamarin-ios
author: conceptdev
ms.author: crdun
ms.date: 03/21/2017
ms.openlocfilehash: 4568b204989c3ebb89ba4441232a100678657e28
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70280659"
---
# <a name="ios-7-user-interface-overview"></a>Обзор пользовательского интерфейса iOS 7

_в iOS 7 введено множество изменений пользовательского интерфейса. В этой статье описываются некоторые из больших изменений, как в визуальном представлении элементов управления, так и в интерфейсах API, поддерживающих новый проект._

в iOS 7 основное внимание уделяется содержимому через Chrome. Элементы пользовательского интерфейса в iOS 7 разделяют Хром, удаляя атрибуты, такие как внешние границы, строки состояния и панели навигации, уменьшая объем пространства экрана, используемый представлениями содержимого. В iOS 7 содержимое предназначено для использования всего экрана.

в iOS 7 введено несколько других изменений: цвет используется для различения элементов пользовательского интерфейса, а не для таких атрибутов, как границы кнопок. Многие элементы, такие как панели навигации и строки состояния, теперь являются размытыми, полупрозрачными или прозрачными, с помощью представлений содержимого, которые делают область под ними. Эти представления содержимого отображаются через Размытые линии, что приводит к поразительности глубины в пользовательском интерфейсе.

В этой статье рассматриваются некоторые изменения в элементах пользовательского интерфейса в iOS 7, а также различные интерфейсы API, связанные с новой структурой пользовательского интерфейса.

## <a name="view-and-control-changes"></a>Просмотр и управление изменениями

Все представления в UIKit соответствуют новому внешнему интерфейсу iOS 7. В этом разделе описываются некоторые изменения этих представлений, а также связанные API, которые были изменены для поддержки нового пользовательского интерфейса.

### <a name="uibutton"></a>UIButton

Кнопки, созданные из `UIButton` класса, теперь не имеют границ и не имеют фона по умолчанию, как показано ниже:

 ![](ios7-ui-images/button.png "Пример Уибуттон")

Стиль `UIButtonType.RoundedRect` не рекомендуется к использованию. Если используется в iOS 7, `UIButtonType.RoundedRect` будет `UIButtonType.System` использоваться, что приведет к созданию стиля кнопки по умолчанию без фона или видимых границ, как показано выше.

### <a name="uibarbuttonitem"></a>уибарбуттонитем

Аналогично `UIButton`, кнопки на линейчатых диаграммах также отображаются без границ, по `UIBarButtonItemStyle.Plain` умолчанию используется новый стиль, показанный ниже:

 ![](ios7-ui-images/barbuttonplain.png "Пример Уибарбуттонитем")

Кроме того, `UIBarButtonItemStyle.Bordered` стиль является устаревшим. Параметр `UIBarButtonItemStyle.Bordered` в iOS 7 приведет к `UIBarButtonItemStyle.Plain` применению стиля.

Стиль `UIBarButtonItemStyle.Done` не рекомендуется к использованию. Однако он также создает кнопку без рамки, только с полужирным начертанием текста, как показано ниже:

 ![](ios7-ui-images/barbuttondone.png "Пример Уибарбуттонитем в стиле «готово»")

### <a name="uialertview"></a>уиалертвиев

Помимо изменения стиля для нового вида iOS 7, представления предупреждений больше не поддерживают настройку через Подпредставление. Несмотря `UIAlertView` на то, что `UIView`наследуется от `UIAlertView` , вызов метода `AddSubview` в не оказывает никакого влияния. Рассмотрим следующий пример кода:

```csharp
UIBarButtonItem button = new UIBarButtonItem ("Bar Button", UIBarButtonItemStyle.Plain, (s,e) =>
{
    UIAlertView alert = new UIAlertView ("Title", "Message", null, "Cancel", "OK");

    alert.AddSubview (new UIView () {
        Frame = new CGRect(50, 50,100, 100),
        BackgroundColor = UIColor.Green
    });

    alert.Show ();
});
```

В результате будет создано стандартное представление предупреждений с проигнорированным вложенным представлением, как показано ниже:

 ![](ios7-ui-images/alert.png "Пример Уиалертвиев")
 
 Примечание. Уиалертвиев в iOS 8 устарел. Ознакомьтесь с рецептом [контроллера предупреждений](https://github.com/xamarin/recipes/tree/master/Recipes/ios/standard_controls/alertcontroller) об использовании представления предупреждений в iOS 8 и более поздних версиях.

### <a name="uisegmentedcontrol"></a>уисегментедконтрол

Сегментированные элементы управления в iOS 7 являются прозрачными и поддерживают цвет оттенка. Цвет оттенка используется для цвета текста и границы. При выборе сегмента цвет переключается между фоном и текстом, а цвет оттенка используется для выделения выбранного сегмента, как показано ниже:

 ![](ios7-ui-images/segmentedcontrol.png "Пример Уисегментедконтрол")

Кроме того, `UISegmentedControlStyle` в iOS 7 не рекомендуется использовать.

### <a name="picker-views"></a>Представления средства выбора

API для представлений средств выбора в основном не изменился; Однако руководства по проектированию iOS 7 теперь должны быть представлены в виде встроенных представлений, а не как представления ввода, анимированные в нижней части экрана, или через новый контроллер, помещенный в стек контроллера навигации, как в предыдущих версиях iOS. Это можно увидеть в приложении системного календаря:

 ![](ios7-ui-images/inlinepicker.png "Это можно увидеть в системном приложении календаря.")

### <a name="uisearchdisplaycontroller"></a>уисеарчдисплайконтроллер

Панель поиска теперь отображается внутри панели навигации, если `UISearchDisplayController.DisplaysSearchBarInNavigationBar` свойство имеет значение true. Если задано значение false (по умолчанию), панель навигации скрывается при отображении контроллера поиска.

На следующем снимке экрана показана панель поиска `UISearchDisplayController`в:

 ![](ios7-ui-images/searchbar.png "Пример Уисеарчдисплайконтроллер")

### <a name="uitableview"></a>UITableView

Интерфейсы API `UITableView` в основном не меняются, однако стиль был значительно изменен в соответствии с новым дизайном пользовательского интерфейса. Внутренняя иерархия представлений также немного отличается. Это изменение не повлияет на большинство приложений, но его следует учитывать.

#### <a name="grouped-table-style"></a>Стиль сгруппированной таблицы

Измененный стиль группировки обновлен, содержимое теперь расширяется до границ экрана, как показано ниже:

 ![](ios7-ui-images/table1.png "Пример стиля сгруппированной таблицы")

#### <a name="separatorinset"></a>сепараторинсет

Разделители строк теперь можно сделать отступами, задав `UITableVIewCell.SeparatorInset` свойство. Например, следующий код используется для отступа ячеек от левого края:

```csharp
cell.SeparatorInset = new UIEdgeInsets (0, 50, 0, 0);
```

Это создает в представлении таблицы с отступами ячейки, как показано ниже:

 ![](ios7-ui-images/separatorinset.png "Пример Уитаблевиев Сепараторинсет")

#### <a name="table-button-styles"></a>Стили кнопок таблицы

Различные кнопки, используемые в табличных представлениях, были изменены. На следующем снимке экрана представлено табличное представление в режиме редактирования:

 ![](ios7-ui-images/table2.png "На этом снимке экрана представлено табличное представление в режиме редактирования.")

### <a name="additional-control-changes"></a>Дополнительные изменения элементов управления

Другие элементы управления UIKit также изменились, включая ползунки, переключатели и пошаговые инструкции. Эти изменения являются исключительно визуальным. Дополнительные сведения см. в [руководстве по переходу пользовательского интерфейса в iOS 7](https://developer.apple.com/library/prerelease/ios/documentation/UserExperience/Conceptual/TransitionGuide/index.html)для Apple.

## <a name="general-user-interface-changes"></a>Общие изменения пользовательского интерфейса

В дополнение к изменениям в UIKit в iOS 7 появились разнообразные визуальные изменения в пользовательском интерфейсе, включая:

- Содержимое во весь экран
- Внешний вид панели
- Цвет оттенка

<a name="fullscreen" />

### <a name="full-screen-content"></a>Содержимое во весь экран

iOS 7 предназначена для того, чтобы позволить приложениям использовать преимущества всего экрана. Теперь контроллеры представлений перекрываются строкой состояния и панелью навигации, если она существует, а не ниже состояния и панелей навигации.

При подготовке приложения для iOS 7 можно выполнить повторное сопоставление подпросмотров с помощью *Interface Builder* или *конструктора Xamarin iOS*. Можно также использовать один из новых API-интерфейсов для программной поддержки содержимого в полноэкранном режиме. Эти API-интерфейсы представлены ниже.

#### <a name="toplayoutguide-and-bottomlayoutguide"></a>Топлайаутгуиде и Боттомлайаутгуиде

 `TopLayoutGuide`и `BottomLayoutGuide` служат в качестве ссылки для того, где должны начинаться или заканчиваться представления, чтобы содержимое не перекрыто полупрозрачной `UIKit` полосой, как показано в следующем примере:

 [![](ios7-ui-images/clipped.png "Образец содержимого, который не перекрывается полупрозрачной UIKit полосой")](ios7-ui-images/clipped.png#lightbox)

Эти API-интерфейсы можно использовать для вычисления смещения представления в верхней или нижней части экрана, а также для настройки размещения содержимого соответствующим образом.

```csharp
public override void ViewDidLayoutSubviews ()
{
    base.ViewDidLayoutSubviews ();

    if (UIDevice.CurrentDevice.CheckSystemVersion (7, 0)) { 
        nfloat displacement_y = this.TopLayoutGuide.Length;

        //load subviews with displacement
    }

}
```

Мы можем использовать вычисленное выше значение для задания `ImageView`смещения в верхней части экрана, чтобы было видно всего изображение:

 [![](ios7-ui-images/good2.png "Пример смещения Имажевиевс в верхней части экрана")](ios7-ui-images/good2.png#lightbox)

См. [имажевиевер](https://docs.microsoft.com/samples/xamarin/ios-samples/ios7-ui-updates/) для работы с примером.

Значение смещения создается динамически после добавления представления в иерархию, поэтому попытка чтения `TopLayoutGuide` и `BottomLayoutGuide` значения в `ViewDidLoad` возвратит 0. Вычислите значение после загрузки представления, например, в `ViewDidLayoutSubviews`.

> [!IMPORTANT]
> `TopLayoutGuide`и `BottomLayoutGuide` не рекомендуются в iOS 11 в пользу новой защищенной области. Компания Apple объявила о том, что использование защищенной области совместимо с iOS версии более ранней, чем iOS 11. Дополнительные сведения см. в статье [Обновление приложения для iOS 11](~/ios/platform/introduction-to-ios11/updating-your-app/visual-design.md#fullscreen) .

#### <a name="edgesforextendedlayout"></a>еджесфорекстендедлайаут

Этот API указывает, какие края представления должны быть расширены на весь экран, независимо от линейчатой полупрозрачность. В iOS 7 панели навигации и панели инструментов отображаются в виде слоев над представлением контроллера, в отличие от предыдущих версий iOS, где они не занимали одно и то же пространство. Приложение для фото в iOS 7 показывает значение `UIViewController.EdgesForExtendedLayout` по умолчанию,. `UIRectEdge.All` Этот параметр заполняет все четыре края в представлении содержимым, создавая перекрывающиеся и полноэкранные эффекты:

 [![](ios7-ui-images/photos.png "Пример Еджесфорекстендедлайаут")](ios7-ui-images/photos.png#lightbox)

Касание изображения приводит к удалению отрезков и отображению изображения в полноэкранном режиме:

 [![](ios7-ui-images/photos2.png "Еджесфорекстендедлайаут с удаленными полосами")](ios7-ui-images/photos2.png#lightbox)

Поскольку содержимое в полноэкранном режиме является значением по умолчанию, приложения, настроенные для iOS 6, будут иметь часть представления, как показано на снимке экрана ниже:

 [![](ios7-ui-images/clipped.png "Приложения, настроенные для iOS 6, будут иметь отсеченную часть представления, как на этом снимке экрана")](ios7-ui-images/clipped.png#lightbox)

`UIViewController.EdgesForExtendedLayout` Изменение свойства регулируется для этого поведения. Можно указать, что представление не может заполнять границы, поэтому наше представление не будет отображать содержимое в пространстве, занятом навигацией или панелями инструментов (в каждой ориентации):

```csharp
if (UIDevice.CurrentDevice.CheckSystemVersion (7, 0)) { 
    this.EdgesForExtendedLayout = UIRectEdge.None;
}
```

В нашем приложении мы увидим, что представление снова перемещается, поэтому отображается всего изображение:

 [![](ios7-ui-images/good.png "Пример с видимым целым изображением")](ios7-ui-images/good.png#lightbox)

Обратите внимание, что хотя воздействие `TopLayoutGuide/BottomLayoutGuide` API `EdgesForExtendedLayout` -интерфейсов и аналогично, они предназначены для того, чтобы заполнять разные цели. Изменение значения по умолчанию может привести к исправлению обрезанных представлений в приложениях, предназначенных для iOS 6, но хороший дизайн iOS 7 должен поддерживать полноэкранный Aesthetic и обеспечивать полноэкранный просмотр, `TopLayoutGuide` использующий и `EdgesForExtendedLayout` `BottomLayoutGuide`чтобы правильно разместить содержимое, которое должно работать в удобном для пользователя месте.

См. [имажевиевер](https://docs.microsoft.com/samples/xamarin/ios-samples/ios7-ui-updates/) для работы с примером.

### <a name="status-and-navigation-bars"></a>Состояние и панели навигации

Строка состояния и панели навигации отображаются с прозрачностью. Строки состояния прозрачны, тогда как панели инструментов и панели навигации полупрозрачны и размыты, чтобы передать чувство глубины в пользовательском интерфейсе. На следующем снимке экрана показано такое размытие и прозрачность, где синий цвет фона представления коллекции отображается как состояние и панели навигации, давая им светло-синий вид:

 ![](ios7-ui-images/transparent-navbar.png "Пример состояния и размытие для панели навигации")

#### <a name="status-bar-styles"></a>Стили строки состояния

Кроме размытия и прозрачности, передний план строки состояния может быть либо светлым, либо темным (по умолчанию — темным). Стиль строки состояния можно задать из контроллера представления. Контроллер представления также может задавать, отображается ли строка состояния как скрытая или отображаемая.

Например, следующий код переопределяет `PreferredStatusBarStyle` метод контроллера представления, чтобы строка состояния отображала светло-передний план:

```csharp
public override UIStatusBarStyle PreferredStatusBarStyle ()
{
    return UIStatusBarStyle.LightContent;
}
```

В результате строка состояния будет выглядеть следующим образом:

 ![](ios7-ui-images/light-status-bar.png "Строка состояния образца")

Чтобы скрыть строку состояния в коде контроллера представления, переопределите `PrefersStatusBarHidden`, как показано ниже:

```csharp
public override bool PrefersStatusBarHidden ()
{
    return true;
}
```

Это скрывает строку состояния:

 ![](ios7-ui-images/status-bar-hidden.png "Строка состояния скрыта")

### <a name="tint-color"></a>Цвет оттенка

Кнопки теперь отображаются как текст, меньший цвета. Цвет текста можно контролировать с помощью нового `TintColor` свойства в. `UIView` Установка параметра `TintColor` применяет цвет ко всей иерархии представлений для представления, которое его задает. Чтобы применить приложение `TintColor`ко всему приложению, задайте его `Window`в. Можно также определить, когда цвет оттенка изменяется с `UIView.TintColorDidChange` помощью метода.

Например, на следующем снимке экрана показан результат изменения цвета оттенка в представлении контроллера навигации на сиреневый:

 ![](ios7-ui-images/tint-color.png "Цвет пурпурного оттенка в представлении контроллеров навигации")

Цвет оттенка можно применить к изображениям, если `RenderingMode` параметру `UIImageRenderingMode.AlwaysTemplate`присвоено значение.

> [!IMPORTANT]
> Цвет оттенка не может быть `UIAppearance`задан с помощью.


### <a name="dynamic-type"></a>Динамический тип

В iOS 7 пользователь может указать размер текста в параметрах системы. При использовании динамического типа шрифт изменяется динамически, чтобы выглядеть хорошо, независимо от размера. `UIFont.PreferredFontForTextStyle`следует использовать для получения шрифта, оптимизированного для управляемого пользователем размера.

## <a name="summary"></a>Сводка

В этой статье рассматриваются изменения в элементах пользовательского интерфейса в iOS 7. Он изучает несколько изменений, внесенных в представления и элементы управления в UIKit, выделяя как визуальные изменения, так и изменения связанных API. Наконец, в нем появились новые API-интерфейсы для работы с полноэкранным содержимым, новой поддержкой цвета оттенков и динамического типа.

## <a name="related-links"></a>Связанные ссылки

- [Имажевиевер (пример)](https://docs.microsoft.com/samples/xamarin/ios-samples/ios7-ui-updates)
