---
title: Введение в iOS 9
description: В этой статье представлены все новые и измененные API-интерфейсы и функции, доступные в iOS 9 для разработчиков Xamarin. iOS.
ms.prod: xamarin
ms.assetid: 4D71BBD9-B948-4B59-9AF5-F199C51CBEB3
ms.technology: xamarin-ios
author: conceptdev
ms.author: crdun
ms.date: 03/19/2017
ms.openlocfilehash: c162912d6762ac1ee9d2896f96bbb35e9fef06f4
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70285210"
---
# <a name="introduction-to-ios-9"></a>Введение в iOS 9

_В этой статье представлены все новые и измененные API-интерфейсы и функции, доступные в iOS 9 для разработчиков Xamarin. iOS._

![](images/ios9-sml.png "Логотип iOS 9")

Компания Apple добавила в iOS 9 несколько новых интерфейсов API и служб, а также множество улучшений существующих функций.

## <a name="3d-touch"></a>Трехмерные сенсорные технологии

В iOS 9 и iPhone 6S and iPhone 6S Plus трехмерное касание добавляет жесты с учетом нажима в приложения iOS. С помощью трехмерного касания приложение iPhone теперь может не только сообщать о том, что пользователь касается экрана устройства, но также может определить, какое давление оказывает воздействие на пользователя и что оно отвечает на различные уровни давления.

Трехмерное касание предоставляет следующие возможности для приложения:

- **Чувствительность к нажиму** . приложения теперь могут измерять, насколько жестко или светлое пользователь касается экрана, и пользоваться этими сведениями. Например, приложение для рисования может сделать линию более толстой или тонкой в зависимости от того, насколько тяжело пользователь касается экрана.
- **Просмотр и всплывающее окно** . Теперь приложение может взаимодействовать с данными, не переходя из текущего контекста. При нажатии на экране сложностей, они могут *просматривать* интересующий вас элемент (например, предварительный просмотр сообщения). Нажимая сложную, можно *появление* элемента.
- **Быстрые действия** — Подумайте о быстрых действиях, таких как контекстные меню, которые могут быть извлечены, когда пользователь щелкает правой кнопкой мыши элемент в классическом приложении. С помощью быстрых действий можно добавлять общие, быстрые и простые в доступе сочетания клавиш для функций в приложении со значка начального экрана на устройстве iOS.

Дополнительные сведения см. в статье [Введение в трехмерное сенсорное](~/ios/platform/3d-touch.md) руководством.

## <a name="app-transport-security"></a>Защита транспорта приложения

Новое в iOS 9, безопасность транспорта приложений (ATS) обеспечивает безопасные подключения между Интернет-ресурсами (например, серверным сервером приложения) и приложением. ATS гарантирует, что все Интернет-подключения должны быть согласованы с рекомендациями по обеспечению безопасности подключений, тем самым предотвращая случайное раскрытие конфиденциальной информации напрямую через приложение или библиотеку, которую он использует.

Поскольку ATS включена по умолчанию в приложениях, созданных для iOS 9 и OS X 10,11 (El Capitan), все подключения, использующие [нсурлконнектион](xref:Foundation.NSUrlConnection), [кфурл](xref:CoreFoundation.CFUrl) или [NSUrlSession](xref:Foundation.NSUrlSession) , будут подвергаться требованиям к безопасности ATS. Если подключения не соответствуют этим требованиям, они завершатся сбоем с исключением.

Чтобы узнать больше о ATS, ознакомьтесь с нашим руководством по [безопасности транспорта приложений](~/ios/app-fundamentals/ats.md) .

<a name="multitasking" />

## <a name="multitasking-for-ipad"></a>Многозадачность для iPad

В iOS 9 Компания Apple добавила поддержку многозадачности для одновременного выполнения двух приложений на конкретном оборудовании iPad. В результате приложения Xamarin. iOS больше не могут считать, что это единственное приложение, работающее в любой момент времени, или у них есть доступ к полноэкранному экрану или ресурсам устройства.

Многозадачность для iPad поддерживается с помощью следующих функций:

- **Скольжение** : позволяет пользователю временно запустить второе приложение iOS на панели слайдов (в правой или левой части экрана в зависимости от направления языка), которое охватывает примерно 25% основного приложения, запущенного в данный момент. Ползунок доступен только в iPad Pro, iPad Air, iPad AIR 2, iPad Mini 2, iPad Mini 3 или iPad Mini 4.
- **Представление с разделением** — на поддерживаемом оборудовании iPad (только iPad AIR 2, iPad Mini 4 и iPad Pro) пользователь может выбрать второе приложение и запустить его параллельно с выполняющимся в данный момент приложением в режиме разделения экрана. Пользователь может контролировать процент главного экрана, занимаемого каждым приложением.
- **Рисунок** . для приложений, воспроизводящих видеоматериалы, видео теперь можно воспроизводить в окне перемещаемого и изменяемого размера, которое перемещается на другие приложения, выполняющиеся на устройстве iOS. Пользователь имеет полный контроль над размером и положением этого окна. Рисунок на рисунке доступен только в iPad Pro, iPad Air, iPad AIR 2, iPad Mini 2, iPad Mini 3 или iPad Mini 4.

Чтобы узнать больше о новых возможностях многозадачности iOS 9, ознакомьтесь с руководством по [многозадачности для iPad](~/ios/platform/multitasking.md) .

## <a name="new-contacts-and-contacts-ui-frameworks"></a>Новые инфраструктуры пользовательского интерфейса контактов и контактов

С появлением iOS 9 Компания Apple выпустила две новые платформы, [Контакты](xref:Contacts) и [ContactsUI](xref:ContactsUI), которые заменяют существующие адресные книги и платформы, используемые в iOS 8 и более ранних версиях.

Эти новые, объектно-ориентированные платформы предоставляют следующие данные:

- **Контакты** — предоставляет Xamarin. iOS доступ к контактным данным пользователя. Так как большинству приложений требуется только доступ только для чтения, эта платформа оптимизирована для поточного доступа только для чтения.
- **ContactsUI** — предоставляет элементы пользовательского интерфейса Xamarin. iOS для просмотра, изменения, выбора и создания контактов на устройствах iOS.

Дополнительные сведения см. в документации по нашим [контактам и контактам в пользовательском интерфейсе](~/ios/platform/contacts.md) .


## <a name="new-search-apis"></a>Новые API поиска

Поиск был расширен в iOS 9, чтобы предоставить отличные новые способы доступа к информации в приложении Xamarin. iOS. С помощью новых API-интерфейсов поиска можно сделать содержимое вашего приложения недоступным для поиска с помощью Spotlight и результатов поиска Safari, а также Siri напоминаний и предложений. Это позволяет пользователям быстро получать доступ к действиям и информации, размещенным в приложении.

Кроме того, новые API-интерфейсы поиска упрощают интеграцию поиска в приложении без реализации функции поиска. По этой причине Apple Claims, как правило, занимает несколько часов, чтобы сделать содержимое приложения iOS 9 универсальным для поиска с помощью поиска приложений.

Дополнительные сведения см. в документации по [усовершенствованиям поиска](~/ios/platform/search/index.md) .

## <a name="new-stack-view"></a>Новое представление стека

Элемент управления представлением стека ([уистакквиев](xref:UIKit.UIStackView) использует возможности автоматического макета и классов размеров для управления стеком подпредставлений (по горизонтали или по вертикали), который динамически реагирует на ориентацию и размер экрана устройства iOS.

С помощью элемента управления представлением стека объем работы, необходимый для разметки пользовательского интерфейса, значительно сокращается. Макет всех вложенных представлений, присоединенных к представлению «стек», управляется автоматически на основе определенных разработчиком свойств, таких как ось, распределение, выравнивание и пространство.

Дополнительные сведения см. в документации по [представлению Stack](~/ios/user-interface/controls/uistackview.md) .


## <a name="collection-view-changes"></a>Изменения в представлении коллекции

В iOS 9 представление коллекции ([уиколлектионвиев](xref:UIKit.UICollectionView) теперь поддерживает перетаскивание переупорядочения элементов из Box путем добавления нового распознавателя жестов по умолчанию и нескольких новых методов поддержки.

Используя эти новые методы, можно легко реализовать перетаскивание в представлении коллекции, а также настроить внешний вид элементов на любом этапе процесса изменения порядка.

Дополнительные сведения об изменениях в представлении коллекций для iOS 9 см. в статье [Обзор изменений в представлении коллекций](~/ios/user-interface/controls/uicollectionview.md) .

## <a name="game-enhancements"></a>Усовершенствования игр

Благодаря iOS 9 Компания Apple внесла несколько усовершенствований в игровые API, которые упрощают реализацию игр и звука в приложении Xamarin. iOS. Они включают в себя простоту разработки через высокоуровневые платформы и использование возможностей GPU устройства iOS для повышения скорости и возможностей работы с графикой с помощью низкоуровневых улучшений.

Сюда входят Гамеплайкит, Реплайкит, модели ввода-вывода, Металкит и металлические шейдеры производительности, а также новые улучшенные функции металлов, SceneKit и SpriteKit.

Дополнительные сведения см. в документации по [усовершенствованиям игр](~/ios/platform/gaming/index.md) .

## <a name="homekit-framework-changes"></a>Изменения платформы HomeKit

Платформа [HomeKit](xref:HomeKit) , появившаяся в iOS 8, предоставляет возможность установки и контроля различных стандартных аксессуаров HomeKit (таких как автоматические источники, блокировки двери и открытые дверцы) из приложения Xamarin. iOS. В дополнение к простоте установки и настройки HomeKit аксессуары можно контролировать с помощью голосовых команд Siri.

В iOS 9 Компания Apple стала проще в установке, расширила типы поддерживаемых аксессуаров и предоставила дополнительные взаимодействия (например, управлять аксессуаром удаленно через iCloud).

Дополнительные сведения см. в статье [Введение в](~/ios/platform/homekit.md) [пример приложения HomeKit, хомекитинтро iOS](https://docs.microsoft.com/samples/xamarin/ios-samples/homekit-homekitintro) и документация Apple [HomeKit](https://developer.apple.com/homekit/) .

## <a name="handoff-framework-changes"></a>Изменения инфраструктуры передачи

Прием (также известный как непрерывность) появился в Apple в iOS 8 и OS X Yosemite (10,10) как способ запуска действия на одном из устройств (iOS или Mac) и продолжать это действие на другом устройстве (как определено Иклауом пользователя). d учетная запись).

Переданная функция была расширена в iOS 9, а также поддерживает новые возможности расширенного поиска. Дополнительные сведения см. в документации по [усовершенствованиям поиска](~/ios/platform/search/index.md) . Дополнительные сведения об использовании передачи см. [в статье Введение в](~/ios/platform/handoff.md) документацию по передаче данных.

## <a name="new-extension-points"></a>Новые точки расширения

В iOS 8 компания Apple представила расширения — библиотеки, представленные операционной системой в стандартных контекстах, например в центре уведомлений, когда пользователь запрашивает клавиатуру или редактирует фотографию.

Благодаря iOS 9 Компания Apple расширяет поддержку расширений, предоставляя несколько новых _точек расширения_ , которые определяют политики использования и предоставляют интерфейсы API для работы в определенной области следующим образом:

- **Новая точка расширения аудиоподсистемы** . Используйте эту точку расширения для предоставления звуковых эффектов, музыкальных инструментов, генераторов звука и т. д. для использования в других приложениях для размещения звуковых устройств (например, гаражебанд). Эта точка расширения также позволяет продавать _звуковые устройства_ (подключаемые модули аудио) в магазине приложений.
- **Новая точка расширения обслуживания индекса** — используйте эту точку расширения для поддержки повторного индексирования данных приложения без необходимости повторного запуска приложения.
- **Новые точки расширения сети** (для этого требуется специальное разрешение от Apple):
  - **Расширение поставщика прокси приложения** — используйте эту точку расширения для реализации пользовательского прозрачного сетевого прокси-сервера на стороне клиента.
  - **Расширение поставщика данных фильтра и управления фильтром** . Используйте эти точки расширения для реализации фильтрации динамического сетевого содержимого на устройстве.
  - **Расширение поставщика туннелей пакетов** — используйте эту точку расширения для реализации пользовательского туннельного протокола VPN на стороне клиента.
- **Новые точки расширения Safari**:
  - **Расширение блокировки содержимого** — используйте эту точку расширения для определения списка заблокированных содержимого, которое не будет отображаться при просмотре веб-страниц пользователем.
  - **Расширение общих ссылок** — используйте эту точку расширения, чтобы разрешить просмотр содержимого вашего приложения в общих ссылках Safari.

Дополнительные сведения см. [в статье Введение в расширения](~/ios/platform/extensions.md) и [руководство по программированию расширения приложения](https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/ExtensibilityPG/index.html#//apple_ref/doc/uid/TP40014214) Apple.

## <a name="keychain-enhancements"></a>Усовершенствования цепочки ключей

В iOS 9 Компания Apple улучшила цепочку ключей для предоставления нового типа ключа шифрования для безопасного анклава и других параметров защиты элементов следующим образом:

- Новое ограничение Touch ID, которое сделает недействительными элементы цепочки ключей при изменении базы данных отпечатка пальца.
- Новые ограничения, позволяющие создавать записи списка управления доступом с помощью идентификатора касания или секретного кода.
- Новый контекст проверки подлинности, который позволяет вызывать проверку подлинности отдельно от `SecItem` вызовов.
- Энтропия списка управления доступом (с помощью параметра пароль приложения) для шифрования элементов цепочки ключей, предоставленных приложением.
- Поддержка создания и использования ключей в безопасном анклава (через `kSecAttrTokenIDSecureEnclave` атрибут).

Дополнительные сведения см. в статье Введение в документацию по [сенсорному идентификатору](~/ios/platform/touchid.md) .


## <a name="right-to-left-language-support"></a>Поддержка языков с письмом справа налево

В iOS 9 Компания Apple предоставила упрощенный пользовательский интерфейс, что обеспечивает полную поддержку языков с письмом справа налево. Это поведение характеризуется следующим образом.

- Стандартные элементы управления [UIKit](xref:UIKit) автоматически отворачивают справа налево в соответствии с региональными и языковыми параметрами устройств iOS.
- Класс [UIView](xref:UIKit.UIView) предоставляет атрибуты, позволяющие определить, как заданное представление должно отображаться при зеркальном отображении справа налево.
- Возможность программной перелистывания изображения с помощью свойства [флипсфорригхттолефтлайаутдиректион](xref:UIKit.UIImage.FlipsForRightToLeftLayoutDirection) класса [уиимаже](xref:UIKit.UIImage) .

Дополнительные сведения см. в документации Apple о [поддержке языков с письмом справа налево](https://developer.apple.com/library/prerelease/ios/documentation/MacOSX/Conceptual/BPInternational/SupportingRight-To-LeftLanguages/SupportingRight-To-LeftLanguages.html#//apple_ref/doc/uid/10000171i-CH17) .



## <a name="additional-framework-changes"></a>Дополнительные изменения платформы

Помимо основных изменений, описанных выше, Apple внесла изменения в несколько существующих платформ для iOS 9, включая следующие:

- AV Foundation Framework
- Авкит Framework
- CloudKit Framework
- Foundation Framework
- Платформа передачи
- HealthKit Framework
- HomeKit Framework
- Инфраструктура локальной проверки подлинности
- Мапкит Framework
- PassKit Framework
- Платформа служб Safari
- UIKit Framework

Дополнительные сведения см. в документации по [изменениям дополнительных платформ iOS 9](~/ios/platform/introduction-to-ios9/additional-framework-changes.md) .

## <a name="deprecated-apis-and-functions"></a>Устаревшие API и функции

В iOS 9 не рекомендуются следующие API и функции Apple:

- **Адресная книга & Пользовательский интерфейс адресной книги** . Эти API-интерфейсы были заменены контактными и контактными ПЛАТФОРМАМИ пользовательского интерфейса. Дополнительные сведения см. в документации по нашим [контактам и контактам в пользовательском интерфейсе](~/ios/platform/contacts.md) .
- **Кбцентралманажер** — `RetrievePeripherals` `RetrieveConnectedPeripherals` методы`CBCentralManager` и класса были удалены в iOS 9. Вызов этих методов приведет к сбою приложения при связывании принадлежности или при запуске приложения.
- **Фетчаллчанжес** `FetchAllChanges` —`CKFetchRecordChangesOperation` класс был амортизировано и будет удален в iOS 9.
- **Проигрыватель мультимедиа** . в iOS 9 не рекомендуется использовать платформу проигрывателя мультимедиа. Вместо этого используйте API Авкит или AV Foundation.

Полный список конкретных устаревших интерфейсов API см. в документации по отличиям API для Apple [iOS 9,0](https://developer.apple.com/library/prerelease/ios/releasenotes/General/iOS90APIDiffs/index.html#//apple_ref/doc/uid/TP40016222) .

## <a name="ios-9-sample-apps"></a>Примеры приложений для iOS 9

У нас есть некоторые [примеры для iOS 9](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.iOS+iOS9) , которые помогут приступить к работе:

- [астролайаут](https://github.com/xamarin/monotouch-samples/tree/master/ios9/AstroLayout)
- [CollectionView](https://github.com/xamarin/monotouch-samples/tree/master/ios9/CollectionView)
- [металперформанцешадершелловорлд](https://docs.microsoft.com/samples/xamarin/ios-samples/ios9-metalperformanceshadershelloworld)
- [мусикмотион](https://docs.microsoft.com/samples/xamarin/ios-samples/ios9-musicmotion)
- [Фотовыполнение](https://docs.microsoft.com/samples/xamarin/ios-samples/ios9-photoprogress)
- [сегуекаталог](https://docs.microsoft.com/samples/xamarin/ios-samples/ios9-seguecatalog)
- [стакквиев](https://github.com/xamarin/monotouch-samples/tree/master/ios9/StackView)
- [стиккикорнерс](https://github.com/xamarin/monotouch-samples/tree/master/ios9/StickyCorners)

Также ознакомьтесь с пропорциями iOS в этих примерах (сопровождающие Mac OS X версии):

- [ажентскаталог](https://github.com/xamarin/mac-ios-samples/tree/master/AgentsCatalog)
- [металкитессентиалс](https://github.com/xamarin/mac-ios-samples/tree/master/MetalKitEssentials)



## <a name="related-links"></a>Связанные ссылки

- [Примеры для iOS 9](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.iOS+iOS9)
- [Введение в трехмерное касание](~/ios/platform/3d-touch.md)
- [Безопасность транспорта приложения](~/ios/app-fundamentals/ats.md)
- [Многозадачность для iPad](~/ios/platform/multitasking.md)
- [Пользовательский интерфейс контактов и контактов](~/ios/platform/contacts.md)
- [Новые API поиска](~/ios/platform/search/index.md)
- [Общие сведения о представлении Stack](~/ios/user-interface/controls/uistackview.md)
- [Изменения в представлении коллекции](~/ios/user-interface/controls/uicollectionview.md)
- [Усовершенствования игр](~/ios/platform/gaming/index.md)
- [Введение в HomeKit](~/ios/platform/homekit.md)
- [Общие сведения о передаче](~/ios/platform/handoff.md)
- [Дополнительные изменения платформы iOS 9](~/ios/platform/introduction-to-ios9/additional-framework-changes.md)
- [Устранение неполадок](~/ios/platform/introduction-to-ios9/troubleshooting.md)
- [iOS 9 для разработчиков](https://developer.apple.com/ios/pre-release/)
- [Новые возможности iOS 9,0](https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html)
- [Обновление приложений Xamarin. iOS до iOS9 (видео)](https://university.xamarin.com/lightninglectures/Updating-your-XamariniOS-apps-to-iOS9)
