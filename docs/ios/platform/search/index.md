---
title: API поиска в Xamarin.iOS
description: В этой статье описан с помощью нового API поиска приложения, предоставленные iOS 9 позволяет пользователям искать сведения и функции внутри приложения Xamarin.iOS.
ms.prod: xamarin
ms.assetid: 7323EB3D-A78F-4BF0-9990-3160C7E83CF0
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.openlocfilehash: bc62ad34af0b9b98f0475599a08946122badd21e
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34788180"
---
# <a name="search-apis-in-xamarinios"></a>API поиска в Xamarin.iOS

_В этой статье описан с помощью API поиска приложения, предоставленные iOS 9, чтобы разрешить пользователям искать данным и функциям внутри приложения Xamarin.iOS._

Поиск была расширена в iOS 9, чтобы предоставить новые способы доступа к данным и функциям внутри приложения Xamarin.iOS. С помощью новых API поиска приложения, содержимое приложения становится доступным для поиска Spotlight и Safari результатов поиска, передачи и Siri напоминаний и предложения. Это дает пользователям возможность быстрого доступа к действия и сведения глубокой в приложении.

Кроме того новые API поиска облегчают интеграцию поиска в приложении без возможности реализации предыдущего поиска. По этой причине Apple заявляет, что обычно занимает несколько часов, чтобы создать глобально для поиска с помощью приложения поиска содержимого с приложением iOS 9.

[![](images/intro01.png "Пример глобально для поиска с помощью приложения поиска содержимого приложения iOS 9")](images/intro01.png#lightbox)

Приложение поиска состоит из трех отдельных API:

1. [**NSUserActivity** ](nsuseractivity.md) -это расширение переадресации API, выпущенные Apple iOS 8. Он используется для журнала взаимодействия приложений, чтобы сделать доступным для поиска, открытого и закрытого) для пользователя.

2. [**Основные отличительные черты** ](corespotlight.md) -позволяет приложению для индексирования его содержимого, представлены в результатах поиска. Он работает как API, где можно добавлять и удалять элементы, и это лучший способ индекс конфиденциальное содержимое в приложении базы данных.

3. [**WebMarkup** ](web-markup.md) — для приложений, которые предоставляют доступ к своему содержимому через веб-интерфейс (не только в приложении). Веб-содержимого можно пометить специальные ссылки, которые будут просматриваться Apple и предоставляют глубокое связывание приложение для устройства iOS 9.

## <a name="selecting-an-app-search-approach"></a>При выборе подхода приложения поиска

Решение, какие из этих методов для реализации зависит от типов взаимодействия, предоставляемые приложения и типа содержимого, которые он представляет.

Следуйте приведенным ниже рекомендациям:

- [**NSUserActivity** ](nsuseractivity.md) — использовать эту структуру для обеспечения возможности поиска и открытого и закрытого содержимого, а также возможности поиска точек навигации в приложении.

- [**Основные отличительные черты** ](corespotlight.md) — использовать эту структуру для предоставления возможности поиска для личных данных, хранящиеся на устройстве.

- [**Веб-разметки** ](web-markup.md) — использовать эту структуру для обеспечения возможности поиска для приложений, которые представляют содержимое не только от в приложении, но с веб-сайта приложения также.

Каждый из поиска приложения подходы отличаются друг от друга и могут быть использовать по отдельности, однако Apple предназначена их совместной работы. При использовании более чем одним из подходов к индекс конкретного элемента убедитесь, используйте тот же идентификатор **идентификатор элемента** на каждый подход таким образом, он связывает рабочих.

Использование более чем одним из подходов обеспечивает не только что контент будет найден конечным пользователем, но также позволяет повысить ранжирование ваш элемент из в поиске.

При ранжировании процесса в основном прозрачным для разработчика, взаимодействие пользователя с указанным элементом взвешивается сильно при этом ранг (например пользователь, щелкните ссылку).
Предоставляя широкие возможности и понятных элементов, можно убедитесь, что пользователь будет запустит для взаимодействия с контентом, таким образом, вызов ранжирование.

## <a name="what-content-to-index"></a>Содержимое для индекса

Компания Apple предоставляет следующие советы о том, какое содержимое и действия для предоставления индексы поиска для приложения:

 - Любое содержимое, просматривать, создавать или курируемый пользователя из приложения.
 - Точки навигации и компонентов в приложении.
 - Такие операции, как новые сообщения, содержимое или другие типы элементов, отображаемых на приложения, которые недавно были загружены на устройство.

## <a name="app-search-enhancements"></a>Усовершенствования приложения поиска

Основные отличительные черты в iOS 10 предоставляет ряд дополнительных возможностей для поиска приложения такие как:

- **Популярности прямая ссылка Crowdsourced (с разностной конфиденциальности)** -предоставляет способ распространения содержимого прямая ссылка на приложение в результатах поиска.
- **Поиск в приложении** -использовать новое `CSSearchQuery` класса для предоставления возможности поиска Spotlight в приложении аналогично работе приложения почта, сообщения и заметки.
- **Продолжение поиска** — позволяет пользователю начать поиск в Spotlight или Safari, а затем откройте приложение и продолжения поиска.
- **Представление результатов проверки** -Apple [средством проверки API приложения поиска](https://search.developer.apple.com/appsearch-validation-tool) теперь отображается визуальное представление разметки веб-сайт и сложного связывания при preforming тестов.
- **Сообщение образа приложения для управления доступом** -позволяет популярных в приложении образы, предоставленные для совместного использования в сообщениях (через расширение приложения сообщение) появляются в поиске Spotlight.

Чтобы узнать больше, см. в разделе нашей [усовершенствования приложения поиска](~/ios/platform/search/app-search-enhancements.md) руководства.

### <a name="proactive-suggestions"></a>Упреждающее предложения

iOS 10 предоставляет новые способы взаимодействия, определяющим к приложению, позволяя систему, чтобы заранее предоставить полезные сведения автоматически пользователю в нужное время. Так же, как iOS 9 предоставляют возможность добавлять поиска сложного приложения с помощью Spotlight, передачи и предложения Siri с iOS 10 приложения могут предоставлять функции, которые могут быть представлены пользователю системой через в следующих расположениях:

- Приложение переключателя
- На экран блокировки
- CarPlay
- Карты
- Siri взаимодействия
- QuickType предложения 

Приложение поддерживает эту функцию в систему с помощью набор технологий, таких как [NSUserActivity](https://developer.xamarin.com/api/type/Foundation.NSUserActivity/), веб-разметка, Core Spotlight, MapKit, Media Player и UIKit.

Чтобы узнать больше, см. в разделе нашей [упреждающего предложения](~/ios/platform/search/proactive-suggestions.md) руководства.

## <a name="summary"></a>Сводка

В этой статье был проиллюстрирован новой функции API поиска этого iOS 9 предоставляет Xamarin.iOS приложений. Он соответствует [NSUserActivity](nsuseractivity.md), [Core Spotlight](corespotlight.md) и [веб-разметка](web-markup.md) методы для индексирования содержимого. Он завершит работу с описаны вместе подход поиска и типы содержимого, которые должны быть проиндексированы.



## <a name="related-links"></a>Связанные ссылки

- [Образцы iOS 9](https://developer.xamarin.com/samples/ios/iOS9/)
- [iOS 9 для разработчиков](https://developer.apple.com/ios/pre-release/)
- [iOS 9.0](https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html)
- [Руководство по программированию для поиска приложения](https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/AppSearch/index.html#//apple_ref/doc/uid/TP40016308)
