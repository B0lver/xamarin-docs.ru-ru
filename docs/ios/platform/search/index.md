---
title: Поиск API в Xamarin. iOS
description: В этой статье рассматривается использование новых API-интерфейсов поиска приложений, предоставляемых iOS 9, чтобы пользователи могли искать информацию и компоненты в приложениях Xamarin. iOS.
ms.prod: xamarin
ms.assetid: 7323EB3D-A78F-4BF0-9990-3160C7E83CF0
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/20/2017
ms.openlocfilehash: 344bc8f46ecad250c5021be4682f02489aa5cb96
ms.sourcegitcommit: 1e3a0d853669dcc57d5dee0894d325d40c7d8009
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2019
ms.locfileid: "70198461"
---
# <a name="search-apis-in-xamarinios"></a>Поиск API в Xamarin. iOS

_В этой статье описывается использование API-интерфейсов поиска приложений, предоставляемых iOS 9, чтобы пользователи могли искать информацию и компоненты в приложениях Xamarin. iOS._

Поиск был расширен в iOS 9, чтобы предоставить отличные новые способы доступа к информации и функциям в приложении Xamarin. iOS. С помощью новых API-интерфейсов поиска приложений содержимое приложения становится доступно для поиска с помощью Spotlight и результатов поиска Safari, а также Siri напоминаний и предложений. Это позволяет пользователям быстро получать доступ к действиям и информации, размещенным в приложении.

Кроме того, новые API-интерфейсы поиска упрощают интеграцию поиска в приложении без реализации функции поиска. По этой причине Apple Claims, как правило, занимает несколько часов, чтобы сделать содержимое приложения iOS 9 универсальным для поиска с помощью поиска приложений.

[![](images/intro01.png "Пример универсального поиска содержимого приложения iOS 9 с помощью поиска приложений")](images/intro01.png#lightbox)

Поиск приложения состоит из трех отдельных API:

1. [**Нсусерактивити**](nsuseractivity.md) — это расширение API передачи, выпущенное компанией Apple в iOS 8. Он используется для предоставления пользователям доступа к журналу взаимодействия приложений в общедоступном и частном порядке).

2. [**Основное Spotlight**](corespotlight.md) — позволяет приложению индексировать содержимое, которое должно быть представлено в результатах поиска. Он работает как API базы данных, где можно добавлять и удалять элементы, и это лучший способ индексировать частное содержимое в приложении.

3. [**Веб-разметка**](web-markup.md) — для приложений, которые предоставляют доступ к своему содержимому через Web interface (не только в пределах приложения). Веб-содержимое может быть отмечено специальными ссылками, которые будут обходиться Apple и обеспечить глубокую компоновку приложения на устройстве iOS 9 пользователя.

## <a name="selecting-an-app-search-approach"></a>Выбор подхода поиска приложений

Выбор способа реализации зависит от типов взаимодействия, предоставляемых приложением, и от типа содержимого, которое оно представляет.

Используйте следующие рекомендации.

- [**Нсусерактивити**](nsuseractivity.md) — используйте эту платформу, чтобы обеспечить возможность поиска как для открытого, так и для закрытого содержимого, а также для поиска точек перехода в приложении.

- [**Основное**](corespotlight.md) внимание. Используйте эту платформу для обеспечения поиска закрытых данных, хранящихся на устройстве.

- [**Веб-разметка**](web-markup.md) — используйте эту платформу для обеспечения поиска приложений, которые представляют их содержимое не только в пределах приложения, но и с веб-сайта приложения.

Каждый подход к поиску приложений является индивидуальным и может использоваться по отдельности, однако компания Apple разработана для совместной работы. При использовании более чем одного подхода для индексирования определенного элемента убедитесь, что для каждого подхода используется один и тот же **идентификатор элемента** , чтобы отдельные ссылки работали вместе.

Использование более чем одного подхода не только гарантирует, что ваше содержимое будет найдено конечным пользователем, но также поможет улучшить ранжирование элемента в рамках поиска.

Хотя процесс ранжирования в основном прозрачен для разработчика, взаимодействие пользователя с определенным элементом в значительной степени зависит от этого ранга (например, пользователь съемки ссылку).
Предоставляя обширные информативные элементы, вы можете гарантировать, что пользователь сможет взаимодействовать с вашим содержимым, тем самым вызывая его ранжирование.

## <a name="what-content-to-index"></a>Содержимое для индексации

Компания Apple предоставляет следующие рекомендации, касающиеся содержимого и действий для предоставления индексов поиска в приложении.

- Любое содержимое, которое было просмотрено, создано или проверено пользователем в приложении.
- Точки навигации и функции в приложении.
- Такие вещи, как новые сообщения, содержимое или другие типы элементов, отображаемые приложением и недавно загруженные на устройство.

## <a name="app-search-enhancements"></a>Улучшенные возможности поиска приложения

Основное Spotlight в iOS 10 предоставляет несколько улучшений в поиске приложений, таких как:

- **Коллективным знаниям специалистов с глубокими ссылками (с использованием разностной конфиденциальности)** . предоставляет способ повышения уровня тесно связанного содержимого приложения в результатах поиска.
- **Поиск в приложении** . Используйте новый `CSSearchQuery` класс, чтобы предоставить полезные возможности поиска в приложении, аналогичные работе с почтой, сообщениями и заметками.
- **Продолжение поиска** . позволяет пользователю начать поиск в Spotlight или Safari, а затем открыть приложение и продолжить поиск.
- **Визуализация результатов проверки** . [средство проверки API поиска приложений](https://search.developer.apple.com/appsearch-validation-tool) Apple теперь отображает визуальное представление разметки веб-сайта и глубокую компоновку при выполнении тестов.
- **Общий доступ к** образам приложений сообщений. позволяет использовать популярные образы в приложениях для совместного использования в сообщениях (с помощью расширения приложения для сообщений), которые отображаются в центре поиска Spotlight.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [усовершенствованиям поиска приложений](~/ios/platform/search/app-search-enhancements.md) .

### <a name="proactive-suggestions"></a>Упреждающие предложения

в iOS 10 представлены новые способы предоставления участия в приложении, позволяющие системе автоматически предоставлять пользователю полезную информацию в нужное время. Так же, как iOS 9 предоставляет возможность добавлять в приложение глубокий поиск с помощью Spotlight, Siri и предложений с iOS 10, приложение может предоставлять функции, которые могут быть предоставлены пользователю системой в следующих местах:

- Переключатель приложений
- Экран блокировки
- карплай
- Карты
- Взаимодействия Siri
- Предложения Куикктипе 

Приложение предоставляет эту функцию системе, используя набор технологий, таких как [нсусерактивити](xref:Foundation.NSUserActivity), веб-разметка, ядро Spotlight, Мапкит, проигрыватель мультимедиа и UIKit.

Чтобы узнать больше, ознакомьтесь с нашим руководством [по упреждающим предложениям](~/ios/platform/search/proactive-suggestions.md).

## <a name="summary"></a>Сводка

В этой статье были рассмотрены новые функции API поиска, предоставляемые iOS 9 для приложений Xamarin. iOS. Он охватывает [нсусерактивити](nsuseractivity.md), [основные важные](corespotlight.md) и [веб-разметки](web-markup.md) для индексирования содержимого. Он завершился коротким обсуждением того, когда следует использовать данный подход к поиску и какие типы содержимого должны индексироваться.



## <a name="related-links"></a>Связанные ссылки

- [Примеры для iOS 9](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.iOS+iOS9)
- [iOS 9 для разработчиков](https://developer.apple.com/ios/pre-release/)
- [iOS 9,0](https://developer.apple.com/library/prerelease/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS9.html)
- [Инструкции по программированию поиска приложений](https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/AppSearch/index.html#//apple_ref/doc/uid/TP40016308)
