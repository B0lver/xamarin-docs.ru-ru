---
title: Введение в iOS 10
description: В этой статье представлены все новые и измененные API-интерфейсы и функции, доступные в iOS 10 для разработчиков Xamarin. iOS.
ms.prod: xamarin
ms.assetid: FB91DFFE-CF5E-4253-92CB-78A6371259D9
ms.technology: xamarin-ios
author: conceptdev
ms.author: crdun
ms.date: 03/29/2017
ms.openlocfilehash: 465c8df864669ad47acd47ae380574e247a0acd6
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70292868"
---
# <a name="introduction-to-ios-10"></a>Введение в iOS 10

Благодаря новому пакету SDK для iOS 10 компания Apple включила новые интерфейсы API и службы, позволяющие разработчикам создавать новые категории приложений и функций. Приложение iOS теперь может расширять сообщения, Siri, телефоны и карты, чтобы обеспечить широкие возможности для конечного пользователя, который ранее был недоступен.

Дополнительные сведения о iOS 10 см. в документации Apple по [iOS + Apps](https://developer.apple.com/ios/) .

## <a name="whats-new-in-ios-10"></a>Новые возможности iOS 10

Компания Apple добавила несколько новых интерфейсов API и служб в iOS 10 вместе с множеством улучшений существующих функций, включая:

## <a name="adapting-to-the-true-tone-display"></a>Адаптация к истинному Тоновому экрану

Настоящая антицветная технология Apple использует датчик окружающей среды на устройстве iOS для динамического изменения цвета и интенсивности дисплея в соответствии с текущими условиями освещения. iOS 10 предоставляет новый ключ [уивхитепоинтадаптивитистиле](https://developer.apple.com/library/prerelease/content/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW31) , который можно добавить в `Info.plist` файл приложения и управляет тем, как истинный тон применяет стандартную смену цветом. 

Доступны следующие значения:

- `UIWhitePointAdaptivityStyleStandard`**По умолчанию** — используйте стандартную адаптивитиую белую точку.
- `UIWhitePointAdaptivityStyleReading`— Используется для приложений, ориентированных на чтение.
- `UIWhitePointAdaptivityStyleGame`— Используется для приложений, ориентированных на игры.
- `UIWhitePointAdaptivityStyleVideo`— Используется для приложений, ориентированных на видео.
- `UIWhitePointAdaptivityStylePhoto`— Используется для приложений, ориентированных на фотографии, где точность цвета важнее, чем корректировки по белой точке в окружающей среде.

## <a name="app-extensions"></a>Расширения приложения

Компания Apple предоставила несколько новых точек расширения приложения в iOS 10:

- Каталог вызовов
- Пользовательский интерфейс для целей и целей
- Сообщения
- Содержимое уведомления
- Notification Services
- Пакет наклеек

Кроме того, сторонние расширения для приложений клавиатуры имеют следующие улучшения:

- Новое `DocumentInputMode` свойство`UITextDocumentProxy` класса может определять язык ввода документа и разрешать рассогласование расширения клавиатуры с этим языком.
- Новый `HandleInputModeList` метод позволяет расширению клавиатуры отобразить меню выбора клавиатуры системы в ответ на нажатие клавиши земного шара.

Дополнительные сведения см. в статьях [Введение в расширения](~/ios/platform/extensions.md), [Интеграция приложений с сообщениями](~/ios/platform/message-app-integration/index.md), [Введение в упреждающие предложения](~/ios/platform/search/proactive-suggestions.md), [Введение в SiriKit](~/ios/platform/sirikit/index.md), [Введение в уведомления пользователей](~/ios/platform/user-notifications/index.md) и Apple [ Инструкции по программированию расширения приложения](https://developer.apple.com/library/prerelease/content/documentation/General/Conceptual/ExtensibilityPG/index.html#//apple_ref/doc/uid/TP40014214).

## <a name="app-search-enhancements"></a>Улучшенные возможности поиска приложения

Основное Spotlight в iOS 10 предоставляет несколько улучшений в поиске приложений, таких как:

- **Коллективным знаниям специалистов с глубокими ссылками (с использованием разностной конфиденциальности)** . предоставляет способ повышения уровня тесно связанного содержимого приложения в результатах поиска.
- **Поиск в приложении** . Используйте новый `CSSearchQuery` класс, чтобы предоставить полезные возможности поиска в приложении, аналогичные работе с почтой, сообщениями и заметками.
- **Продолжение поиска** . позволяет пользователю начать поиск в Spotlight или Safari, а затем открыть приложение и продолжить поиск.
- **Визуализация результатов проверки** . [средство проверки API поиска приложений](https://search.developer.apple.com/appsearch-validation-tool) Apple теперь отображает визуальное представление разметки веб-сайта и глубокую компоновку при выполнении тестов.
- **Общий доступ к** образам приложений сообщений. позволяет использовать популярные образы в приложениях для совместного использования в сообщениях (с помощью расширения приложения для сообщений), которые отображаются в центре поиска Spotlight.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [усовершенствованиям поиска приложений](~/ios/platform/search/app-search-enhancements.md) .

## <a name="apple-pay-enhancements"></a>Улучшения Apple Pay

Компания Apple предоставила несколько усовершенствований Apple Pay в iOS 10, которые позволяют пользователю выполнять безопасных платежей с веб-сайтов и через взаимодействие с Siri и картами.

В iOS 10 Добавлено несколько новых API, которые работают с iOS и watchOS для поддержки динамических платежных сетей и новой тестовой среды "песочницы".

Кроме того, платформа PassKit была расширена для поддержки Apple Pay вне `UIKit` и позволяет поставщикам карт предоставлять свои карты в своих приложениях.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [улучшению Apple Pay](~/ios/platform/apple-pay.md) .

## <a name="alternate-app-icons"></a>Альтернативные значки приложений

Компания Apple добавила несколько улучшений в iOS 10,3, которые позволяют приложению управлять своим значком:

- `ApplicationIconBadgeNumber`— Получает или задает эмблему значка приложения в Springboard Series.
- `SupportsAlternateIcons`— Если `true` приложение имеет альтернативный набор значков.
- `AlternateIconName`— Возвращает имя выбранного в данный момент альтернативного значка `null` или значение, если используется основной значок.
- `SetAlternameIconName`— Используйте этот метод, чтобы переключить значок приложения на заданный альтернативный значок.

Чтобы узнать больше, ознакомьтесь с нашим [альтернативным руководством по значкам приложений](~/ios/app-fundamentals/images-icons/alternate-app-icons.md) .

## <a name="introduction-to-callkit"></a>Введение в Каллкит

Новый API Каллкит в iOS 10 обеспечивает интеграцию приложений VOIP с пользовательским ИНТЕРФЕЙСом iPhone и предоставляет привычный интерфейс и возможности для конечного пользователя. С помощью этого API пользователи могут просматривать вызовы VOIP и взаимодействовать с ними с экрана блокировки устройства iOS, а также управлять контактами с помощью представлений **"Избранное" и "** **недавние** " приложения "Телефон".

Кроме того, API Каллкит предоставляет возможность создавать расширения приложений, которые могут связывать номер телефона с именем (ИДЕНТИФИКАТОРом звонящего) или сообщать системе, когда число должно быть заблокировано (Блокировка вызова).

Чтобы узнать больше, ознакомьтесь [с нашим введением в каллкит](~/ios/platform/callkit.md) Guide.

## <a name="message-app-integration"></a>Интеграция приложения для обмена сообщениями

iOS 10 позволяет включить расширение приложения для сообщений в решении Xamarin. iOS, которое интегрируется с приложением **сообщений** и предоставляет пользователю новые функциональные возможности. Расширение может передавать текст, наклейки, файлы мультимедиа и интерактивные сообщения. Доступны два типа расширения приложения для сообщений:

- **Пакеты наклеек** — содержит коллекцию наклеек, которые пользователь может добавить в сообщение. Пакеты наклейок можно создавать без написания кода.
- **приложение iMessage** . может представлять пользовательский пользовательский интерфейс в приложении для работы с сообщениями для выбора наклеек, ввода текста, включая файлы мультимедиа (с необязательными преобразованиями типов), а также для создания, изменения и отправки сообщений о взаимодействии.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [интеграции с приложением Message](~/ios/platform/message-app-integration/index.md) .

## <a name="news-publisher-enhancements"></a>Усовершенствования издателя новостей

Благодаря iOS 10 компания Apple разрешит всем сотрудникам из крупных журналов и новых организаций подписывать и использовать продукты и доставлять содержимое в Apple Newsное приложение. Дополнительные сведения см. в документации Apple [News Resources](https://newsresources.apple.com/) .

## <a name="providing-haptic-feedback"></a>Обеспечение обратной связи Haptic

На iPhone 7 и iPhone 7 Plus компания Apple включила новые ответы хаптикс, которые предоставляют дополнительные способы физического привлечения пользователя. Используйте новые параметры обратной связи тактиле, чтобы привлечь внимание пользователя и усилить его действия.

Несколько встроенных элементов пользовательского интерфейса уже предоставляют хаптик отзывы, такие как подборки, переключатели и ползунки. iOS 10 теперь добавляет возможность программного запуска хаптикс с помощью конкретного `UIFeedbackGenerator` подкласса класса.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [обратной связи хаптик](~/ios/user-interface/ios-ui/haptic-feedback.md) .

## <a name="proactive-suggestions"></a>Упреждающие предложения

в iOS 10 представлены новые способы предоставления участия в приложении, позволяющие системе автоматически предоставлять пользователю полезную информацию в нужное время. Так же, как iOS 9 предоставляет возможность добавлять в приложение глубокий поиск с помощью Spotlight, Siri и предложений с iOS 10, приложение может предоставлять функции, которые могут быть предоставлены пользователю системой в следующих местах:

- Переключатель приложений
- Экран блокировки
- карплай
- Карты
- Взаимодействия Siri
- Предложения Куикктипе

Приложение предоставляет эту функцию системе, используя набор технологий, таких как [нсусерактивити](xref:Foundation.NSUserActivity), веб-разметка, ядро Spotlight, Мапкит, проигрыватель мультимедиа и UIKit.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [упреждающим рекомендациям](~/ios/platform/search/proactive-suggestions.md) .

## <a name="request-app-review"></a>Проверка приложения для запросов

В iOS 10,3 `RequestReview()` метод позволяет приложению iOS запрашивать у пользователя возможность оценить или проверить его. Хотя этот метод можно вызывать в любой точке, где он имеет смысл в работе пользователя, процесс проверки управляется и обрабатывается политикой магазина приложений. В результате этот метод может или не отображать предупреждение и никогда не должен вызываться в ответ на действие пользователя, например коснуться кнопки.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [проверке приложения](~/ios/platform/request-app-review.md) .

## <a name="security-and-privacy-enhancements"></a>Улучшения безопасности и конфиденциальности

Компания Apple внесла несколько усовершенствований в систему безопасности и конфиденциальности в iOS 10, которая поможет разработчику повысить безопасность своих приложений и обеспечить конфиденциальность конечного пользователя.

В результате приложения, работающие на iOS 10 (или более поздней версии), должны статически объявлять свои цели для доступа к конкретным функциям или сведениям о пользователях, вводя `Info.plist` в свои файлы один или несколько особых ключей конфиденциальности, объясняющие пользователю, почему приложение хочет получить доступ.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [улучшению безопасности и конфиденциальности](~/ios/app-fundamentals/security-privacy.md) .

## <a name="sirikit"></a>SiriKit

Новое в iOS 10, SiriKit позволяет приложению Xamarin. iOS предоставлять службы, доступные пользователю с помощью Siri на устройстве iOS. Эта функциональная возможность предоставляется в одном или нескольких расширениях приложений с помощью новых **целей** и целей **пользовательского интерфейса** .

SiriKit поддерживает следующие домены служб:

- Вызов аудио или видео.
- Заменяйте его.
- Управление тренировки.
- Отправка.
- Поиск фотографий.
- Отправка или получение платежей.

Когда пользователь выполняет запрос Siri, включающий одну из служб расширения приложения, SiriKit отправляет расширение объект **намерения** , описывающий запрос пользователя вместе с любыми вспомогательными данными. Затем расширение приложения создает соответствующий объект **ответа** для заданной **цели**, чтобы получить сведения о том, как расширение может справиться с запросом.

Хотя Siri обычно обрабатывает все взаимодействия с пользователем, расширение приложения может использовать платформу с **намерением пользовательского интерфейса** для представления многофункционального пользовательского интерфейса с фирменной символикой приложения и дополнительной информацией.

Чтобы узнать больше, ознакомьтесь [с нашим введением в SiriKit](~/ios/platform/sirikit/index.md) Guide.

## <a name="speech-recognition"></a>Распознавание речи

в iOS 10 входит новый API распознавания речи, позволяющий приложению поддерживать непрерывное распознавание речи и транскрипция речи (из активных или записанных звуковых потоков) в текст.

Поскольку для распознавания речи требуется передача и временное хранение данных на серверах Apple, приложение _должно_ запросить разрешение пользователя на выполнение распознавания, включив `NSSpeechRecognitionUsageDescription` ключ в `Info.plist` файл и вызвав `SFSpeechRecognizer.RequestAutorization` метод.

Чтобы узнать больше, ознакомьтесь с руководством по [распознаванию речи](~/ios/platform/speech.md) .

## <a name="user-notifications"></a>Уведомления пользователей

В iOS 10 платформа уведомлений пользователя обеспечивает доставку и обработку локальных и удаленных уведомлений. С помощью этой платформы расширение приложения или приложения может запланировать доставку локальных уведомлений, указав набор условий, например расположение или время суток.

Кроме того, приложение или расширение могут получать (и потенциально изменять) как локальные, так и удаленные уведомления по мере их доставки на устройство iOS пользователя.

Новая платформа пользовательского интерфейса уведомлений пользователя позволяет приложению или расширению приложения настраивать внешний вид как локальных, так и удаленных уведомлений, когда они представлены пользователю.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [платформе пользовательских уведомлений](~/ios/platform/user-notifications/index.md) .

## <a name="video-subscriber-account"></a>Учетная запись подписчика видео

Новое для iOS 10. платформа учетных записей подписчиков на видео позволяет приложениям, поддерживающим прошедший проверку подлинности потоковой передачи или видео по запросу, проходить проверку подлинности с помощью кабельного телевидения или поставщика спутникового ТВ, используя единый вход для конечного пользователя.

## <a name="wide-color"></a>Широкая цветовая палитра

iOS 10 расширяет поддержку форматов пикселей расширенного диапазона и цветовых пространств с широкими охватами в рамках системы, включая такие платформы, как основные графические объекты, основные образы, металлы и Авфаундатион. Поддержка устройств с широкими цветами больше облегчило, предоставляя такое поведение во всем стеке графики.

Кроме того, [UIKit](xref:UIKit) был изменен для работы в новом расширенном колорспаце **sRGB** , что упрощает смешение цветов в широких цветовых палитрах без значительной потери производительности.

При работе с широкими цветами Apple предлагает следующие рекомендации:

- [Уиколор](xref:UIKit.UIColor) теперь использует цветовое пространство sRGB и больше не будет заменять значения `0.0` в `1.0` диапазоне до. Если приложение использует предыдущее поведение среза, его необходимо изменить для iOS 10.
- Среда рисования будет настроена для цветового пространства sRGB при выполнении пользовательского `UIView` рисования на iPad Pro.
- Если приложение выполняет пользовательскую отрисовку `UIImages`, используйте новый класс [уиграфиксимажерендер](https://developer.apple.com/reference/uikit/uigraphicsimagerenderer) , чтобы указать использование форматов с расширенным диапазоном или стандартным диапазоном.
- При использовании низкоуровневых API, таких как основные графические или металлы для обработки изображений, разработчик должен использовать расширенное цветовое пространство и формат пикселей, поддерживающий 16-разрядные значения с плавающей запятой. При необходимости разработчику придется вручную закрасить значения компонентов цвета.
- Базовые шейдеры основной графики, основного образа и металлических характеристик предоставляют новые методы для преобразования между двумя цветовыми пространствами.

Дополнительные сведения см. в статье [Введение в широкую цветовую](~/ios/platform/wide-color.md) палитру.

## <a name="widget-enhancements"></a>Усовершенствования мини-приложений

Компания Apple представила несколько улучшений в системе мини-приложений, чтобы обеспечить отличную привлекательность мини-приложений на любом фоне, существующем на новом экране блокировки iOS 10. Свойство [нотификатионцентервибранциеффект](https://developer.apple.com/reference/uikit/uivibrancyeffect/1613917-notificationcentervibrancyeffect) является устаревшим и заменено новыми свойствами [виджетпримаривибранциеффект](https://developer.apple.com/reference/uikit/uivibrancyeffect/1771278-widgetprimaryvibrancyeffect) или [виджетсекондаривибранциеффект](https://developer.apple.com/reference/uikit/uivibrancyeffect/1771277-widgetsecondaryvibrancyeffect) . Кроме того, мини-приложения теперь содержат свойство [нквиджетдисплаймоде](https://developer.apple.com/reference/notificationcenter/ncwidgetdisplaymode) , которое позволяет разработчику описать, какой объем содержимого доступен и позволяет пользователю разворачивать и сворачивать содержимое.

Чтобы узнать больше, ознакомьтесь с нашим руководством по [усовершенствованиям мини](~/ios/platform/search/widgets.md) -приложения "Поиск" и "основное окно".

## <a name="additional-framework-changes"></a>Дополнительные изменения платформы

В дополнение к основным изменениям и дополнениям, перечисленным выше, Apple внесла много дополнительных изменений в дополнительные незначительные платформы в iOS 10.

Чтобы узнать больше, ознакомьтесь с нашим [дополнительным руководством по изменениям в платформе](~/ios/platform/introduction-to-ios10/additional-framework-changes.md) .

## <a name="deprecated-apis"></a>Устаревшие интерфейсы API

Следующие API-интерфейсы являются устаревшими в iOS 10:

- Классы `CKDiscoverAllContactsOperation` ,`CKDiscoveredUserInfo` и`CKFetchRecordChangesOperation`не рекомендуются в CloudKit для iOS 10. `CKDiscoverUserInfosOperation` Вместо этого используйте классы [ккдисковераллусеридентитиесоператион](xref:CloudKit.CKDiscoverUserIdentitiesOperation), [ккусеридентити](xref:CloudKit.CKUserIdentity) и [ккфетчрекордзонечанжесоператион](xref:CloudKit.CKFetchRecordZoneChangesOperation) (поддерживающие совместное использование записей).
- Некоторые API [кксубскриптион](https://developer.apple.com/reference/cloudkit/cksubscription) (например, подписки на основе зон и на основе запросов) являются устаревшими. Вместо этого используйте интерфейсы API [ккрекордзонесубскриптион](xref:CloudKit.CKRecordZoneSubscription) и [кккуерисубскриптион](xref:CloudKit.CKQuerySubscription) .
- [Нсперсистентсторекурдинатор](xref:CoreData.NSPersistentStoreCoordinator) символы, относящиеся к повсеместному содержимому, являются устаревшими.
- `ADBannerView`, `ADInterstitialAd` и связанные символы в классе [UIViewController](xref:UIKit.UIViewController) являются устаревшими.
- [Скуниформ](https://developer.apple.com/reference/spritekit/skuniform) символы, относящиеся к значениям с плавающей запятой, являются устаревшими.
- `UILocalNotification`Классы ,`UIMutableUserNotificationAction`, ,`UIUserNotificationCategory` и класса UIKit являются устаревшими. `UIUserNotificationSettings` `UIUserNotificationAction` `UIMutableUserNotificationCategory` Вместо этого используйте платформу [уведомлений пользователей](#user-notifications) .
- Методы `HandleActionForLocalNotification` ,`HandleActionForRemoteNotification` и`DidReceiveRemoteNotification`WatchKitявляютсяустаревшими. `DidReceiveLocalNotification` Вместо этого используйте `DidReceiveNotification` методы и.`HandleActionForNotification`
- Методы `DidReceiveLocalNotification` и `DidReceiveRemoteNotification` класса [вкекстенсионделегате](https://developer.apple.com/reference/watchkit/wkextensiondelegate) являются устаревшими. Создайте экземпляр [UNUserNotificationCenterDelegate](https://developer.apple.com/reference/usernotifications/unusernotificationcenterdelegate) , реализующий соответствующие методы, и назначьте его `Delegate` свойству объекта [унусернотификатионцентер](https://developer.apple.com/reference/usernotifications/unusernotificationcenter) .
- **Game Centerное приложение** устарело и удалено из iOS. Если приложение использует GameKit, оно _должно_ предоставлять собственный интерфейс для отображения таких gamekit функций, как списки лидеров и т. д.

Полный список устаревших элементов см. в статье о [различиях в документации для Apple 9,3 в ios 10,0](https://developer.apple.com/library/prerelease/content/releasenotes/General/iOS10APIDiffs/index.html) .

## <a name="related-links"></a>Связанные ссылки

- [Примеры iOS 10](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.iOS+iOS10)
