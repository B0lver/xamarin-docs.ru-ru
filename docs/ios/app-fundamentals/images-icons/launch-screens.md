---
title: Экраны запуска приложений Xamarin. iOS
description: В этой статье объясняется, как создать экран запуска приложения для всех устройств iOS с любым разрешением и ориентацией, используя единую единую раскадровку.
ms.prod: xamarin
ms.assetid: 31A489CA-756B-4B9B-B386-4BADF18EDD33
ms.technology: xamarin-ios
author: conceptdev
ms.author: crdun
ms.date: 05/02/2018
ms.openlocfilehash: 18d33dfcef109fd29f32969b9bdd15b8a2dc475a
ms.sourcegitcommit: 57f815bf0024b1afe9754c0e28054fc0a53ce302
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/06/2019
ms.locfileid: "70764056"
---
# <a name="launch-screens-for-xamarinios-apps"></a>Экраны запуска приложений Xamarin. iOS

_В этой статье объясняется, как создать экран запуска приложения для всех устройств iOS с любым разрешением и ориентацией, используя единую единую раскадровку._

До выпуска iOS 8 при создании экрана запуска для приложения iOS необходимо, чтобы разработчик предоставил ресурс изображения для каждого из различных форм устройств и решений, в которых приложение может работать. С момента выпуска iOS 8 можно было использовать единую единую раскадровку для создания экрана запуска, который выглядит правильно во всех случаях.

В этом кратком пошаговом руководстве описывается создание экрана запуска с раскадровкой, предоставленной по умолчанию в новом проекте, или с раскадровкой, добавленной вручную в существующий проект. Затем в нем демонстрируется использование конструктора iOS для добавления представления изображения и метки в раскадровку, задания ограничений для этих представлений и проверки правильности раскадровки для различных устройств и ориентаций.

<a name="storyboard" />

## <a name="managing-launch-screens-with-storyboards"></a>Управление экранами запуска с помощью раскадровок

В iOS 8 (и более поздних версиях) разработчик может создать специальную унифицированную раскадровку для предоставления экрана запуска вместо использования одного или нескольких статических образов запуска. При создании раскадровки запуска в конструкторе iOS используйте классы размера и автоматический макет, чтобы определить различные макеты для различных сред вывода. Используя классы размера и автоматический макет, разработчик может создать один экран запуска, который хорошо подходит для всех устройств и сред отображения.

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. В Visual Studio для Mac создайте новый проект, выбрав **файл > создать решение** , а затем выберите **одно приложение представления**: 

    ![Окно нового проекта с выбранным приложением с одним представлением](launch-screens-images/launch01.png)

    - По умолчанию новый проект включает файл **лаунчскрин. Storyboard** , который определяет интерфейс экрана запуска. 
    - Чтобы добавить раскадровку запуска в существующий проект, щелкните правой кнопкой мыши имя проекта в **панель решения** и выберите команду **Добавить > новый файл...** и выберите **экран запуска**:

    ![Окно "новый файл" с выбранным экраном запуска iOS](launch-screens-images/launch01b.png)

    - Присвойте файлу имя **лаунчскрин** или другое имя, которое вы выбрали.

2. Настройте проект для использования соответствующей раскадровки экрана запуска:

    - Дважды щелкните файл **info. plist** в **панель решения** , чтобы открыть его для редактирования.
    - В разделе **образы запуска** убедитесь, что для **экрана запуска** задано имя соответствующей раскадровки:

    ![Селектор экрана запуска в info. plist](launch-screens-images/launch02.png)

    - По умолчанию в качестве экрана запуска для нового проекта настраивается использование **лаунчскрин. Storyboard** .

3. Добавьте образ в каталог активов **. xcassets** , чтобы он был доступен для использования на экране запуска. Дополнительные сведения см. в разделе [Добавление изображений в набор изображений каталога активов](~/ios/app-fundamentals/images-icons/displaying-an-image.md) раздела Отображение руководств по [изображениям](~/ios/app-fundamentals/images-icons/displaying-an-image.md) .

4. Откройте **лаунчскрин. Storyboard** для редактирования, дважды щелкнув его в **панель решения**.

5. Выберите устройство и ориентацию для предварительного просмотра раскадровки запуска в конструкторе iOS. Откройте панель выбора устройств на нижней панели инструментов и выберите **iPhone 4S** и **Книжная**.

    ![Панель инструментов выбора устройств](launch-screens-images/launch05.png)

    - Обратите внимание, что выбор устройства и ориентации изменяет только то, как конструктор iOS предварительно просматривает проект. Независимо от сделанного выбора, новые добавленные ограничения применяются ко всем устройствам и ориентациям, если только кнопка **изменить признаки** не использовалась для указания другого значения. 

6. Задайте цвет **фона** главного представления контроллера представления. Выберите представление, щелкнув середину контроллера представления и отрегулируйте цвет фона с помощью **панель свойств**:

    ![Одно представление с фиолетовым цветом фона](launch-screens-images/launch06.png)

7. Добавьте **представление изображения** на экран запуска и задайте его исходное **изображение**:

    - Перетащите **представление изображения** из **панели элементов** в центр представления.
    - Выбрав **представление изображений** , в разделе **мини** -приложения **панель свойств** задайте для свойства **Image** набор изображений, уже добавленный в каталог ресурсов Assets **. xcassets** . Измените расположение и размер **представления изображения** по мере необходимости:
    
    ![Представление изображения со своим набором свойств Image](launch-screens-images/launch07.png)

8. Добавьте **метку** под **представлением изображения** и используйте **панель свойств** , чтобы задать его атрибуты: 

    ![Метка с набором текста и цветов](launch-screens-images/launch08.png)

9. Переключитесь в режим редактирования ограничений, используя правую кнопку на **панели инструментов ограничения**:
    
    ![Кнопка режима правки ограничений](launch-screens-images/launch09.png)

10. Добавьте ограничения в **представление изображений**, установив его высоту и ширину и выровнять по горизонтали и вертикали:

    ![Представление изображения с ограничениями макета](launch-screens-images/launch10.png)

    - Дополнительные сведения о добавлении ограничений см. в разделе [Автоматическое разметка с помощью Xamarin Designer для iOS](~/ios/user-interface/designer/designer-auto-layout.md).

11. Добавьте ограничения к **метке**, выровнять ее по горизонтали, указав высоту и ширину, а также наведя на нее фиксированное расстояние по вертикали от **представления изображения**:

    ![Метка с ограничениями макета](launch-screens-images/launch11.png)

12. Протестируйте другие устройства и ориентации, чтобы убедиться в том, что структура выглядит так, как задумано во всех сценариях. В случаях, когда необходимо выполнить корректировки для конкретного устройства или ориентации, используйте кнопку **изменить признаки** , чтобы добавить ограничения для конкретных классов размера:

    ![Экран запуска, отображаемый как iPhone X с альбомной ориентацией](launch-screens-images/launch12.png)

13. Сохраните изменения в раскадровке. Запустите приложение на симуляторе или устройстве, и экран запуска будет отображаться при запуске приложения.

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. Создайте новый проект. В Visual Studio выберите **файл > новый > проект > Visual C# > iPhone & iPad > приложение iOS (Xamarin)** :

    ![Окно нового проекта с выбранным приложением iOS (Xamarin)](launch-screens-images/launch01.w157.png)

    Выберите шаблон **приложения с одним представлением** и нажмите кнопку **ОК**.

    ![Шаблон приложения с одним представлением](launch-screens-images/launch01-2.w157.png)

2. Если **ресурсы > лаунчскрин. XIB** существуют в **Обозреватель решений**, удалите ее, щелкнув правой кнопкой мыши файл и выбрав **Удалить**. Этот файл будет заменен раскадровкой на следующем шаге.

3. Создание раскадровки для использования в качестве экрана запуска. В **Обозреватель решений**щелкните правой кнопкой мыши проект и выберите **Добавить > новый элемент** , а затем — **пустая раскадровка**. Назовите эту раскадровку **лаунчскрин. Storyboard** и нажмите кнопку **Добавить**:

    ![Окно "Добавление нового элемента" с выбранной пустой раскадровкой](launch-screens-images/launch03.w157.png)

4. Настройте проект для использования **лаунчскрин. Storyboard** в качестве экранного раскадровки запуска:

    - В **обозревателе решений** дважды щелкните файл **Info.plist**, чтобы открыть его для редактирования. 
    - На вкладке " **визуальные ресурсы** " задайте для **экрана запуска** значение **лаунчскрин**.

    ![Селектор экрана запуска в info. plist](launch-screens-images/launch04-vs.png)

5. Добавьте образ в каталог активов в проекте, чтобы он был доступен для использования на экране запуска:

    - В **Обозреватель решений**щелкните правой кнопкой мыши **каталоги активов** и выберите **Добавить каталог активов**. Назовите этот новый ресурс **каталога активов**:

    ![Окно "Добавление нового элемента" с выбранным каталогом ресурсов](launch-screens-images/launch05.w157.png)

    - Добавьте новый набор изображений в каталог активов **активов** , как описано в разделе [Добавление изображений в набор изображений каталога активов](~/ios/app-fundamentals/images-icons/displaying-an-image.md) в области отображения руководств по [изображениям](~/ios/app-fundamentals/images-icons/displaying-an-image.md) .

6. Откройте **лаунчскрин. Storyboard** для редактирования, дважды щелкнув его в **Обозреватель решений**.

    - Чтобы изменить файл раскадровки, Visual Studio требуется активное подключение к узлу сборки Mac. Дополнительные сведения см. в разделе [Подключение к руководству по Mac](~/ios/get-started/installation/windows/connecting-to-mac/index.md) .

7. Выберите устройство и ориентацию для предварительного просмотра раскадровки запуска в конструкторе iOS. Откройте панель выбора устройств на нижней панели инструментов и выберите **iPhone 4S** и **Книжная ориентация**: 

    ![Панель инструментов выбора устройств](launch-screens-images/launch07-vs.png)

    - Обратите внимание, что выбор устройства и ориентации изменяет только то, как конструктор iOS предварительно просматривает проект. Независимо от сделанного выбора, новые добавленные ограничения применяются ко всем устройствам и ориентациям, если только кнопка **изменить признаки** не использовалась для указания другого значения. 

8. Добавьте **контроллер представления** в раскадровку, перетащив ее из **панели элементов** в область конструктора: 

    ![В область конструктора добавлен пустой контроллер представления](launch-screens-images/launch08-vs.png)

9. Задайте цвет **фона** главного представления контроллера представления. Выберите представление, щелкнув середину контроллера представления и отрегулируйте цвет фона в **окне Свойства**:
    
    ![Одно представление с фиолетовым цветом фона](launch-screens-images/launch09-vs.png)

10. Добавьте **представление изображения** на экран запуска и задайте его исходное **изображение**:

    - Перетащите **представление изображения** из **области элементов** в центр представления.
    - Выбрав **представление изображений** , в разделе **мини** -приложения **окна свойств** задайте для свойства **Image** набор изображений, уже добавленный в каталог ресурсов **активов** . Измените расположение и размер **представления изображения** по мере необходимости:
    
    ![Представление изображения со своим набором свойств Image](launch-screens-images/launch10-vs.png)

11. Добавьте **метку** под **представлением изображения**:

    - Перетащите **метку** из **панели элементов** в область конструктора, разместив ее под **представлением изображения**.
    - Задайте атрибуты для **метки** в окне " **свойства**":

    ![Метка с набором текста и цветов](launch-screens-images/launch11-vs.png) 

12. Переключитесь в режим редактирования ограничений, используя правую кнопку на **панели инструментов ограничения**:
    
    ![Кнопка режима правки ограничений](launch-screens-images/launch12-vs.png) 

13. Добавьте ограничения в **представление изображений**, установив его высоту и ширину и выровнять по горизонтали и вертикали:

    ![Представление изображения с ограничениями макета](launch-screens-images/launch13-vs.png) 

    - Дополнительные сведения о добавлении ограничений см. [в разделе Автоматическое разметка с помощью Xamarin Designer для iOS](~/ios/user-interface/designer/designer-auto-layout.md).

14. Добавьте ограничения к **метке**, выровнять ее по горизонтали, указав высоту и ширину, а также наведя на нее фиксированное расстояние по вертикали от **представления изображения**:
    
    ![Метка с ограничениями макета](launch-screens-images/launch14-vs.png) 

15. Протестируйте другие устройства и ориентации, чтобы убедиться в том, что структура выглядит так, как задумано во всех сценариях. В случаях, когда необходимо выполнить корректировки для конкретного устройства или ориентации, используйте кнопку **изменить признаки** , чтобы добавить ограничения для конкретных классов размера:

    ![Экран запуска, отображаемый как iPhone X с альбомной ориентацией](launch-screens-images/launch15-vs.png) 

16. Сохраните изменения в раскадровке. Запустите приложение на симуляторе или устройстве, и экран запуска будет отображаться при запуске приложения.

-----

> [!NOTE]
> Раскадровка, используемая в качестве экрана запуска, _должна_ включать только простые встроенные элементы пользовательского интерфейса и **не может** выполнять вычисления или быть производными от пользовательского класса.

Дополнительные сведения о создании экрана запуска с помощью унифицированной раскадровки см. в разделе « [экраны динамического запуска](~/ios/user-interface/storyboards/unified-storyboards.md#dynamic-launch-screens) » раздела « [унифицированные раскадровки](~/ios/user-interface/storyboards/unified-storyboards.md) ».

## <a name="migrating-to-launch-screen-storyboards"></a>Переход на запуск экранных раскадровок

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

При обновлении существующего приложения для использования раскадровки на экранах запуска щелкните правой кнопкой мыши **имя проекта** в **Обозреватель решений** и выберите **добавить** > **новый файл...** . Выберите**экран запуска** **iOS** > и нажмите кнопку **создать** :

![](launch-screens-images/storyboard02.png "Выбор экрана запуска iOS")

Затем дважды щелкните `Info.plist` файл в **Обозреватель решений** , чтобы открыть его для редактирования. На **экране запуск**выберите новый файл раскадровки, созданный выше.

![](launch-screens-images/storyboard09.png "Выберите новый файл раскадровки, созданный выше")

Чтобы использовать новую раскадровку в качестве экрана запуска, выполните следующие действия.

1. Дважды щелкните `Info.plist` файл в **Обозреватель решений** , чтобы открыть его для редактирования.
2. Перейдите к разделу " **универсальные образы запуска** " редактора, откройте раскрывающийся список **запуска** и выберите имя раскадровки, созданной выше: 

    ![](launch-screens-images/storyboard08.png "Установка для экрана запуска раскадровки")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. Щелкните правой кнопкой мыши имя проекта в **Обозреватель решений** и выберите **Добавить** > **новый файл...** : 

    ![](launch-screens-images/image012.png "Добавить новый файл")
2. Введите имя для экрана запуска и нажмите кнопку **Добавить** : 

    ![](launch-screens-images/image013.png "Введите имя для экрана запуска")
3. В **Обозреватель решений**дважды щелкните только что созданный файл раскадровки, чтобы открыть его для редактирования.
4. Убедитесь, что для **класса Size** задано значение **Any: Any** и **представление как** **универсальное**: 

    ![](launch-screens-images/image016.png "Убедитесь, что для класса Size задано значение Any: Any и представление как универсальный.")
5. Выпускайте экран запуска из классов размера, простых элементов пользовательского интерфейса ( `UIImageView`например,) и изображений, включенных в пакет приложения: 

    ![](launch-screens-images/image017.png "Сборка экрана запуска в конструкторе iOS")
6. Сохраните изменения в раскадровке.

-----

## <a name="related-links"></a>Связанные ссылки

- [Экраны динамического запуска (пример)](https://docs.microsoft.com/samples/xamarin/ios-samples/ios8-dynamiclaunchscreen)
- [Унифицированная раскадровка](~/ios/user-interface/storyboards/unified-storyboards.md)
- [Основные сведения о конструкторе iOS](~/ios/user-interface/designer/index.md)
- [Добавление изображений в набор изображений каталога активов](~/ios/app-fundamentals/images-icons/displaying-an-image.md#adding-images-to-an-asset-catalog-image-set)
- [Автоматический макет с Xamarin Designer для iOS](~/ios/user-interface/designer/designer-auto-layout.md)
- [Рекомендации по работе с человеческим интерфейсом: Экран запуска](https://developer.apple.com/ios/human-interface-guidelines/icons-and-images/launch-screen/)
