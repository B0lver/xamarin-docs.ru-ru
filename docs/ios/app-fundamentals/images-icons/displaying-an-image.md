---
title: Отображает изображение в Xamarin.iOS
description: В этой статье рассматриваются включая ресурс изображения в приложение Xamarin.iOS и отображение этого образа, либо с помощью кода C#, либо, присвоив его к элементу управления в конструкторе iOS.
ms.prod: xamarin
ms.assetid: 60288B12-49E3-4E87-8690-D04A5EC7A664
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 04/24/2018
ms.openlocfilehash: 325f4e99e70f88ccf642253720f4229142a169ec
ms.sourcegitcommit: 7eed80186e23e6aff3ddbbf7ce5cd1fa20af1365
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/11/2018
ms.locfileid: "51526564"
---
# <a name="displaying-an-image-in-xamarinios"></a>Отображает изображение в Xamarin.iOS

_В этой статье рассматриваются включая ресурс изображения в приложение Xamarin.iOS и отображение этого образа, либо с помощью кода C#, либо, присвоив его к элементу управления в конструкторе iOS._

## <a name="adding-and-organizing-images-in-a-xamarinios-app"></a>Добавление и организации изображений в приложении Xamarin.iOS

При добавлении изображения для использования в приложении Xamarin.iOS, разработчик будет использовать _каталог активов_ для поддержки всех устройств iOS и разрешение, соответствующее приложение.

Добавлен в iOS 7, **наборы изображений каталоги активов** содержат всех версий или представление изображения, которые необходимы для поддержки различных устройств и масштабировать факторов для приложения. А не полагаться на имя файла ресурсов изображения, **наборы изображений** использовать Json-файл, чтобы указать, какой образ принадлежит какие устройства или разрешения. Это предпочтительный способ управления и поддержки образов ОС iOS (в iOS 9 или более поздней версии).

## <a name="adding-images-to-an-asset-catalog-image-set"></a>Добавление изображений к изображению каталог активов набор

Как уже говорилось, **наборы изображений каталоги активов** содержат всех версий или представление изображения, которые необходимы для поддержки различных устройств и масштабировать факторов для приложения. А не полагаться на имя файла ресурсов изображения, **наборы изображений** использовать Json-файл, чтобы указать, какой образ принадлежит какие устройства или разрешения.

Чтобы создать новый набор изображений и добавление изображений к нему, сделайте следующее:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. В **обозревателе решений**, дважды щелкните `Assets.xcassets` файл, чтобы открыть его для редактирования:

    ![](displaying-an-image-images/imageset01.png "Assets.xcassets в обозревателе решений")
2. Щелкните правой кнопкой мыши **списка "ресурсы"** и выберите **новый набор изображений**:

    ![](displaying-an-image-images/imageset02.png "Добавление нового набора изображений")
3. Выберите новый набор изображений и редактора будет отображаться:

    ![](displaying-an-image-images/imageset03.png "Редактор набора изображений")
4. Отсюда перетащите изображения для каждого из различных устройств и необходимые разрешения. 
5. Дважды щелкните новый набор изображений **имя** в **списка "ресурсы"** для редактирования: ![](displaying-an-image-images/imageset04.png "имя нового набора образ изменения")

При использовании **образа наборе** в конструкторе iOS, просто выберите имя набора из раскрывающегося списка в редакторе свойств:

![](displaying-an-image-images/imageset06.png "Выберите имя набора изображений из раскрывающегося списка")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. Откройте из каталога активов **обозревателе решений**и в левом верхнем углу щелкните **, а также** кнопки:

    ![](displaying-an-image-images/asset5.png "Нажмите кнопку")

2. Выберите **добавить набор изображений** и редактор задать изображение будет отображаться для нового набора изображений. Отсюда перетащите изображения для каждого из различных устройств и необходимые разрешения. 

    ![](displaying-an-image-images/asset7.png "Редактор набора изображений")

### <a name="renaming-an-image-set"></a>Переименование набора изображений

Чтобы переименовать набор изображений, сделайте следующее:

1. В **обозревателе решений**, дважды щелкните **каталог активов** файл, чтобы открыть его для редактирования:

    ![](displaying-an-image-images/rename01.png "Каталог ресурсов в обозревателе решений")
2. Выберите **образа наборе** переименование:

    ![](displaying-an-image-images/rename02.png "Выберите образ, задайте для переименования")
3. В **обозревателе свойств**, прокрутите вниз и выберите **имя**(в разделе **Прочее** раздел):

    ![](displaying-an-image-images/rename03.png "Выберите имя в разделе \"Разное\"")
4. Введите новый **имя** для **образа наборе** и сохраните изменения.

-----

При использовании **образа наборе** в коде сослаться на него по имени путем вызова `FromBundle` метод `UIImage` класса. Пример.

```csharp
MonkeyImage.Image = UIImage.FromBundle ("PurpleMonkey");
```

> [!IMPORTANT]
> Если образы, назначенных группе изображения не отображаются правильно, убедитесь, что используется правильное имя файла с `FromBundle` метод ( **образа наборе** , но не родителем **каталог активов** имя). Для изображения PNG `.png` расширения можно опустить. Для других форматов расширение является обязательным (например) `PurpleMonkey.jpg`).

### <a name="using-vector-images-in-asset-catalogs"></a>С помощью векторных изображений в каталоги активов

Начиная с версии iOS 8, специальные **вектор** как были добавлены **наборы изображений** , разработчик может включать **PDF** векторного изображения в лоток вместо этого в том числе в формате файлы отдельных точечного рисунка с разными разрешениями. С помощью этого метода, предоставить файл один вектор для `@1x` разрешение (в формате PDF-файла вектор) и `@2x` и `@3x` версии файла будут создаваться во время компиляции и включенные в пакет приложения.

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![](displaying-an-image-images/imageset05.png "Векторные изображения в редакторе каталоги активов")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![](displaying-an-image-images/asset8.png "Векторные изображения в редакторе каталоги активов")

-----

Например, если разработчик включает `MonkeyIcon.pdf` файл как вектор каталог активов с разрешением x 150px 150px, следующие растрового изображения, ресурсы должны быть включены в готовом приложении пакета при выполнении компиляции:

- `MonkeyIcon@1x.png` -разрешение x 150px 150 пикс.
- `MonkeyIcon@2x.png` -300px x 300px разрешения.
- `MonkeyIcon@3x.png` -450px x 450px разрешения.

Ниже следует принимать во внимание при использовании PDF векторных изображений в каталоги активов:

- Это не поддерживается полный вектор, так как PDF-ФАЙЛ будет растровое точечного рисунка во время компиляции и точечные рисунки, поставляемых в конечном приложении.
- Размер изображения не может быть скорректирована, когда он был установлен в каталоге ресурсов. Если разработчик пытается изменить размер изображения (либо в коде или с помощью автоматического макета и размеры) изображение будет искажен так же, как и любой точечный рисунок.
- Каталоги активов только, совместим с iOS 7 и более поздних, если приложения должны поддерживать iOS 6 или более низкое значение, он не может использовать каталоги активов.

## <a name="working-with-template-images"></a>Работа с образами шаблонов

Исходя из структуры приложения iOS, возможны периоды, когда разработчику необходимо настроить значок или изображение в пользовательском интерфейсе в соответствии с изменением в цветовой схеме (например, на основе предпочтений пользователя).

Легко добиться этого эффекта, переключение _режим рендеринга_ средства изображение **образ шаблона**:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

[![](displaying-an-image-images/templateimage01.png "Режим отрисовки значение образ шаблона")](displaying-an-image-images/templateimage01.png#lightbox)

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

[![](displaying-an-image-images/templateimage01vs.png "Режим отрисовки значение шаблона")](displaying-an-image-images/templateimage01vs.png#lightbox)

-----

Из конструктора iOS, назначение ресурса изображения к элементу управления пользовательского интерфейса, а затем задайте **оттенок** для выделения цветом изображения:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

[![](displaying-an-image-images/templateimage03.png "Значение оттенка для выделения цветом изображения")](displaying-an-image-images/templateimage03.png#lightbox)

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

[![](displaying-an-image-images/templateimage03vs.png "Значение оттенка для выделения цветом изображения")](displaying-an-image-images/templateimage03vs.png#lightbox)

-----

При необходимости ресурса изображения и оттенок можно задать непосредственно в коде:

```csharp
MyIcon.Image = UIImage.FromBundle ("MessageIcon");
MyIcon.TintColor = UIColor.Red;
```

Чтобы использовать образ шаблона полностью из кода, сделайте следующее:

```csharp
if (MyIcon.Image != null) {
    var mutableImage = MyIcon.Image.ImageWithRenderingMode (UIImageRenderingMode.AlwaysTemplate);
    MyIcon.Image = mutableImage;
    MyIcon.TintColor = UIColor.Red;
}
```

Так как `RenderMode` свойство `UIImage` только для чтения, используйте `ImageWithRenderingMode` метод, чтобы создать новый экземпляр образа с выбранным параметром режим рендеринга.

Существует три возможно параметры для `UIImage.RenderMode` через `UIImageRenderingMode` перечисления:

* `AlwaysOriginal` — Принудительно вызывает изображение, отображаемой в качестве исходного файла образа без изменений.
* `AlwaysTemplate` — Принудительно вызывает изображения должен быть обработан как образ шаблона выделения цветом пикселей с заданным `Tint` цвет.
* `Automatic` -Либо обработки изображения, так как шаблон или оригинала в зависимости от среды, которая используется в. Например, если изображение используется в `UIToolBar`, `UINavigationBar`, `UITabBar` или `UISegmentControl` он будет рассматриваться в качестве шаблона.

## <a name="adding-new-assets-collections"></a>Добавление новых коллекций ресурсов

При работе с изображениями в каталоги активов возможны ситуации, когда коллекция будет необходимы, а не Добавление всех образов приложения `Assets.xcassets` коллекции. Например, при разработке ресурсы по запросу.

Чтобы добавить новый каталог ресурсов в проект:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. Щелкните правой кнопкой мыши **имя_проекта** в **обозревателе решений** и выберите **добавить** > **новый файл...**
2. Выберите **iOS** > **каталог активов**, введите **имя** коллекции и нажмите кнопку **New** кнопки:

    ![](displaying-an-image-images/asset01.png "Создать новый каталог ресурсов")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. В обозревателе решений щелкните правой кнопкой мыши **каталоги активов** и выберите **Добавить > новый каталог ресурсов**.
2. Присвойте ему имя и нажмите кнопку **добавить**:

    ![](displaying-an-image-images/asset1.png "Создать новый каталог ресурсов")

-----

На этой странице коллекции вы можете работать с таким же образом, по умолчанию `Assets.xcassets` коллекции автоматически включается в проект.

## <a name="using-images-with-controls"></a>Использование изображений с элементами управления

Помимо использования образов для поддержки приложения, iOS использует изображения с типами приложений управления, такими как панели вкладки, панелей инструментов, панели навигации, таблиц и кнопки. Простой способ сделать изображение в элементе управления — присвоить `UIImage` экземпляр элемента управления `Image` свойство.

### <a name="frombundle"></a>FromBundle

`FromBundle` Вызов метода является синхронным вызовом (блокировки), имеет ряд образ загрузки и управления имеет встроенную, такие как кэширование, поддержки и автоматической обработки файлов изображений для различных разрешений.  

Приведенный ниже показано, как задать изображение `UITabBarItem` на `UITabBar`:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage");
```

Предположим, что `MyImage` имя ресурс изображения, добавить каталог активов выше. При работе образы каталог активов, просто укажите имя набора изображений в `FromBundle` метод **PNG** изображения в формате:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage");
```

Для любой другой формат образа установите расширение с именем. Пример:

```csharp
TabBarItem.Image = UIImage.FromBundle ("MyImage.jpg");
```

Дополнительные сведения о значков и изображений, см. в документации Apple на [пользовательский значок и правила создания образа](http://developer.apple.com/library/ios/#documentation/UserExperience/Conceptual/MobileHIG/IconsImages/IconsImages.html).

## <a name="displaying-an-image-in-a-storyboards"></a>Отображает изображение в раскадровках

После добавления изображения в проект Xamarin.iOS, с помощью каталоги активов, его можно легко отображаться на раскадровку с помощью `UIImageView` в конструкторе iOS. Например, если были добавлены следующие ресурса изображения:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![](displaying-an-image-images/display01.png "Добавлен пример ресурса изображения")

Выполните следующие действия для отображения его в раскадровку.

1. Дважды щелкните `Main.storyboard` файл **обозревателе решений** чтобы открыть его для редактирования в конструкторе iOS.
2. Выберите **изображения представления** из **элементов**:

     ![](displaying-an-image-images/display02.png "Выберите представление изображения с панели инструментов")
3. Перетащите представление изображения в области конструктора и положение и размер, при необходимости:

    ![](displaying-an-image-images/display03.png "Новое представление изображения в области конструктора")
4. В **мини-приложение** раздел **обозреватель свойств** выберите нужный **изображение** активов для отображения:

    ![](displaying-an-image-images/display04.png "Выберите нужный ресурс изображения для отображения")
5. В **представление** используйте **режим** для управления как изображение будет изменяются, когда **представление изображений** изменяется.
6. С помощью **представление изображений** , щелкните его еще раз, чтобы добавить **ограничения**:

    ![](displaying-an-image-images/display05.png "Добавление ограничений")
7. Перетащите маркер «T», в форме с каждой стороны **представление изображений** соответствующего края экрана, чтобы изображение по бокам «закрепить». В этом случае **представление изображений** будет производить сжатие и увеличиваться по мере изменения размера экрана.
8. Сохраните изменения в раскадровку.

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![](displaying-an-image-images/display01vs.png "Добавлен пример ресурса изображения")

Выполните следующие действия для отображения его в раскадровку.

1. Дважды щелкните `Main.storyboard` файл **обозревателе решений** чтобы открыть его для редактирования в конструкторе iOS.
2. Выберите **изображения представления** из **элементов**:

     ![](displaying-an-image-images/display02vs.png "Выберите представление изображения с панели инструментов")
3. Перетащите представление изображения в области конструктора и положение и размер, при необходимости:

    ![](displaying-an-image-images/display03vs.png "Новое представление изображения в области конструктора")
4. В **мини-приложение** раздел **обозреватель свойств** выберите нужный **изображение** активов для отображения:

    ![](displaying-an-image-images/display04vs.png "Выберите нужный ресурс изображения для отображения")
5. В **представление** используйте **режим** для управления как изображение будет изменяются, когда **представление изображений** изменяется.
6. С помощью **представление изображений** , щелкните его еще раз, чтобы добавить **ограничения**:

    ![](displaying-an-image-images/display05vs.png "Добавление ограничений")
7. Перетащите маркер «T», в форме с каждой стороны **представление изображений** соответствующего края экрана, чтобы изображение по бокам «закрепить». В этом случае **представление изображений** будет производить сжатие и увеличиваться по мере изменения размера экрана.
8. Сохраните изменения в раскадровку.

-----

## <a name="displaying-an-image-in-code"></a>Отображает изображение в коде

Так же, как отображение изображения в раскадровке, после добавления изображения в проект Xamarin.iOS, с помощью каталоги активов, его можно легко отобразить с помощью кода C#.

Рассмотрим следующий пример:

```csharp
// Create an image view that will fill the
// parent image view and set the image from
// an Image Asset

var imageView = new UIImageView (View.Frame);
imageView.Image = UIImage.FromBundle ("Kemah");

// Add the Image View to the parent view
View.AddSubview (imageView);
```

Этот код создает новый `UIImageView` и присваивает ему исходный размер и положение. Затем он загружает изображение из ресурса образа добавлен в проект и добавляет `UIImageView` родителю `UIView` для его отображения.

## <a name="related-links"></a>Связанные ссылки

- [Работа с образами (пример)](https://developer.xamarin.com/samples/WorkingWithImages/)
- [Hello, iPhone](~/ios/get-started/hello-ios/index.md)
- [Размер образа и разрешения (Apple)](https://developer.apple.com/design/human-interface-guidelines/ios/icons-and-images/image-size-and-resolution/)
