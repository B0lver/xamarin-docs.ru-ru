---
title: iOS средства безопасности и конфиденциальности
description: В этом документе описываются средства безопасности и конфиденциальности для операций ввода-вывода и способы их использования с Xamarin.iOS. Он смотрит на обновления, выполненные в iOS 10 и как получить доступ к личных данных пользователей.
ms.prod: xamarin
ms.assetid: 718C8721-C359-4650-878A-D68E159A3F53
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/16/2017
ms.openlocfilehash: 1c88a5c16dbe5559f0b551a97a27ebb893991187
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50120506"
---
# <a name="ios-security-and-privacy-features"></a>iOS средства безопасности и конфиденциальности

_В этой статье рассматривается работа с безопасностью и конфиденциальностью в iOS и как они влияют на приложения Xamarin.iOS._

Apple сделала ряд дополнительных возможностей для безопасности и конфиденциальности в iOS 10 (и выше), которые помогут разработчику повысить безопасность своих приложений и обеспечению конфиденциальности конечного пользователя. В этой статье будут рассмотрены реализации этих функций в приложении Xamarin.iOS.
    
<a name="General-Enhancements" />

## <a name="general-enhancements"></a>Общие улучшения

В iOS 10 были сделаны следующие изменения общей безопасности и конфиденциальности:

- Общие данные безопасности архитектуры (CDSA) API является устаревшим и заменяется SecKey API для создания асимметричных ключей.
- Новый `NSAllowsArbitraryLoadsInWebContent` ключ можно добавить в приложения **Info.plist** файл и позволяет веб-страницы правильно загрузить, хотя по-прежнему включена защита Apple Transport Security (ATS) для остальной части приложения. Дополнительные сведения см. в разделе наших [безопасность транспорта приложения](~/ios/app-fundamentals/ats.md) документации.
- Так как в новый буфер обмена в iOS 10 и macOS Sierra позволяет пользователю для копирования и вставки между устройствами, API был расширен для разрешить обмена только к определенному устройству и с метками времени автоматически очищается в определенный момент. Кроме того именованные монтажных столах больше не сохраняются и должна быть заменена общим контейнерам монтажном столе.
- Для всех подключений SSL/TLS симметричного шифрования RC4 теперь отключено по умолчанию. Кроме того Защита транспорта API больше не поддерживает SSLv3, и рекомендуется, что разработчик остановить использование шифрования SHA-1 и 3DES как можно скорее.

<a name="Accessing-Private-User-Data" />

## <a name="accessing-private-user-data"></a>Доступ к данным пользователя Private

Статически приложений, работающих под управлением iOS 10 (или более поздней версии) необходимо объявлять о своих намерениях, для доступа к определенной функции или сведения о пользователе, введя один или несколько ключей конфиденциальности в их **Info.plist** файлы, которые отобразить для пользователя, почему приложение хочет получить сообщение доступ.

> [!IMPORTANT]
> Приложения, которые не удалось предоставить необходимые ключи автоматически завершается системой при попытке получить доступ к одной из ограниченные возможности или сведения о пользователе, _без ошибок_! Если приложение запускается, неожиданно сбоем на устройствах iOS 10, убедитесь, что все требуемые **Info.plist** были указаны.

Связанные с следующем конфиденциальности, что ключи будут доступны:

- **Конфиденциальность — использование Apple Music описание** (`NSAppleMusicUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к библиотеке мультимедиа пользователя.
- **Конфиденциальность — Описание использования Bluetooth для периферийных устройств** (`NSBluetoothPeripheralUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к Bluetooth на устройстве пользователя.
- **Конфиденциальность — Описание использования календарей** (`NSCalendarsUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к календарю пользователя.
- **Конфиденциальность — Описание использования камеры** (`NSCameraUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к камеры устройства.
- **Конфиденциальность — Описание использования контактов** (`NSContactsUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к контактам пользователя.
- **Конфиденциальность — Описание использования общей папки работоспособности** (`NSHealthShareUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к данным работоспособности пользователя. Дополнительные сведения см. в разделе Apple [ссылки на класс HKHealthStore](https://developer.apple.com/reference/healthkit/hkhealthstore).
- **Конфиденциальность — Описание использования работоспособности обновления** (`NSHealthUpdateUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет изменить данные состояния пользователя. Дополнительные сведения см. в разделе Apple [ссылки на класс HKHealthStore](https://developer.apple.com/reference/healthkit/hkhealthstore).
- **Конфиденциальность — Описание использования HomeKit** (`NSHomeKitUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к данным конфигурации HomeKit пользователя.
- **Конфиденциальность — всегда Описание использования местоположения** (`NSLocationAlwaysUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет всегда иметь доступ к расположению пользователя.
- [Устарело] **Конфиденциальность — Описание использования местоположения** (`NSLocationUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к расположению пользователя. *Примечание: Этот ключ был объявлен устаревшим в iOS 8 (и выше). Используйте `NSLocationAlwaysUsageDescription` или `NSLocationWhenInUseUsageDescription` вместо этого.*
- **Конфиденциальность — когда в используйте Описание использования местоположения** (`NSLocationWhenInUseUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к расположению пользователя, пока оно выполняется.
- [Устарело] **Конфиденциальность — Описание использования Медиатеки** -позволяет разработчику для описания того, почему приложение хочет получить доступ к библиотеке мультимедиа пользователя. *Примечание: Этот ключ был объявлен устаревшим в iOS 8 (и выше). Используйте `NSAppleMusicUsageDescription` вместо этого.*
- **Конфиденциальность — Описание использования микрофона** (`NSMicrophoneUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к микрофону устройств.
- **Конфиденциальность — Описание использования движения** (`NSMotionUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к акселерометр устройства.
- **Конфиденциальность — Описание использования Медиатеки** (`NSPhotoLibraryUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к библиотеке фотографий пользователя.
- **Конфиденциальность — Описание использования напоминаний** (`NSRemindersUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к напоминаний пользователя.
- **Конфиденциальность — Описание использования Siri** (`NSSiriUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет отправить данные пользователя для Siri.
- **Конфиденциальность — Описание использования распознавания речи** (`NSSpeechRecognitionUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет отправить данные пользователя на серверы распознавания речи от Apple.
- **Конфиденциальность — Описание использования поставщика услуг ТВ** (`NSVideoSubscriberAccountUsageDescription`) — позволяет разработчику для описания того, почему приложение хочет получить доступ к учетной записи пользователя TV поставщика.

Дополнительные сведения о работе с **Info.plist** ключи, см. в разделе Apple [справочника по ключам сведения свойства списка](https://developer.apple.com/library/content/documentation/General/Reference/InfoPlistKeyReference/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009248-SW1).

<a name="Setting-Privacy-Keys" />

## <a name="setting-privacy-keys"></a>Параметр закрытые ключи

Рассмотрим следующий пример доступа к HomeKit в iOS 10 (и выше), разработчику нужно будет добавить `NSHomeKitUsageDescription` ключа в приложение **Info.plist** файл и предоставить объявление строки, почему приложение хочет получить доступ к HomeKit пользователя База данных. Эта строка будет отображен пользователю при первом запуске приложения:

![Пример предупреждения NSHomeKitUsageDescription](security-privacy-images/info01.png "NSHomeKitUsageDescription пример предупреждения")

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

Xamarin.iOS для Visual Studio в настоящее время не поддерживает редактирование **Info.plist** редакторе манифестов закрытые ключи из значений в iOS по умолчанию. Вместо этого необходимо использовать универсальный редактор PList, поэтому выполните следующие действия:

1. Щелкните правой кнопкой мыши **Info.plist** файл **обозревателе решений** и выберите **открыть с помощью...** .
2. Выберите **универсальный редактор PList** список программ, чтобы открыть файл, а затем щелкните **ОК**.

    ![Выберите редактор PList универсального](security-privacy-images/InfoEditorSelectionVs.png "выберите редактор универсального PList")
3. Нажмите кнопку **+** кнопки в последней строке в редакторе, чтобы добавить новую запись в список. Это называется «Настраиваемого свойства» с типом, значение `String` и пустое значение.
4. Щелкните имя свойства, и появится раскрывающийся список.
5. В раскрывающемся списке выберите ключ конфиденциальности (такие как **конфиденциальность — Описание использования HomeKit**): 

    ![Выберите ключ конфиденциальности](security-privacy-images/InfoPListEditorSelectKey.png "выберите ключ конфиденциальности")
6. Введите описание в столбце Value почему приложение хочет получить доступ к данной функции или сведения о пользователе: 

    ![Введите описание](security-privacy-images/InfoPListSetValue.png "введите описание")
7. Сохраните изменения в файле.

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

Чтобы задать закрытые ключи, сделайте следующее:

1. В **обозревателе решений** дважды щелкните файл **Info.plist**, чтобы открыть его для редактирования.
2. В нижней части экрана, переключитесь в **источника** представления.
3. Добавьте новый **запись** в список.
4. В раскрывающемся списке выберите ключ конфиденциальности (такие как **конфиденциальность — Описание использования HomeKit**): 

    ![Выберите ключ конфиденциальности](security-privacy-images/info02.png "выберите ключ конфиденциальности")
5. Введите описание для почему приложение хочет получить доступ к данной функции или сведения о пользователе: 

    ![Введите описание](security-privacy-images/info03.png "введите описание")
6. Сохраните изменения в файле.

-----

> [!IMPORTANT]
> В примере, приведенном выше "," не удалось установить `NSHomeKitUsageDescription` в **Info.plist** файла приведет к его _автоматически сбоя_ (закрывается системой во время выполнения) без ошибок, при запуске в iOS 10 ( или выше).

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье подробно рассматривается безопасность и конфиденциальность изменения, что Apple сделала в iOS 10 и как они влияют на приложения Xamarin.iOS.

## <a name="related-links"></a>Связанные ссылки

- [Примеры iOS 10](https://developer.xamarin.com/samples/ios/iOS10/)
