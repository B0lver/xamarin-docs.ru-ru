---
title: Тестирование на устройствах Apple Watch
description: В этом документе описывается развертывание watchOS приложения, созданного с помощью Xamarin для тестирования на фактическое Apple Watch. Он рассматривается устройств, профили, тестирования, подготовки и приводятся некоторые советы по устранению неполадок.
ms.prod: xamarin
ms.assetid: A72A7D38-FAE8-4DD2-843D-54B74C5078D7
ms.technology: xamarin-ios
author: bradumbaugh
ms.author: brumbaug
ms.date: 03/17/2017
ms.openlocfilehash: a960d81d41ff127fa3316e6190dfbf4881305c02
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34790865"
---
# <a name="testing-on-apple-watch-devices"></a>Тестирование на устройствах Apple Watch

После [шагов развертывания](~/ios/watchos/deploy-test/index.md) Чтобы создать идентификаторы приложений и групп приложений (при необходимости), выполните инструкции на этой странице:

- [Настройки устройств](#devices) в центре разработчиков Apple и
- [Создайте профили подготовки разработки](#profiles), затем
- [Развертывание и тестирование](#testing) на Apple Watch.

<a name="devices" />

## <a name="devices"></a>Устройства

Тестирование приложений для iOS на реальных iPhone и iPad всегда требовал устройства должны быть зарегистрированы в центре разработки. Список устройств выглядит следующим образом (щелкните знак «плюс» **+** для добавления нового устройства):

![](device-images/devices-sml.png "Список устройств выглядит следующим образом")

Отслеживает ничем не отличаются — теперь необходимо добавить устройства Apple Watch перед развертыванием приложения на него. Найти в часы с помощью UDID **Xcode** (**Windows > устройства** списка). При подключении парной phone сведения Контрольное значение также отображается:

[![](device-images/xcode-devices-sml.png "Сведения о парной Контрольное значение")](device-images/xcode-devices.png#lightbox)

Если известен Контрольное значение UDID, добавьте его в список устройств в центре разработки:

![](device-images/devices-watch-sml.png "Контрольное значение UDID в списке устройств")

После добавления устройства Контрольные значения убедитесь, что он выбран какой-либо новые или существующие разработки или профили подготовки ad-hoc, создаваемые вами.

![](device-images/devices-provisioning.png "Список доступных устройств")

Не забывайте, если нужно изменить существующий профиль подготовки для загрузки и повторно установить!

<a name="profiles" />

## <a name="development-provisioning-profiles"></a>Разработка приложений, профили подготовки

Для построения для тестирования на устройстве, необходимо создать **профиль подготовки разработки** для каждого идентификатора приложения в решении.

Если у вас есть код приложения, подстановочный знак *требуется только один профиль подготовки*; но если у вас есть отдельный идентификатор приложения для каждого проекта, то вам потребуется подготовительный профиль для каждого идентификатора приложения:

![](device-images/provisioningprofile-development.png "Профиль подготовки разработки")

После создания всех трех профилей, они отображаются в списке. Не забудьте загрузить и установить каждого из них:

![](device-images/provisioningprofiles.png "Доступные профили подготовки разработки")

Вы можете проверить профиля подготовки в **параметры проекта** , выбрав **сборки > подписывание пакета iOS** экрана и выбрав **выпуска** или **Отладки iPhone** конфигурации.

**Профиль подготовки** в списке будут показаны все профили сопоставления — вы увидите сопоставления профили, созданные в этом раскрывающемся списке:

![](device-images/options-selectprofile.png "Список профилей подготовки")


<a name="testing" />

## <a name="testing-on-a-watch-device"></a>Тестирование на устройстве Контрольное значение

После настройки вашего устройства, идентификаторы приложений и профили подготовки все готово для тестирования.

1. Убедитесь, что подключено iPhone и часами уже связан с iPhone.

2. Присвоить конфигурации **выпуска** или **отладки**.

3. Убедитесь, что устройства iPhone подключенных выбрана в списке целевой объект.

4. Щелкните правой кнопкой мыши проект приложения iOS (не контрольного значения или расширения) и выберите **Назначить запускаемым проектом**.

5. Нажмите кнопку **запуска** кнопку (или выберите **запустить** меню **запуска** меню).

6. Решение будет построения и развертывания приложения iOS для iPhone.
  Если приложение iOS или подготовки расширения Контрольное значение не задано правильно развертывания для iPhone завершится ошибкой.

7. Если развертывание завершается успешно, iPhone автоматически попытается отправить приложение watch парной Контрольное значение. Значок данного приложения будет отображаться в окне контрольных значений с бесконечный *установка* индикатор хода выполнения.

8. Если приложение watch успешно установлено, значок останется на экране Контрольные значения - touch его, чтобы начать тестирование приложения!


## <a name="troubleshooting"></a>Устранение неполадок

При возникновении ошибки во время развертывания используйте **представление > дополняет > устройства журнала** для просмотра дополнительных сведений об ошибке. Ниже перечислены некоторые ошибки и их причины.

### <a name="error-mt3001-could-not-aot-the-assembly"></a>Ошибка MT3001: Не удалось AOT сборки

Это может произойти при выполнении сборки в режиме отладки для развертывания на устройстве Apple Watch.

Для *временно* обойти эту проблему, отключите **Инкрементные построения** расширении **параметры проекта > сборки > watchOS построения** окна:

[![](device-images/disable-incremental-sml.png "Флажок Инкрементные построения")](device-images/disable-incremental.png#lightbox)

Эта проблема будет устранена в будущем, после чего добавочные построения можно снова включить, чтобы воспользоваться преимуществами сократить время построения.


### <a name="watch-app-fails-to-start-while-debugging-on-device"></a>Посмотрите, как приложение не запускается во время отладки на устройстве

При попытке отладить приложение на физическое устройство только значок & Загрузка "Счетчик" Контрольные значения отображаются (и в итоге тайм-аут). Она будет устранена в будущих версиях; решение заключается в запуске построения выпуска (что не позволит отладки).


### <a name="invalid-application-executable-or-application-verification-failed"></a>Исполняемый файл приложения недопустимый или сбой проверки приложения

```csharp
Failed to install [APPNAME]
Invalid executable/Application Verification Failed
```

![](device-images/invalid-application-executable.png "Недопустимый исполняемый файл приложения оповещения")

Если эти сообщения появляются *в окне контрольных значений* после попытки установить приложения, может быть несколько проблем:

- Контрольное значение само устройство не был добавлен как устройство в центре разработчиков Apple. Следуйте инструкциям, чтобы [правильно настроить устройства](#devices).

- Профили подготовки разработки, используются для тестирования отсутствует устройство Контрольные значения включены; или после часами был добавлен в профили подготовки, они не были загружены повторно и повторной установки. Следуйте инструкциям, чтобы [правильно настроить профили подготовки](#profiles).

- Если **журнала устройства iOS** содержит `The system version is lower than the minimum OS version specified for bundle...Have 8.2; need 8.3` затем Контрольное значение приложения **Info.plist** за неправильного **MinimumOSVersion** значение.
  Это должен быть **8.2** — Если вы установили 6.3 Xcode, может потребоваться вручную изменить источник для инструкции insert задать 8.2.

- Приложение Watch **Entitlements.plist** неправильно право включил (например групп приложений), не должен содержать.

- Приложение Watch **идентификатор приложения** неправильно имеет право включены (например групп приложений) в центре разработчиков, у него не должно.



### <a name="install-never-finished"></a>Установка не завершена

```csharp
SPErrorGizmoInstallNeverFinishedErrorMessage
```

Эта ошибка может указывать ненужных (и недопустимые) ключей в приложение Watch **Info.plist** файла. Не следует включать ключи, предназначенные для расширения приложения или контрольные значения операций ввода-вывода в приложении Контрольные значения.

<!--eg. NSLocationAlwaysUsageDescription -->


### <a name="waiting-for-debugger-to-connect"></a>«Ожидание подключения отладчика»

Если **выходных данных приложения** окна зависает отображение

```csharp
waiting for debugger to connect
```

Проверьте, если любой из NuGets, включенного в проект с зависимостями от **Microsoft.Bcl.Build**. Автоматически добавляется с некоторые Корпорация Майкрософт опубликовала библиотеки, включая популярный [клиентских библиотек Http Майкрософт](http://www.nuget.org/packages/Microsoft.Net.Http/).

**Microsoft.Bcl.Build.targets** файл, который добавляется в **.csproj** может помешать упаковка iOS расширения во время развертывания. Вы можете отслеживать [ошибки](https://bugzilla.xamarin.com/show_bug.cgi?id=29912).
Возможное решение — изменить CSPROJ-файл и вручную переместить **Microsoft.Bcl.Build.targets** быть последним элементом.

