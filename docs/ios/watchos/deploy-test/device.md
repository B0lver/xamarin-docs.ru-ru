---
title: Тестирование на устройствах Apple Watch
description: В этом документе описывается, как развернуть приложение watchOS, созданных с помощью Xamarin для тестирования на фактический Apple Watch. Он рассматривается устройства, профили, тестирования, подготовки и приводятся некоторые советы по устранению неполадок.
ms.prod: xamarin
ms.assetid: A72A7D38-FAE8-4DD2-843D-54B74C5078D7
ms.technology: xamarin-ios
author: lobrien
ms.author: laobri
ms.date: 03/17/2017
ms.openlocfilehash: 9c15e9205b96a02caa182e47b71c6d36c8bff1aa
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57671056"
---
# <a name="testing-on-apple-watch-devices"></a>Тестирование на устройствах Apple Watch

После [шаги по развертыванию](~/ios/watchos/deploy-test/index.md) для создания идентификаторов приложений и группы приложений, (при необходимости), следуйте приведенным на этой странице, чтобы:

- [Настройка устройства](#devices) в центре разработки для Apple, и
- [Создание профилей подготовки для разработки](#profiles), затем
- [Развертывание и тестирование](#testing) на Apple Watch.

<a name="devices" />

## <a name="devices"></a>Устройства

Тестирование приложений для iOS на реальных iPhone или iPad всегда требует устройства должны быть зарегистрированы в центре разработки. Список устройств выглядит следующим образом (щелкните знак «плюс» **+** для добавления нового устройства):

![](device-images/devices-sml.png "Список устройств выглядит следующим образом")

Watches ничем не отличаются, — теперь необходимо добавить устройства Apple Watch перед развертыванием приложения к нему. Найти в часы с помощью UDID **Xcode** (**Windows > устройств** списка). При подключении парных phone сведения Контрольное значение также отображается:

[![](device-images/xcode-devices-sml.png "Сведения о парных контрольных значений")](device-images/xcode-devices.png#lightbox)

Если известно, Контрольные значения UDID, добавьте его в список устройств в центре разработки:

![](device-images/devices-watch-sml.png "Контрольные значения UDID в списке устройств")

После добавления устройства Контрольные значения, убедитесь, что оно выделено в любой новой или существующей разработки или создаваемые профили подготовки ad-hoc:

![](device-images/devices-provisioning.png "Список доступных устройств")

Не забывайте: Если вы измените существующий профиль подготовки для загрузки и повторной установки

<a name="profiles" />

## <a name="development-provisioning-profiles"></a>Профилей подготовки для разработки

Для построения для тестирования на устройстве, необходимо создать **профиль подготовки для разработки** для каждого идентификатора приложения в решении.

Если у вас есть подстановочный знак идентификатора приложения *только один профиль подготовки будут необходимы*; но если у вас есть отдельный идентификатор приложения для каждого проекта, то вам потребуется профиля подготовки для каждого идентификатора приложения:

![](device-images/provisioningprofile-development.png "Профиль подготовки для разработки")

После создания всех трех профилей, они отображаются в списке. Не забудьте загрузить и установить каждого из них:

![](device-images/provisioningprofiles.png "Доступные профили подготовки разработки")

Вы можете проверить профиль подготовки в **параметры проекта** , выбрав **сборки > подписывание пакета iOS** Администрирование **выпуска** или **Отладки iPhone** конфигурации.

**Профиль подготовки** списке будут показаны все соответствующие профили — вы должны увидеть соответствующие профили, созданные вами в этом раскрывающемся списке:

![](device-images/options-selectprofile.png "Список профилей подготовки")


<a name="testing" />

## <a name="testing-on-a-watch-device"></a>Тестирование на устройстве контрольных значений

После настройки вашего устройства, идентификаторы приложений и профили подготовки, все готово для тестирования.

1. Убедитесь, что подключен iPhone и часы уже связан с помощью iPhone.

2. Настройте конфигурацию **выпуска** или **Отладка**.

3. Убедитесь, что выбранное устройство iPhone подключенной в целевой список.

4. Щелкните правой кнопкой мыши на проекте приложения iOS (не Контрольные значения или расширения) и выберите **Назначить запускаемым проектом**.

5. Нажмите кнопку **запуска** кнопку (или выберите **запустить** вариант **запуска** меню).

6. Сборка решения, а приложение iOS будет развертываться на iPhone.
  Если приложение iOS или подготовки расширения Контрольное значение не задано правильно, завершится ошибкой развертывания для iPhone.

7. Если развертывание завершается успешно, iPhone автоматически попытается отправить приложение watch парных контрольных значений. Значок приложения будет отображаться в окне контрольных значений с круга *установка* индикатор хода выполнения.

8. Если в приложении для Apple watch установлено успешно, значок останется на экране watch - touch, его, чтобы начать тестирование приложения!


## <a name="troubleshooting"></a>Устранение неполадок

При возникновении ошибки во время развертывания используйте **Вид > панели > журнал устройств** для просмотра дополнительных сведений об ошибке. Ниже перечислены некоторые ошибки и их причины.

### <a name="error-mt3001-could-not-aot-the-assembly"></a>Ошибка MT3001: Может не AOT сборки

Это может произойти при построении в режиме отладки для развертывания на устройстве Apple Watch.

Для *временно* обойти эту проблему, отключите **инкрементные сборки** в расширении Контрольные значения **параметры проекта > Создать > сборка watchOS** окна:

[![](device-images/disable-incremental-sml.png "Флажок Инкрементные построения")](device-images/disable-incremental.png#lightbox)

Это будет исправлено в будущем, после которого инкрементные сборки можно включить возможность сократить время сборки.


### <a name="watch-app-fails-to-start-while-debugging-on-device"></a>Посмотрите, как приложение не будет запускаться во время отладки на устройстве

При отображении для отладки приложение просмотра на физическом устройстве, только значок & вертушка загрузки (и в конечном итоге времени ожидания). Это будет исправлено в будущем; решение заключается в запуске сборки выпуска (которая не позволит отладки).


### <a name="invalid-application-executable-or-application-verification-failed"></a>Исполняемый файл приложения недопустимый или не удалось выполнить проверку приложения

```csharp
Failed to install [APPNAME]
Invalid executable/Application Verification Failed
```

![](device-images/invalid-application-executable.png "Недопустимый исполняемый файл приложения предупреждения")

Если эти сообщения появляются *в окне watch* после попытки установить приложение, может быть несколько проблем:

- Само устройство Watch не была добавлена как устройства в центре разработчиков Apple. Следуйте инструкциям, чтобы [правильно настроить устройства](#devices).

- Профили подготовки для разработки, используемый для тестирования не имеет устройство Контрольные значения; или после часами был добавлен профили подготовки, они не были повторно загрузить и повторно установить. Следуйте инструкциям, чтобы [правильно настроить профили подготовки](#profiles).

- Если **iOS журнал устройств** содержит `The system version is lower than the minimum OS version specified for bundle...Have 8.2; need 8.3` затем Watch приложения **Info.plist** неправильного **MinimumOSVersion** значение.
  Это должен быть **8.2** — Если вы установили 6.3 Xcode, может потребоваться вручную измените источник для инструкции insert ему присвоено 8.2.

- Приложение Watch **Entitlements.plist** неправильно назначение включил (например, группы приложений), чтобы он не имел.

- Приложение Watch **идентификатор приложения** неправильно имеет право включены (например, группы приложений) в центре разработки, он не должен иметь.



### <a name="install-never-finished"></a>Установка не завершена

```csharp
SPErrorGizmoInstallNeverFinishedErrorMessage
```

Эта ошибка может означать ненужные (и недопустимый) ключей в приложение Watch **Info.plist** файла. Не следует включать ключи, предназначенные для расширения приложения или контрольные значения операций ввода-вывода в приложении для Apple Watch.

<!--eg. NSLocationAlwaysUsageDescription -->


### <a name="waiting-for-debugger-to-connect"></a>«Ожидание подключения отладчика»

Если **выходные данные приложения** окно зависает отображение

```csharp
waiting for debugger to connect
```

Проверьте, если любой из пакеты NuGet, включенных в проект с зависимостями от **Microsoft.Bcl.Build**. Автоматически добавляется с некоторые библиотеки, опубликованный Майкрософт, включая популярный [клиентских библиотек Http Майкрософт](https://www.nuget.org/packages/Microsoft.Net.Http/).

**Microsoft.Bcl.Build.targets** файл, который добавляется к **.csproj** могут мешать упаковки расширений iOS во время развертывания. Вы можете отслеживать [ошибки](https://bugzilla.xamarin.com/show_bug.cgi?id=29912).
Возможное исправление состоит в том, чтобы изменить CSPROJ-файл и вручную переместить **Microsoft.Bcl.Build.targets** быть последним элементом.

