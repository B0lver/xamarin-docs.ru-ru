---
title: Введение в разработку игр с помощью Xamarin
description: В этом документе представлен общий обзор разработки игр с помощью Xamarin, описание способов создания игр и выборки технологий, доступных для использования с Xamarin. iOS и Xamarin. Android.
ms.prod: xamarin
ms.assetid: 0E3CDCD2-FBE4-49F5-A70E-8A7B937BAF1D
author: conceptdev
ms.author: crdun
ms.date: 03/24/2017
ms.openlocfilehash: 5992e8df3080bb35fd123483e5ffb5e64f268b1a
ms.sourcegitcommit: db422e33438f1b5c55852e6942c3d1d75dc025c4
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/24/2020
ms.locfileid: "76724763"
---
# <a name="introduction-to-game-development-with-xamarin"></a>Введение в разработку игр с помощью Xamarin

Разработка игр может быть очень интересной, особенно в том, насколько просто можно опубликовать работу на мобильных платформах. В этой статье обсуждаются концепции и технологии, связанные с разработкой игр, которые помогут в создании игр, будь то ваша цель — создать высококачественную игру на основе AAA или просто программу для развлечений.

В этой статье рассматриваются следующие темы:

- **Концепции программирования игр и неигр.** мы рассмотрим некоторые концепции, которые либо являются уникальными для разработки игр, либо используются совместно с другими типами разработки, но заслуживают внимания в соответствии с их важностью.
- **Группа разработчиков игр** . в этом разделе рассматриваются различные роли группы разработчиков игр.
- **Создание идеи для игр** . Этот раздел поможет вам создать новую идею игры — первый шаг в создании новой игры.
- **Технология разработки игр** — здесь мы расскажем о некоторых доступных межплатформенных технологиях, которые могут повысить производительность в качестве разработчика игр.

## <a name="game-vs-non-game-programming-concepts"></a>Концепции игр и программирования для других игр

Программистам, перемещающимся в разработку игр, часто приводятся новые концепции и шаблоны разработки. В этом разделе представлено общее представление некоторых из этих концепций.

### <a name="the-game-loop"></a>Цикл игры

Типичная игра требует постоянного перемещения или изменения, происходящих на экране в ответ на взаимодействие пользователя и автоматическую логику игры. Это достигается с помощью того, что обычно называется *циклом игры*. Игра — это некоторый тип оператора цикла (например, цикл while), который работает с очень высокой частотой, например 30 или 60 *кадров в секунду*.

Ниже приведена схема простого цикла игры:

![](images/image1.png "This is a diagram of a simple game loop")

Описанные ниже технологии будут абстрактно отличаться от реального цикла, но несмотря на эту абстракцию, будет присутствовать концепция обновлений для каждого кадра.

Производительность кода может иметь приоритет даже в самых простых играх. Например: функция, которая занимает 10 миллисекунд для выполнения, может оказать значительное влияние на производительность игры, особенно если она вызывается более одного раза для каждого кадра. Если ваша игра выполняется в 30 кадров в секунду, это означает, что каждый кадр должен выполняться в течение 33 миллисекунд. В отличие от этого, такая функция может быть даже незаметной, если она выполняется только в ответ на нажатие кнопки в неигровом приложении.

Распространенные типы логики, которые можно выполнять в каждом кадре, включают:

- **Чтение входных данных** — для игры может потребоваться проверить, взаимодействовал ли пользователь с игрой, путем проверки устройства ввода, например сенсорного экрана, клавиатуры, мыши или игрового устройства.
- **Перемещение** — объекты, перемещаемые из одного места в другое, обычно перемещают очень небольшой объем для каждого кадра, чтобы дать иллюзию интенсивного движения.
- **Конфликт** . для многих игр требуется частое тестирование того, перекрываются ли различные объекты. В этой статье мы рассмотрим конфликт более подробно. Перемещение и конфликт могут обрабатываться выделенной системой моделирования физик.
- **Проверка условий игры** . состояние игры может контролироваться определенными условиями, например, послужило ли игроком достаточно баллов или истекло выделенное время.
- **Поведение AI** — это логика каждого фрейма, которая может использоваться для управления поведением объектов, которые не управляются проигрывателем, например патроллинг врагов или перемещения драйверов соперников вокруг рацетракк.
- **Подготовка к просмотру** . Большинство игр будет обновлять то, что отображается на экране при каждом кадре. Это может быть сделано в ответ на изменения, которые влияют на восприятие игры (например, на перемещение символа по уровню) или просто на предоставление визуального уровня (например, при снег или анимированных значках).

Помните, что многие из перечисленных выше действий могут изменить состояние всего приложения, в то время как многие неигровые приложения обычно меняют состояние в ответ на возникающие события.

### <a name="content-loading-and-unloading"></a>Загрузка и выгрузка содержимого

Загрузка и выгрузка (или удаление) содержимого вручную может потребоваться в зависимости от того, какая технология используется в разработке. Загрузка и выгрузка ресурсов вручную может потребоваться по ряду причин.

- Загрузка ресурсов может занять много времени относительно длины одного кадра. Загрузка некоторых ресурсов может даже занять несколько секунд, что приведет к серьезному нарушению работы, если загружен средний игрового процесса. Если время загрузки особенно длинное (например, несколько секунд или два), может потребоваться отобразить анимированный экран загрузки или индикатор выполнения.
- Ресурсы могут потреблять много памяти, что требует активного управления тем, что загружается в соответствии с тем, что предоставляется целевыми платформами игры.
- Играм может потребоваться отобразить больше ресурсов, чем может уместиться в ОЗУ. Игры "Open World" часто включают в себя крупные среды, которые игроки могут перемещаться без каких-либо экранов загрузки. В этом случае может потребоваться создать пользовательскую систему для потоковой передачи содержимого в и управления использованием памяти.

Для пользовательских форматов файлов может потребоваться обработка во время загрузки, требующих пользовательского кода загрузки.

### <a name="math"></a>Математические функции

Для многих игр требуется более сложная математика по сравнению с приложениями, не являющимися играми. Разумеется, уровень математических вычислений зависит от сложности игры. В обычных трехмерных играх требуется больше математических вычислений, чем 2D. К счастью, вы всегда можете приступить к работе с простыми играми и научиться. Разработка игр может быть отличным способом изучения математических функций!

Если вы знакомы с декартовой плоскостью, которая использует координаты X и Y для размещения объектов, то вам достаточно знать, чтобы приступить к разработке игр. Ниже показана Декартовая плоскость с положительной Y-стрелкой вверх:

![](images/image2.png "This shows a Cartesian plane with positive Y pointing upward")

> [!IMPORTANT]
> Некоторые модули и API-интерфейсы используют систему координат, в которой увеличение значения Y объекта перемещает его вниз, а другие системы используют систему координат, где положительный Y. Помните об этом при перемещении между системами.
Тригонометрические функции (например, синус и косинус) обычно используются в 2D-играх, которые реализуют любой вид поворота.

Если вы планируете выполнить трехмерную игру, вам, скорее всего, потребуется ознакомиться с концепциями от линейной смены (для вращения и перемещения в трехмерном пространстве), а также некоторых математического анализа за (для реализации ускорения).

### <a name="content-pipelines"></a>Конвейеры содержимого

Термин *конвейер содержимого* относится к процессу, который требуется файлу для получения из его формата при создании (например, PNG-файл изображения) в его окончательном формате при использовании в игре. Конечный формат зависит от используемого типа содержимого, а также от того, какая технология используется для представления содержимого.

Некоторые конвейеры содержимого могут быть очень быстрыми и не потребовать усилий вручную. Например, большинство игровых модулей и API-интерфейсов могут загружать PNG-файл в необработанном формате. С другой стороны, более сложные форматы (например, трехмерные модели) могут быть обработаны в другом формате перед загрузкой, и обработка может занять некоторое время в зависимости от размера и сложности ресурса.

## <a name="game-development-teams"></a>Группы разработки игр

Разработка игр вводит новые роли и должности для сотрудников, участвующих в процессе. Большинство разработчиков игр не способны удовлетворить широкому набору навыков, необходимых для выпуска полной игры, так что существует ряд дисциплин. Помните, что это не полный список областей разработки — лишь некоторые из наиболее распространенных.

- **Программист** — большинство пользователей, которые читают эту статью, попадают в эту категорию. Роль программиста в разработке игр похожа на роль программиста в приложении, не предназначенном для игры. Обязанности включают в себя написание логики для управления потоком игры, разработки систем для распространенных задач в контексте данного проекта, добавления и отображения содержимого и, конечно же, исправления ошибок.
- **двухмерная художник** — двумерные исполнители отвечают за создание *двумерных ресурсов*. К ним относятся файлы изображений для графического пользовательского интерфейса, частиц, сред и символов в игре. Если разрабатываемая игра является 3D-графиком, то двумерные исполнители могут не отвечать за окружения и символы. Бесплатную иллюстрацию для игры можно найти по адресу [http://opengameart.org/](http://opengameart.org/) .
- **трехмерные исполнители** — трехмерные исполнители отвечают за создание *трехмерных ресурсов*. К ним относятся трехмерные модели для сред, символов и свойств (мебель, растения и другие объекты, которые могут быть неанимированными). Некоторые команды отличают трехмерные исполнители и трехмерные анимации в зависимости от размера группы. Бесплатную трехмерную иллюстрацию можно найти на [http://opengameart.org/](http://opengameart.org/) .
- **Конструктор игр** — проектировщики игр отвечают за определение того, как воспроизводится игра. Это могут быть решения высокого уровня, такие как Настройка игры, Общая цель игры и работа игрока в игре. Проектировщики игр также могут участвовать в очень детализированных решениях, таких как сопоставление входных данных с действиями, определение коэффициентов для перемещения или отображения уровней, а также разработка макета на уровне. Помните, что термин *конструктор* может ссылаться на конструктор игр или визуальный конструктор в зависимости от контекста.
- **Конструктор звука** — разработчики звука отвечают за звуковые ресурсы игры. Некоторые команды могут различать лиц, ответственных за создание звуковых эффектов и композиторов, в то время как небольшие команды могут иметь отдельное лицо, ответственное за все аудио.

## <a name="creating-a-game-idea"></a>Создание идеи игры

Создание игры может показаться непростой задачей – только после того, как все это потребует от вас "делать что-нибудь интересное". К сожалению, многие разработчики, в свою очередь, сталкиваются со снижением времени, чтобы создать идею, из которой можно запустить разработку.

Дисциплина дизайна игры не очень проста в изначальных случаях и требует усилий для улучшения, как это делает картинка или программирование, но этот раздел поможет вам начать работу с пути.

Новые разработчики должны начать с малого. Может быть трудно отфильтровать искушения для воссоздания крупной современной Видеоигры, но небольшие игры могут быть лучшей средой обучения, и более быстрый ход выполнения повышает эффективность работы.

Многие игры, как в целях обучения, так и в коммерческих играх, начинают с улучшения или изменения существующей игры. Одним из способов создания идей является просмотр других игр. Например, вы можете принять во внимание какую-то личную игру и попытаться определить характеристики игры, чтобы сделать ее приятной. Это может быть исследование, работа с механикой игры или пошаговая проработка. Не забывайте использовать "Retro" игры при поиске новых идей.

Другим способом создания новых идей является рассмотрение конкретного жанра, например игр головоломки, стратегий или платформ. Автор, знакомый разработчику, может предоставить хорошую отправную точку.

Воссоздание существующих игр также является опытом обучения, хотя это может ограничить коммерческую перспективу продукта. Процесс создания игры, который является точным клоном, представляет собой ценный опыт обучения.

## <a name="game-development-technology"></a>Технология разработки игр

Разработчики, использующие Xamarin. Android и Xamarin. iOS, имеют широкий спектр доступных технологий для помощи при разработке игр. В этом разделе обсуждаются некоторые из наиболее популярных решений кросс-платформенного уровня.

### <a name="monogame"></a>MonoGame

«Коигра» — это кросс-платформенная версия Microsoft XNA API Майкрософт с открытым исходным кодом. С его использованием можно создавать игры для устройств iOS, Android, Mac OS X, Linux, Windows, Windows RT, PS4, Псвита, Xbox One и коммутатора.

Эта игра технически не является подсистемой игр, а представляет собой API для разработки игр. Это означает, что для работы с этой игрой требуется прямое управление игровыми объектами, Рисование объектов вручную и реализация общих объектов, таких как камеры и *графики сцены* (родительская иерархия между игровыми объектами).

В данной игре не предусмотрена стандартная среда разработки, поэтому для работы с ними требуется знание программирования.

К важным примерам игр, использующих игру, относятся:

ФЕЗ:

![](images/image7.png "FEZ")

Бастиона

![](images/image8.jpg "Bastion")

Чтобы приступить к работе с коигру, перейдите к нашим интерактивным [руководствам](~/graphics-games/monogame/index.md).

### <a name="urhosharp"></a>UrhoSharp

UrhoSharp — Это высокоуровневая трехмерный и 2D-механизм, который можно использовать для создания анимированных трехмерных и 2D-сцен для приложений с использованием геометрических объектов, материалов, индикаторов и камер.

![](images/urhosharp.gif "UrhoSharp is a cross-platform high-level 3D and 2D engine that can be used to create animated 3D and 2D scenes")

Ознакомьтесь с [руководствами по UrhoSharp](~/graphics-games/urhosharp/index.md) , чтобы приступить к работе.

### <a name="additional-technology"></a>Дополнительные технологии

Выбранные выше технологии являются только примером доступных технологий. К другим важным технологиям относятся:

- **Набор спрайтов** — Xamarin обеспечивает поддержку для игровой платформы Apple для набора средств спрайта, которая предоставляет доступ ко всем функциональным ВОЗМОЖНОСТЯМ собственного API. Так как спрайт Kit — это технология, созданная компанией Apple, она обеспечивает глубокую интеграцию с остальной частью экосистемы iOS. Конечно, набор спрайтов не является кросс-платформенным, поэтому его нельзя использовать в Android. Дополнительные сведения об использовании набора спрайтов см. в этой записи: [https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/](https://blog.xamarin.com/make-games-with-xamarin.ios-and-sprite-kit/)
- **Набор сцен** — Xamarin также предоставляет поддержку для платформы Apple сцены комплекта для сцен, которая упрощает внедрение трехмерной графики в приложения iOS. Набор сцен — это также технология, предоставляемая компанией Apple, поэтому у нее есть как интеграция, так и особенности платформы, упомянутые выше для набора спрайтов. Дополнительные сведения о наборе сцен см. в этой записи: [https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/](https://blog.xamarin.com/3d-in-ios-8-with-scene-kit/)
- **Опентк —** Опентк (который означает Open Tool Kit) предоставляет доступ к оборудованию iOS, Apple и Mac на низком уровне. Дополнительные сведения о Опентк см. на главной странице по адресу: [https://opentk.net/](https://opentk.net/)

## <a name="related-links"></a>Связанные ссылки

- [Быстрые направляющие](~/graphics-games/monogame/index.md)
- [Руководства по UrhoSharp](~/graphics-games/urhosharp/index.md)
