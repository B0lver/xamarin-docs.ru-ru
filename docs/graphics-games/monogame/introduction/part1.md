---
title: Часть 1. Создание кросс-платформенной игры
description: В этом пошаговом руководстве показано, как создать новый проект для iOS и Android с помощью функции «проиграть». Результатом является Visual Studio для Mac решение с межплатформенным общим проектом кода, а также один проект для каждой платформы. В этом проекте будет отображаться пустой синий экран при выполнении.
ms.prod: xamarin
ms.assetid: FC69E69B-04D4-45DF-9BBF-2A6CDEAD9B2F
author: conceptdev
ms.author: crdun
ms.date: 03/28/2017
ms.openlocfilehash: d72c428bb4b8c88365180c5c3c50b107eed2b21d
ms.sourcegitcommit: 699de58432b7da300ddc2c85842e5d9e129b0dc5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2019
ms.locfileid: "68978444"
---
# <a name="part-1--creating-a-cross-platform-monogame"></a>Часть 1. Создание кросс-платформенной игры

_В этом пошаговом руководстве показано, как создать новый проект для iOS и Android с помощью функции «проиграть». Результатом является Visual Studio для Mac решение с межплатформенным общим проектом кода, а также один проект для каждой платформы. В этом проекте будет отображаться пустой синий экран при запуске._

Эта игра позволяет разрабатывать кросс-платформенные игры с большим количеством повторного использования кода. В этом пошаговом руководстве основное внимание уделяется настройке решения, которое содержит проекты для iOS и Android, а также общий проект кода для кросс-платформенного кода.

По завершении проект имеет правильную структуру для выполнения логики обновления игры и логики рисования игры в 30 кадров в секунду. Его можно использовать в качестве базового проекта для любого проекта с одним проектом. Проект будет выглядеть следующим образом при запуске:

![Пустой синий экран](part1-images/image1.png)

## <a name="adding-monogame-to-visual-studio"></a>Добавление коигру в Visual Studio

> [!IMPORTANT]
> По умолчанию в Visual Studio 2019 или Visual Studio для Mac была установлена не стандартная.
>
> Необходимо вручную скачать и установить последнюю версию http://www.monogame.net/downloads/ , а затем запустить установщик. Для отображения шаблонов может потребоваться перезапустить Visual Studio.
>
> Раздел « **Разработка игр** » должен появиться в **диспетчере надстроек**.

Чтобы включить надстройку для Visual Studio для Mac, выберите **Visual Studio для Mac** > **Диспетчер надстроек.** ... Для Visual Studio 2019 в Windows выберите **Сервис** > **Диспетчер надстроек...** . Перейдите на вкладку **коллекция** , разверните категорию " **Разработка игр** " и выберите вариант "только для **игр**", а затем нажмите кнопку " **установить".**

![Коллекция расширений Visual Studio для Mac выберите «только игра»](part1-images/image2.png)

После установки в Visual Studio для Mac будут отображаться шаблоны с шаблонами, как показано в следующем разделе.

## <a name="creating-a-new-solution"></a>Создание нового решения

В Visual Studio для Mac выберите **файл > создать решение**. В диалоговом окне **Новый проект** щелкните **Прочее**, перейдите к разделу **Общие** , выберите параметр **универсальное приложение для мобильных устройств** и нажмите кнопку Далее.

![Диалоговое окно создания проекта с созданием приложения с неигровыми приложениями](part1-images/image3.png)

Назовите проект Валкинггаме и нажмите кнопку Создать.

![Диалоговое окно создания проекта. Выбор имени и расположения](part1-images/image4.png)

Теперь наш проект будет выполняться так же, как любой другой проект iOS или Android. В проекте должен отображаться Васильковый синий фон:

![Пустой фон приложения Blue](part1-images/image5.png)

## <a name="fixing-android-compile-errors"></a>Исправление ошибок компиляции Android

Текущая версия шаблонов для работы с малыми играми включает в себя несколько синтаксических ошибок в `Activity1.cs` файле Android. Чтобы устранить эти проблемы, замените `OnCreate` функцию следующим:

```csharp
protected override void OnCreate (Bundle bundle)
{
    base.OnCreate (bundle);

    var g = new Game1();
    SetContentView((View)g.Services.GetService(typeof(View)));
    g.Run();
}
```

## <a name="summary"></a>Сводка

В этом пошаговом руководстве описано, как создать кросс-платформенный проект с использованием Visual Studio для Mac. Результатом этого является пустой синий экран. Этот проект можно использовать в качестве отправной точки для любой игры iOS и Android.

## <a name="related-links"></a>Связанные ссылки

- [Одноигровой Android NuGet](https://www.nuget.org/packages/MonoGame.Framework.Android/)
- [NuGet для iOS](https://www.nuget.org/packages/MonoGame.Framework.iOS/)
- [Документация по API на коигру](http://www.monogame.net/documentation/?page=main)
