---
title: Средство предварительного просмотра XAML для Xamarin.Forms
description: В этой статье объясняется, как использовать средство предварительного просмотра XAML для отображения при вводе макеты Xamarin.Forms см. в разделе. Средство предварительного просмотра XAML доступен в Visual Studio 2017, Visual Studio для Mac и Visual Studio 2019 (Предварительная версия).
zone_pivot_groups: platform-dev16
ms.prod: xamarin
ms.assetid: 84769ff1-72fd-4c44-8251-dd6d5bf8c7b2
ms.technology: xamarin-forms
author: maddyleger1
ms.author: maleger
ms.date: 02/04/2019
ms.openlocfilehash: 7834b87687db8fd1a3d51a40a4657b24e46bac17
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57670406"
---
# <a name="xaml-previewer-for-xamarinforms"></a>Средство предварительного просмотра XAML для Xamarin.Forms

_См. в разделе отображаются при вводе макеты Xamarin.Forms!_

## <a name="requirements"></a>Требования

Проекты требуют последнюю версию пакета Xamarin.Forms NuGet для средства предварительного просмотра XAML для работы. Предварительный просмотр приложения Android требуется [JDK 1.8 x64](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html).

Дополнительные сведения в [заметки о выпуске](https://developer.xamarin.com/releases/studio/xamarin.studio_6.2/xamarin.studio_6.2/#Xamarin_Forms_Previewer).

## <a name="getting-started"></a>Начало работы

Средство предварительного просмотра XAML Xamarin.Forms отображается предварительный просмотр платформы файла XAML в режиме реального времени, во время его редактирования.

::: zone pivot="windows"

### <a name="visual-studio"></a>Visual Studio

Средство предварительного просмотра XAML доступен, развернув область разделения представления. Разделения поведение представления по умолчанию можно управлять из **Сервис > Параметры > Xamarin > средство предварительного просмотра формы** диалоговое окно. В этом диалоговом окне можно выбрать представление документа по умолчанию и ориентация разделения.

[![Параметры предварительного просмотра Xamarin.Forms в Visual Studio](xaml-previewer-images/xamlp-options-vs-sm.png "параметры предварительного просмотра Xamarin.Forms в Visual Studio")](xaml-previewer-images/xamlp-options-vs-lg.png#lightbox)

При открытии страницы XAML, займут на основе параметров, выбранных в редакторе **Сервис > Параметры > Xamarin > средство предварительного просмотра формы** диалоговое окно. Однако разбиение может изменяться для каждого файла в окне редактора.

#### <a name="xaml-preview-controls"></a>Элементы управления XAML предварительной версии

В верхней части окна редактора с кнопками для выбора, используемый, в какой области с верхней кнопки переключения на панель конструктора и нижняя кнопка, переключение на области исходного кода. Средняя кнопка изменяет порядок области.

[![Элементы управления Xamarin.Forms средства предварительного просмотра для переключения между проектирования, источник и разделенное представление в Visual Studio](xaml-previewer-images/xamlp-controls-splitview-vs-sm.png "управляет Xamarin.Forms средства предварительного просмотра для переключения между проектирования, источник и разделенное представление в Visual Studio")](xaml-previewer-images/xamlp-controls-splitview-vs-lg.png#lightbox)

Нижней части окна редактора имеет кнопок по вертикали и горизонтали разделить области, а также развернуть или свернуть область текущего вложенного.

[![Элементы управления ориентация панели предварительного просмотра Xamarin.Forms в Visual Studio](xaml-previewer-images/xamlp-controls-orientation-vs-sm.png "ориентацию элементов управления панели предварительного просмотра Xamarin.Forms в Visual Studio")](xaml-previewer-images/xamlp-controls-orientation-vs-lg.png#lightbox)

::: zone-end
::: zone pivot="macos"

### <a name="visual-studio-for-mac"></a>Visual Studio для Mac

**Предварительной версии** кнопка отображается в редакторе при открытии страницы XAML. В области предварительного просмотра могут быть отображены или скрыты, нажав клавишу **предварительной версии** кнопки в правом верхнем углу любого окна документа XAML:

[![Средство предварительного просмотра Xamarin.Forms в Visual Studio для Mac](xaml-previewer-images/xamlp-list-sml.png "средства предварительного просмотра Xamarin.Forms в Visual Studio для Mac")](xaml-previewer-images/xamlp-list.png#lightbox)

::: zone-end
::: zone pivot="win-dev16"

### <a name="visual-studio-2019-preview"></a>2019 Visual Studio (Предварительная версия)

Средство предварительного просмотра XAML доступен, развернув область разделения представления. Разделения поведение представления по умолчанию можно управлять из **Сервис > Параметры > Xamarin > средство предварительного просмотра формы** диалоговое окно. В этом диалоговом окне можно выбрать представление документа по умолчанию и ориентация разделения.

[![Параметры предварительного просмотра Xamarin.Forms в Visual Studio](xaml-previewer-images/xamlp-options-vs-sm.png "параметры предварительного просмотра Xamarin.Forms в Visual Studio")](xaml-previewer-images/xamlp-options-vs-lg.png#lightbox)

При открытии страницы XAML, займут на основе параметров, выбранных в редакторе **Сервис > Параметры > Xamarin > средство предварительного просмотра формы** диалоговое окно. Однако разбиение может изменяться для каждого файла в окне редактора.

#### <a name="xaml-preview-controls"></a>Элементы управления XAML предварительной версии

В верхней части окна редактора с кнопками для выбора, используемый, в какой области с верхней кнопки переключения на панель конструктора и нижняя кнопка, переключение на области исходного кода. Средняя кнопка изменяет порядок области.

[![Элементы управления Xamarin.Forms средства предварительного просмотра для переключения между проектирования, источник и разделенное представление в Visual Studio](xaml-previewer-images/xamlp-controls-splitview-vs-sm.png "управляет Xamarin.Forms средства предварительного просмотра для переключения между проектирования, источник и разделенное представление в Visual Studio")](xaml-previewer-images/xamlp-controls-splitview-vs-lg.png#lightbox)

Нижней части окна редактора имеет кнопок по вертикали и горизонтали разделить области, а также развернуть или свернуть область текущего вложенного.

[![Элементы управления ориентация панели предварительного просмотра Xamarin.Forms в Visual Studio](xaml-previewer-images/xamlp-controls-orientation-vs-sm.png "ориентацию элементов управления панели предварительного просмотра Xamarin.Forms в Visual Studio")](xaml-previewer-images/xamlp-controls-orientation-vs-lg.png#lightbox)

::: zone-end

## <a name="xaml-previewer-options"></a>Параметры средства предварительного просмотра XAML

Доступны следующие параметры в верхней части области просмотра.

* **Телефон** – preview на экране телефона размера
* **Tablet** -preview на экране планшета размера
* **Android** – Показать Android версии экрана
* **iOS** — отображения версии iOS экрана (*Примечание: Если вы используете Visual Studio на Windows, необходимо быть [связано с компьютером Mac](~/ios/get-started/installation/windows/connecting-to-mac/index.md) для использования этого режима*)
* **Книжная (значок)** — использует книжной ориентации для предварительного просмотра
* **Альбомная (значок)** — использует альбомной ориентации для предварительного просмотра

::: zone pivot="win-dev16"

## <a name="device-drop-down-menu"></a>Выберите в раскрывающемся меню устройства

В Visual Studio 2019 г. (Предварительная версия) может выбрать устройство для предварительного просмотра на из раскрывающегося списка устройств Android или iOS. Этот список заменяет параметры «Телефон» и «Планшета». При предварительном просмотре iOS, устройства iPhone и iPad будут обозначены в раскрывающемся списке. При предварительном просмотре Android, в раскрывающемся списке будут показывать различные телефоны и планшеты Android. Оба списка относятся размеры экрана и разрешений экрана.

::: zone-end

## <a name="detect-design-mode"></a>Определение режима разработки

Статический [ `DesignMode.IsDesignModeEnabled` ](xref:Xamarin.Forms.DesignMode.IsDesignModeEnabled) можно проверить свойство, чтобы определить, выполняется ли приложение в средстве предварительного просмотра. Это позволяет указать код, который выполнит только в том случае, когда приложение выполняется в средстве предварительного просмотра:

```csharp
if (DesignMode.IsDesignModeEnabled)
{
  // Previewer only code  
}
```

::: zone pivot="win-dev16"

## <a name="enable-design-time-rendering-for-custom-controls"></a>Включить отрисовку времени разработки для пользовательских элементов управления

Пользовательские элементы управления должны согласиться на проектирование время отрисовки для отображения в средстве предварительного просмотра, независимо от того элемент управления находится в проекте, или импортированного из библиотеки. Это можно сделать, добавив [ `[DesignTimeVisible(true)]` ](xref:System.ComponentModel.DesignTimeVisibleAttribute) класс элемента управления:

```csharp
namespace MyProject
{
  [DesignTimeVisible(true)]
  public class MyControl : BaseControl
  {
    // Your control's code here
  }

}
```

Примером этого могут быть видны в [Монтеманьо ImageCirclePlugin базового класса](https://github.com/jamesmontemagno/ImageCirclePlugin/blob/master/src/ImageCircle/CircleImage.shared.cs).

::: zone-end

## <a name="add-design-time-data"></a>Добавление данных времени разработки

Возможно, некоторые раскладки трудно визуализировать без любые данные, привязанные к элементам пользовательского интерфейса. Для предоставления предварительной версии полезнее, назначьте некоторые статические данные к элементам управления с жестко контекст привязки (либо в кода или с помощью XAML).

Ссылаться на Монтеманьо [записи блога о добавлении данных во время разработки](http://motzcod.es/post/143702671962/xamarinforms-xaml-previewer-design-time-data) чтобы узнать, как выполнить привязку к статическим ViewModel в XAML.

## <a name="troubleshooting"></a>Устранение неполадок

Проверьте указанные ниже, проблемы и [Xamarin форумы](https://forums.xamarin.com/categories/xamarin-forms), если у вас возникли проблемы.

### <a name="xaml-previewer-isnt-showing-or-shows-an-error"></a>Средство предварительного просмотра XAML не отображается или отображается ошибка

Проверьте следующее:

* Конструктор агент должен быть настройки при первом предварительном просмотре файла XAML - индикатор хода выполнения будет отображаться в средстве предварительного просмотра, а также сообщения о ходе выполнения, пока это не будет готов.
* Попробуйте закрыть и повторно открыв файл XAML.
* Убедитесь, что ваш `App` класс имеет конструктор без параметров.

::: zone pivot="win-dev16"

### <a name="custom-controls-arent-rendering"></a>Пользовательские элементы управления не визуализации

Убедитесь, что сборка проекта выполняется. Если средство предварительного просмотра не может обработать элемент управления без ошибок или создателя элемента управления не согласиться для отрисовки во время разработки, средство предварительного просмотра отображается базовый класс элемента управления.

::: zone-end
