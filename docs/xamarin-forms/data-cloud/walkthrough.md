---
title: Обзор выборки
description: Этот раздел содержит пошаговое руководство по Xamarin.Forms пример приложения, демонстрирующий способы взаимодействия с различных веб-служб. Хотя каждая веб-служба использует отдельный пример приложения, они функциональных возможностей схожих и совместное использование общих классов.
ms.prod: xamarin
ms.assetid: A3FEB262-0D79-42E6-8F8B-A565618C490B
ms.technology: xamarin-forms
author: davidbritch
ms.author: dabritch
ms.date: 02/28/2017
ms.openlocfilehash: bfd7330fa1eee5f80a9043341d9760058d99d48b
ms.sourcegitcommit: be6f6a8f77679bb9675077ed25b5d2c753580b74
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/07/2018
ms.locfileid: "53053455"
---
# <a name="understanding-the-sample"></a>Обзор выборки

[![Загрузить образец](~/media/shared/download.png) загрузить пример](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoREST)

_Этот раздел содержит пошаговое руководство по Xamarin.Forms пример приложения, демонстрирующий способы взаимодействия с различных веб-служб. Хотя каждая веб-служба использует отдельный пример приложения, они функциональных возможностей схожих и совместное использование общих классов._

Чтобы продемонстрировать, как получить доступ к различные виды серверных компонентов службы web с помощью Xamarin.Forms используется пример приложения списка дел, описанных ниже. Он обеспечивает следующие функции:

- Просмотр списка задач.
- Добавление, изменение и удаление задач.
- Задайте состояние задания на «Готово».
- Произнесите поля "имя" и "заметки о задачи.

В любом случае задачи будут храниться в серверном приложении, к которому осуществляется через веб-службу.

При запуске приложения отображается страница со списком всех задач, полученные из веб-службы и дает пользователю возможность создать новую задачу. Щелкнув задачу переход приложения на вторую страницу, где задачи можно редактировать, сохранить, удалены и произнесен. Ниже показано итоговое приложение:

![](walkthrough-images/app-example-1.png "Приложение TODO - первая страница")
![](walkthrough-images/app-example-2.png "приложение Todo - вторая страница")

Каждый раздел, в данном руководстве приводится ссылка для *различных* версию приложения, демонстрирующий определенного типа серверной веб-службы. Скачайте соответствующий пример кода на странице, относящиеся к каждого стиля веб службы.

## <a name="understanding-the-application-anatomy"></a>Основные сведения о структуре приложения

Проект переносимой библиотеки Классов для каждого образца приложения состоит из трех основных папок:

|Папка|Цель|
|--- |--- |
|Данные|Содержит классы и интерфейсы, используемые для управления элементами данных и взаимодействия с веб-службы. Как минимум, это включает в себя `TodoItemManager` класс, который предоставляется с помощью свойства в `App` класса для вызова операций веб-службы.|
|Модели|Классы модели данных для приложения. Как минимум, это включает в себя `TodoItem` класс, который моделирует один элемент данных, используемых приложением. Папка может также включать дополнительных производных классов используется для моделирования данных пользователя.|
|Представления|Содержит страницы для приложения. Это обычно состоит из `TodoListPage` и `TodoItemPage` классов и любые дополнительные классы, используемые для проверки подлинности.|

Проект переносимой библиотеки Классов для каждого приложения также состоит из нескольких важных файлов:

|Файл|Цель|
|--- |--- |
|Constants.cs|`Constants` Класс, который задает все константы, используемые приложением для взаимодействия с веб-службы. Эти константы требуется обновление для доступа к личной внутренней службы создан в поставщике.|
|ITextToSpeech.cs|`ITextToSpeech` Интерфейс, который указывает, что `Speak` должен быть указан метод с любыми реализующими классами.|
|TODO.cs|`App` Класс, который отвечает за создание экземпляра оба первой страницы, будет отображен приложением на каждой платформе и `TodoItemManager` класс, который используется для вызова операций веб-службы.|

### <a name="viewing-pages"></a>Просмотр страниц

Большинство примеров приложений содержат по крайней мере две страницы:

- **TodoListPage** — Эта страница отображает список `TodoItem` экземпляров и значком с галочкой Если `TodoItem.Done` свойство `true`. Щелкнув элемент переходит к `TodoItemPage`. Кроме того, можно создать новые элементы, щелкнув *+* символов.
- **TodoItemPage** — на этой странице отображаются подробные сведения о выбранной `TodoItem`и позволяет изменять, сохранять, удалены, и произнесен.

Кроме того некоторые примеры приложений содержат дополнительные страницы, которые используются для управления процессом проверки подлинности пользователя.

### <a name="modeling-the-data"></a>Моделирование данных

Каждый пример приложения использует `TodoItem` класс для моделирования данных, отображаются и переданных в веб-службу для хранения. Следующий пример кода демонстрирует класс `TodoItem`:

```csharp
public class TodoItem
{
    public string ID { get; set; }
    public string Name { get; set; }
    public string Notes { get; set; }
    public bool Done { get; set; }
}
```

`ID` Свойство используется для уникальной идентификации каждого `TodoItem` экземпляр и используется каждой веб-службы для определения данных, которые будут обновлены или удалены.

### <a name="invoking-web-service-operations"></a>Вызов операции веб-службы

Операции веб-службы осуществляется через `TodoItemManager` класс и экземпляр класса может осуществляться через `App.TodoManager` свойство. `TodoItemManager` Класс предоставляет следующие методы для вызова операций веб-службы:

- **GetTasksAsync** — этот метод используется для заполнения `ListView` управления `TodoListPage` с `TodoItem` экземпляры, получаемые от веб-службы.
- **SaveTaskAsync** — этот метод используется для создания или обновления `TodoItem` экземпляра веб-службу.
- **DeleteTaskAsync** — этот метод используется для удаления `TodoItem` экземпляра веб-службу.

Кроме того, некоторые примеры приложений содержат дополнительные методы в `TodoItemManager` класс, который используются для управления процессом проверки подлинности пользователя.

Вместо того чтобы вызывать операции веб-службы напрямую, `TodoItemManager` методы вызова методов на зависимые класс, который внедряется в `TodoItemManager` конструктор. Например, один пример приложения внедряет `RestService` класса в `TodoItemManager` конструктор для реализации метода, использующего API REST для доступа к данным.

### <a name="translating-text-to-speech"></a>Преобразование текста в речь

Большинство примеров приложений содержат функциональные возможности преобразования текста в речь (TTS) для произнесения значения `TodoItem.Name` и `TodoItem.Notes` свойства. Это достигается путем `OnSpeakActivated` обработчик событий в `TodoItemPage` класса, как показано в следующем примере кода:

```csharp
void OnSpeakActivated (object sender, EventArgs e)
{
    var todoItem = (TodoItem)BindingContext;
    App.Speech.Speak(todoItem.Name + " " + todoItem.Notes);
}
```

Этот метод просто вызывает `Speak` метод, который реализуется конкретной платформы `Speech` класса. Каждый `Speech` класс реализует `ITextToSpeech` интерфейс, и код платформы запуска создает экземпляр класса `Speech` класс, который может осуществляться через `App.Speech` свойство.

## <a name="summary"></a>Сводка

В этом разделе предоставлено руководство по Xamarin.Forms пример приложения, который используется для демонстрации взаимодействия с различных веб-служб. Хотя каждая веб-служба использует отдельный пример приложения, они основаны на ту же пользовательского интерфейса и бизнес-логику как описано выше, — отличается только web service механизм хранения данных.


## <a name="related-links"></a>Связанные ссылки

- [Версия ASMX (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoASMX)
- [WCF-версия (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoWCF)
- [Версия REST (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoREST)
- [Версии Azure (пример)](https://developer.xamarin.com/samples/xamarin-forms/WebServices/TodoAzure)
