---
title: Режимы наложения SkiaSharp
description: Использование blend режимах, чтобы определить, что происходит, когда графические объекты расположены друг от друга.
ms.prod: xamarin
ms.technology: xamarin-skiasharp
ms.assetid: CE1B222E-A2D0-4016-A532-EC1E59EE3D6B
author: davidbritch
ms.author: dabritch
ms.date: 08/23/2018
ms.openlocfilehash: 8071f310e899575699e1d0b925541f2863b00676
ms.sourcegitcommit: 3ea9ee034af9790d2b0dc0893435e997bd06e587
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2019
ms.locfileid: "68645190"
---
# <a name="skiasharp-blend-modes"></a>Режимы наложения SkiaSharp

[![Загрузить образец](~/media/shared/download.png) загрузить пример](https://docs.microsoft.com/samples/xamarin/xamarin-forms-samples/skiasharpforms-demos)

В этих статьях сосредоточиться на [ `BlendMode` ](xref:SkiaSharp.SKPaint.BlendMode) свойство [ `SKPaint` ](xref:SkiaSharp.SKPaint). `BlendMode` Свойство имеет тип [ `SKBlendMode` ](xref:SkiaSharp.SKBlendMode), это перечисление с членами 29.

`BlendMode` Свойство определяет, что произойдет, если графический объект (часто называется _источника_), отрисовывается поверх существующих графических объектов (вызывается _назначения_). Как правило ожидается, что новый графический объект, который скрывать объекты, расположенные ниже. Однако это происходит только в том случае, поскольку по умолчанию используется режим blend `SKBlendMode.SrcOver`, что означает, что источник выводится _через_ назначения. Другие 28 членами `SKBlendMode` вызвать другие эффекты. В программировании графики прием объединения графические объекты различными способами, называется _композиции_.

## <a name="the-skblendmodes-enumeration"></a>Перечисление SKBlendModes

Режимы наложения SkiaSharp близко соответствуют описанных в W3C [ **композиции и наложения уровня 1** ](https://www.w3.org/TR/compositing-1/) спецификации. Skia [ **ссылку SkBlendMode** ](https://skia.org/user/api/SkBlendMode_Reference) также предоставляет полезную справочную информацию. Общие сведения о режимах в blend [ **режимы смешения** ](https://en.wikipedia.org/wiki/Blend_modes) статья в Википедии — хорошее начало. В Adobe Photoshop поддерживаются режимов смешения, есть много дополнительной документации сведения о режимах blend в этом контексте.

29 членами `SKBlendMode` перечисления можно разделить на три категории:

| Duff Портер | Разделяемые    | Нелинейно разделяемых |
| ----------- | ------------ | ------------- |
| `Clear`     | `Modulate`   | `Hue`         |
| `Src`       | `Screen`     | `Saturation`  |
| `Dst`       | `Overlay`    | `Color`       |
| `SrcOver`   | `Darken`     | `Luminosity`  |
| `DstOver`   | `Lighten`    |               |
| `SrcIn`     | `ColorDodge` |               |
| `DstIn`     | `ColorBurn`  |               |
| `SrcOut`    | `HardLight`  |               |
| `DstOut`    | `SoftLight`  |               |
| `SrcATop`   | `Difference` |               |
| `DstATop`   | `Exclusion`  |               |
| `Xor`       | `Multiply`   |               |
| `Plus`      |              |               |

Имена этих трех категорий займет на большее значение в последующих обсуждениях. Здесь перечислены элементы размещаются в том же в определении `SKBlendMode` перечисления. Члены перечисления 13 в первом столбце, иметь целочисленные значения 0 до 12. Во втором столбце являются члены перечисления, которые соответствуют целых чисел 13-24 и члены в третьем столбце имеют значения от 25 до 28.

Эти режимы наложения обсуждаются _примерно_ в том же порядке, в котором описывается компоновка W3C **и переход на уровень 1** , но существует несколько отличий. Этот `Src` режим называется _Copy_ в документе W3C и `Plus` называется _светлее_. Документ W3C определяет _обычный_ режим наложения, не включенные в `SKBlendModes` так, как было бы так же, как `SrcOver`. `Modulate` Режим наложения (в верхней части первого столбца) не включен в документе W3C и обсуждение `Multiply` предшествует режим `Screen`.

Так как `Modulate` режим наложения уникален для Skia, он будет обсуждаться в дополнительных режиме Duff Портер и как отделяемых режим.

## <a name="the-importance-of-transparency"></a>Важность прозрачности

Исторически сложилось так, что композиции был разработан в сочетании с концепцией _альфа-канал_. На экранной поверхности, такой как `SKCanvas` объект и полное цветное изображение, каждый пиксель состоит из 4 байт: 1 байт для каждого красного, зеленого и синего компонентов, а также дополнительный байт для прозрачности. Этот компонент альфа — 0 для обеспечения полной прозрачности до 0xFF для полной непрозрачности, с разными уровнями прозрачности между этими значениями.

Многие из режимов смешения полагаться на прозрачности. Обычно, когда `SKCanvas` сначала получаются `PaintSurface` обработчик, или когда `SKCanvas` создается для рисования на точечный рисунок, первым шагом является этот вызов:

```csharp
canvas.Clear();
```

Этот метод заменяет все пиксели полотна прозрачные области черных пикселей, эквивалентно `new SKColor(0, 0, 0, 0)` или целое число 0x00000000. Ко всем байтам все пиксели инициализируются нулевым значением.

Поверхность рисования объекта `SKCanvas` , полученный в `PaintSurface` обработчик могут оказаться белый фон, но только потому, что `SKCanvasView` сам имеет прозрачный фон, и страница имеет белый фон. Установив Xamarin.Forms, может продемонстрировать этот факт себе `BackgroundColor` свойство `SKCanvasView` цвет Xamarin.Forms:

```csharp
canvasView.BackgroundColor = Color.Red;
```

Или, в класс, производный от `ContentPage`, можно задать цвет фона страницы:

```csharp
BackgroundColor = Color.Red;
```

Вы увидите, что этот красный фон позади SkiaSharp графики, так как SkiaSharp холст сам прозрачен.

Статья [ **прозрачности SkiaSharp** ](../../basics/transparency.md) показали некоторые основные приемы использования прозрачности для размещения нескольких графических изображений в составного изображения. Режимы наложения пойти дальше, но прозрачности остается решающее значение для режимов смешения. 

## <a name="skiasharp-porter-duff-blend-modesporter-duffmd"></a>[Режимы наложения SkiaSharp Портер-Duff](porter-duff.md)

Используйте режимы Портер Duff blend для создания сцены на основе образов источника и назначения.

## <a name="skiasharp-separable-blend-modesseparablemd"></a>[Режимы отделяемых blend SkiaSharp](separable.md)

Режимы отделяемых наложения используйте для изменения красного, зеленого и синего цветов.

## <a name="skiasharp-non-separable-blend-modesnon-separablemd"></a>[Режимы нелинейно разделяемых blend SkiaSharp](non-separable.md)

Используйте режимы нелинейно разделяемых blend изменить оттенок, насыщенность и яркость.

## <a name="related-links"></a>Связанные ссылки

- [API-интерфейсы SkiaSharp](https://docs.microsoft.com/dotnet/api/skiasharp)
- [SkiaSharpFormsDemos (пример)](https://docs.microsoft.com/samples/xamarin/xamarin-forms-samples/skiasharpforms-demos)
