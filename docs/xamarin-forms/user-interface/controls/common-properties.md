---
title: Общие свойства, методы и события элемента управления Xamarin. Forms
description: В этой статье описываются общие свойства, методы и события, определенные в классе Висуалелемент, которые обычно используются в производных классах.
ms.prod: xamarin
ms.assetId: 85A0CCF5-C1D8-40BB-927F-A4D944E5534D
ms.technology: xamarin-forms
author: profexorgeek
ms.author: jusjohns
ms.date: 08/21/2019
ms.openlocfilehash: 6d10e665c6461655440ddfb2c524cb56a14337f6
ms.sourcegitcommit: 1dd7d09b60fcb1bf15ba54831ed3dd46aa5240cb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/28/2019
ms.locfileid: "70121350"
---
# <a name="xamarinforms-common-control-properties-methods-and-events"></a>Общие свойства, методы и события элемента управления Xamarin. Forms

Класс Xamarin. Forms `VisualElement` является базовым классом для большинства элементов управления, используемых в приложении Xamarin. Forms. Класс `VisualElement` определяет множество [свойств](#properties), [методов](#methods)и [событий](#events), используемых в производных классах.

## <a name="properties"></a>Свойства

В `VisualElement` экземплярах доступны следующие свойства. Полный список см. в разделе [свойства API висуалелемент](xref:Xamarin.Forms.VisualElement#properties).

### [`AnchorX`](xref:Xamarin.Forms.VisualElement.AnchorX)

`AnchorX` Свойство —этозначение,определяющеецентральнуюточкунаосиXдляпреобразований,такихкакмасштабирование`double` и вращение. Значение по умолчанию — 0,5.

### [`AnchorY`](xref:Xamarin.Forms.VisualElement.AnchorY)

`AnchorY` Свойство —этозначение,определяющеецентральнуюточкунаосиXдляпреобразований,такихкакмасштабирование`double` и вращение. Значение по умолчанию — 0,5.

### [`BackgroundColor`](xref:Xamarin.Forms.VisualElement.BackgroundColor)

`BackgroundColor` Свойство имеетзначение,определяющее`Color` цвет фона элемента управления. Если не задано, то фон будет объектом `Color` по умолчанию, который визуализируется как прозрачный.

### [`Behaviors`](xref:Xamarin.Forms.VisualElement.Behaviors)

`Behaviors` Свойство имеет`Behavior` значение объекта. `List` Поведения позволяют присоединять многократно используемые функции к элементам, добавляя их в `Behaviors` список. Дополнительные сведения о классе см `Behavior` . в разделе [поведение Xamarin. Forms](~/xamarin-forms/app-fundamentals/behaviors/index.md).

### [`Bounds`](xref:Xamarin.Forms.VisualElement.Bounds)

Свойство является объектом только `Rectangle` для чтения, представляющим пространство, занимаемое элементом управления. `Bounds` Значение `Bounds` свойства назначается во время цикла макета. `Rectangle` Содержитполезныесвойстваиметодыдлятестированияпересечения`struct` и включения прямоугольников. Дополнительные сведения см. в разделе [API-интерфейс Xamarin. Forms](xref:Xamarin.Forms.Rectangle).

### [`Effects`](xref:Xamarin.Forms.Element.Effects)

Свойство является `List` `Element`классом объектов, унаследованных от класса (xref: Xamarin. Forms. Element). `Effect` `Effects` Эффекты позволяют настраивать собственные элементы управления и обычно используются для небольших изменений стилей. Дополнительные сведения о классе см `Effect` . в разделе [эффекты Xamarin. Forms](~/xamarin-forms/app-fundamentals/effects/index.md).

### [`FlowDirection`](xref:Xamarin.Forms.VisualElement.FlowDirection)

`FlowDirection` Свойство является значением перечисления. `FlowDirection` Направлением потока можно присвоить `LeftToRight`значение `MatchParent`, `RightToLeft` или и определить порядок разметки и направление. `FlowDirection` Свойство обычно используется для поддержки языков, которые читаются справа налево.

### [`Height`](xref:Xamarin.Forms.VisualElement.Height)

Свойство является значением только `double` для чтения, которое описывает отображаемую высоту элемента управления. `Height` `Height` Свойство вычисляется во время цикла макета и не может быть задано напрямую. Высоту элемента управления можно запросить с помощью [Свойства хеигхтрекуест](#heightrequest).

### [`HeightRequest`](xref:Xamarin.Forms.VisualElement.HeightRequest)

`HeightRequest` Свойство`double` является значением, определяющим нужную высоту элемента управления. Абсолютная высота элемента управления может не соответствовать запрошенному значению. Дополнительные сведения см. в разделе [Свойства запроса](#request-properties).

### [`InputTransparent`](xref:Xamarin.Forms.VisualElement.InputTransparent)

Свойство — это значение `bool` , которое определяет, получает ли элемент управления ввод данных пользователем. `InputTransparent` Значение по умолчанию `false`—, гарантируя, что элемент получает входные данные. Это свойство передает в дочерние элементы, если оно задано. Присвоение `InputTransparent` `true` свойству значения класса макета приведет к тому, что все элементы в макете не будут получать входные данные.

### [`IsEnabled`](xref:Xamarin.Forms.VisualElement.IsEnabled)

`IsEnabled` Свойство —этозначение,котороеопределяет,реагируетлиэлементуправленияна`bool` вводимые пользователем данные. Значение по умолчанию — `true`. Если задать для этого свойства значение false, элемент управления не сможет принимать введенные пользователем данные.

### [`IsFocused`](xref:Xamarin.Forms.VisualElement.IsFocused)

`IsFocused` Свойство —этозначение,котороеописывает,являетсялиэлементуправлениявданныймоментобъектом,`bool` на который он нацелен. Вызов метода в элементе управления приведет к тому, что `IsFocused` значение будет равно true. [`Focus`](#focus) При вызове [`Unfocus`](#unfocus) метода этому свойству будет присвоено значение false.

### [`IsTabStop`](xref:Xamarin.Forms.VisualElement.IsTabStop)

`IsTabStop` Свойство —этозначение,котороеопределяет,получаетлиэлементуправленияфокусприперемещениипользователячерезэлементыуправленияс`bool` помощью клавиши TAB. Если это свойство имеет значение false, `TabIndex` свойство не будет действовать.

### [`IsVisible`](xref:Xamarin.Forms.VisualElement.IsVisible)

`IsVisible` Свойство`bool` является значением, определяющим, отображается ли элемент управления. Элементы управления со `IsVisible` свойством, имеющим значение false, не будут отображаться, не будут рассматриваться для вычисления пробелов во время цикла макета и не могут принимать данные, вводимые пользователем.

### [`MinimumHeightRequest`](xref:Xamarin.Forms.VisualElement.MinimumHeightRequest)

`MinimumHeightRequest` Свойство —этозначение,котороеопределяет,какпереполнениеобрабатывается,когдадваэлементаконкурируют`double` за ограниченное пространство. `MinimumHeightRequest` Задание свойства позволяет процессу макета масштабировать элемент до требуемого минимального размера. Если не указано, значение по умолчанию равно-1, и процесс макета будет `HeightRequest` считаться минимальным значением. `MinimumHeightRequest` Это означает, что у элементов `MinimumHeightRequest` без значений не будет масштабируемой высоты.

Дополнительные сведения см. в разделе [минимальные свойства запроса](#minimum-request-properties).

### [`MinimumWidthRequest`](xref:Xamarin.Forms.VisualElement.MinimumWidthRequest)

`MinimumWidthRequest` Свойство —этозначение,котороеопределяет,какпереполнениеобрабатывается,когдадваэлементаконкурируют`double` за ограниченное пространство. `MinimumWidthRequest` Задание свойства позволяет процессу макета масштабировать элемент до требуемого минимального размера. Если не указано, значение по умолчанию равно-1, и процесс макета будет `WidthRequest` считаться минимальным значением. `MinimumWidthRequest` Это означает, что у элементов `MinimumWidthRequest` без значений не будет масштабируемой ширины.

Дополнительные сведения см. в разделе [минимальные свойства запроса](#minimum-request-properties).

### [`Opacity`](xref:Xamarin.Forms.VisualElement.Opacity)

`Opacity` Свойство —этозначениеотнулядоединицы,определяющеенепрозрачностьэлементауправления`double` во время отрисовки. Значение этого свойства по умолчанию равно 1,0. Значения за пределами диапазона от 0 до 1 будут заноситься в срез. Свойство применяется только в [`IsVisible`](#isvisible) том случае, если свойство `true`имеет значение. `Opacity` Непрозрачность применяется итеративно. Поэтому, если родительский элемент управления имеет 0,5 Opacity, а его дочерний объект имеет уровень непрозрачности 0,5, дочерний объект будет отображен с действующим значением непрозрачности 0,25. Присвоение `Opacity` свойству элемента управления вводом значения 0 имеет неопределенное поведение.

### [`Parent`](xref:Xamarin.Forms.Element.Parent)

Свойство `Parent` наследуется от класса `Element`. Это свойство является `Element` объектом, который является родительским для элемента управления. `Parent` Свойство обычно задается автоматически для элемента, когда он добавляется как дочерний элемент другого элемента.

### [`Resources`](xref:Xamarin.Forms.VisualElement.Resources)

`Resources` Свойство —этоэкземпляр,которыйзаполняетсяпарами"ключ-значение",которыеобычнозаполняютсявовремя`ResourceDictionary` выполнения из XAML. Этот словарь позволяет разработчикам приложений использовать объекты, определенные в XAML, как во время компиляции, так и во время выполнения. Ключи в словаре заполняются из `x:Key` атрибута тега XAML. Объект, созданный из XAML, вставляется в `ResourceDictionary` для указанного ключа. После инициализации.

Дополнительные сведения см. в разделе [словари ресурсов](~/xamarin-forms/xaml/resource-dictionaries.md).

### [`Rotation`](xref:Xamarin.Forms.VisualElement.Rotation)

`Rotation` Свойство`double` имеет значение от 0 до 360, определяющее поворот оси Z в градусах. Значение этого свойства по умолчанию равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) значений и [`AnchorY`](#anchory) .

### [`RotationX`](xref:Xamarin.Forms.VisualElement.RotationX)

`RotationX` Свойство`double` имеет значение от 0 до 360, определяющее поворот оси X в градусах. Значение этого свойства по умолчанию равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) значений и [`AnchorY`](#anchory) .

### [`RotationY`](xref:Xamarin.Forms.VisualElement.RotationY)

`RotationY` Свойство`double` имеет значение от 0 до 360, определяющее поворот оси Y в градусах. Значение этого свойства по умолчанию равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) значений и [`AnchorY`](#anchory) .

### [`Scale`](xref:Xamarin.Forms.VisualElement.Scale)

`Scale` Свойство —этозначение,определяющее`double` масштаб элемента управления. Значение этого свойства по умолчанию равно 1,0. Масштаб применяется относительно [`AnchorX`](#anchorx) значений и [`AnchorY`](#anchory) .

### [`ScaleX`](xref:Xamarin.Forms.VisualElement.ScaleX)

`ScaleX` Свойство —этозначение,определяющеемасштабэлемента`double` управления вдоль оси X. Значение этого свойства по умолчанию равно 1,0. Свойство применяется относительно [`AnchorX`значения.](#anchorx) `ScaleX`

### [`ScaleY`](xref:Xamarin.Forms.VisualElement.ScaleY)

`ScaleY` Свойство —этозначение,определяющеемасштабэлемента`double` управления вдоль оси Y. Значение этого свойства по умолчанию равно 1,0. Свойство применяется относительно [`AnchorY`значения.](#anchory) `ScaleY`

### [`Style`](xref:Xamarin.Forms.NavigableElement.Style)

Свойство `Style` наследуется от класса `NavigableElement`. Это свойство является экземпляром `Style` класса. `Style` Класс содержит триггеры, методы задания и поведение, определяющие внешний вид и поведение визуальных элементов. Дополнительные сведения см. в разделе [стили XAML Xamarin. Forms](~/xamarin-forms/user-interface/styles/xaml/index.md).

### [`StyleClass`](xref:Xamarin.Forms.NavigableElement.StyleClass)

Свойство представляет собой `string` список объектов `Style` , представляющих имена классов. `StyleClass` Это свойство наследуется от класса `NavigableElement`. Свойство позволяет применять `VisualElement` к экземпляру несколько атрибутов стиля. `StyleClass` Дополнительные сведения см. в разделе [классы стилей Xamarin. Forms](~/xamarin-forms/user-interface/styles/xaml/style-class.md).

### [`TabIndex`](xref:Xamarin.Forms.VisualElement.TabIndex)

`TabIndex` Свойство`int` является значением, определяющим порядок элементов управления при переходе между элементами управления с помощью клавиши TAB. Свойство является реализацией для свойства, определенного `ITabStopElement` в интерфейсе, который `VisualElement` реализуется классом. `TabIndex`

### [`TranslationX`](xref:Xamarin.Forms.VisualElement.TranslationX)

`TranslationX` Свойство`double` является значением, определяющим Дельта-преобразование, которое должно применяться к оси X. Перевод применяется после макета и обычно используется для применения анимации. Преобразование элемента за пределами родительского контейнера My предотвращает вход в него.

Дополнительные сведения см. [в разделе Анимация в Xamarin. Forms](~/xamarin-forms/user-interface/animation/index.md).

### [`TranslationY`](xref:Xamarin.Forms.VisualElement.TranslationY)

`TranslationY` Свойство`double` является значением, определяющим Дельта-преобразование, которое должно быть применено к оси Y. Перевод применяется после макета и обычно используется для применения анимации. Преобразование элемента за пределами родительского контейнера My предотвращает вход в него.

Дополнительные сведения см. [в разделе Анимация в Xamarin. Forms](~/xamarin-forms/user-interface/animation/index.md).

### [`Triggers`](xref:Xamarin.Forms.VisualElement.Triggers)

Свойство доступно только `List` для`TriggerBase`чтенияобъектов. `Triggers` Триггеры позволяют разработчикам приложений выражать действия в XAML, которые изменяют внешний вид элементов управления в ответ на изменения события или свойства. Дополнительные сведения см. в разделе [триггеры Xamarin. Forms](~/xamarin-forms/app-fundamentals/triggers.md).

### [`Visual`](xref:Xamarin.Forms.VisualElement.Visual)

Свойство является экземпляром, позволяющим создавать модули подготовки отчетов и выборочно применять их к `VisualElement` экземплярам. `IVisual` `Visual` `Visual` Свойство установлено в соответствие с родительским, поэтому определение модуля подготовки отчетов в компоненте также будет применяться к любым дочерним элементам этого компонента. Если для элемента управления или его предков не задан пользовательский модуль подготовки отчетов, будет использоваться модуль подготовки Xamarin. Forms по умолчанию. Дополнительные сведения см. в разделе [визуальный элемент Xamarin. Forms](~/xamarin-forms/user-interface/visual/index.md).

### [`Width`](xref:Xamarin.Forms.VisualElement.Width)

Свойство является значением только `double` для чтения, которое описывает отображаемую ширину элемента управления. `Width` `Width` Свойство вычисляется во время цикла макета и не может быть задано напрямую. Ширину элемента управления можно запросить с помощью [Свойства видсрекуест](#widthrequest).

### [`WidthRequest`](xref:Xamarin.Forms.VisualElement.WidthRequest)

`WidthRequest` Свойство —этозначение,определяющеетребуемую`double` ширину элемента управления. Абсолютная ширина элемента управления может не соответствовать запрошенному значению. Дополнительные сведения см. в разделе [Свойства запроса](#request-properties).

### [`X`](xref:Xamarin.Forms.VisualElement.X)

Свойство является значением только `double` для чтения, которое описывает текущую X-координату элемента управления. `X`

### [`Y`](xref:Xamarin.Forms.VisualElement.Y)

Свойство является значением только `double` для чтения, которое описывает текущую координату Y элемента управления. `Y`

## <a name="methods"></a>Методы

В `VisualElement` классе доступны следующие методы. Полный список см. в разделе [методы API висуалелемент](xref:Xamarin.Forms.VisualElement#methods).

### [`FindByName`](xref:Xamarin.Forms.Element.FindByName*)

Метод наследуется от класса и имеет следующую сигнатуру: `Element` `FindByName`

```csharp
public object FindByName (string name)
```

Этот метод выполняет поиск всех дочерних элементов для `name` указанного аргумента и возвращает элемент с указанным именем. Если совпадений не найдено, `null` возвращается значение.

### [`Focus`](xref:Xamarin.Forms.VisualElement.Focus)

`Focus` Метод пытается установить фокус на элемент. Этот метод имеет следующую сигнатуру:

```csharp
public bool Focus ()
```

Метод возвращает `true` значение, если фокус клавиатуры был успешно установлен `false` , и если вызов метода не привел к изменению фокуса. `Focus` Для работы этого метода элемент должен иметь возможность получения фокуса. `Focus` Вызов метода для элементов, настоящих или нереальных, имеет неопределенное поведение.

### [`Unfocus`](xref:Xamarin.Forms.VisualElement.Unfocus)

`Unfocus` Метод пытается удалить фокус на элементе. Этот метод имеет следующую сигнатуру:

```csharp
public void Unfocus ()
```

Элемент уже должен иметь фокус, чтобы этот метод работал.

## <a name="events"></a>События

В `VisualElement` классе доступны следующие события. Полный список см. в разделе [события Висуалелемент Xamarin. Forms](xref:Xamarin.Forms.VisualElement#events).

### [`Focused`](xref:Xamarin.Forms.VisualElement.Focused)

Событие возникает всякий раз, `VisualElement` когда экземпляр получает фокус. `Focused` Это событие не перемещается через стек Xamarin. Forms, оно получается непосредственно из собственного элемента управления. Это событие создается методом [`IsFocused`](#isfocused) задания свойства.

### [`SizeChanged`](xref:Xamarin.Forms.VisualElement.SizeChanged)

Событие возникает при изменении `Height` экземпляра или `Width`свойств. `VisualElement` `SizeChanged` Если разработчики хотят реагировать непосредственно на изменение размера, вместо того чтобы реагировать на событие после изменения, они должны реализовать [`OnSizeAllocated`](xref:Xamarin.Forms.VisualElement.OnSizeAllocated*) виртуальный метод.

### [`Unfocused`](xref:Xamarin.Forms.VisualElement.Unfocused)

Событие возникает всякий раз, `VisualElement` когда экземпляр теряет фокус. `Unfocused` Это событие не перемещается через стек Xamarin. Forms, оно получается непосредственно из собственного элемента управления. Это событие создается методом [`IsFocused`](#isfocused) задания свойства.

## <a name="units-of-measurement"></a>Единицы измерения

Платформы Android, iOS и UWP имеют разные единицы измерения, которые могут различаться на разных устройствах. Xamarin. Forms использует независимую от платформы единицу измерения, которая нормализует единицы между устройствами и платформами. В Xamarin. Forms имеется 160 единиц на дюйм или 64 единиц на сантиметр.

## <a name="request-properties"></a>Свойства запроса

Свойства, имена которых содержат "Request", определяют требуемое значение, которое может не совпадать с фактическим отображаемым значением. Например, `HeightRequest` можно задать значение 150, но если макет допускает наличие пространства только для единиц 100, то отображаемый `Height` элемент управления будет содержать только 100. Размер отображаемого содержимого зависит от доступного пространства и содержащихся в нем компонентов.

## <a name="minimum-request-properties"></a>Свойства минимального запроса

Минимальные свойства запроса включают `MinimumHeightRequest` и `MinimumWidthRequest`, и предназначены для более точного контроля над тем, как элементы вызывают переполнение при относительных значениях. Однако поведение макета, связанное с этими свойствами, имеет некоторые важные соображения.

### <a name="unspecified-minimum-property-values"></a>Неуказанные минимальные значения свойств

Если минимальное значение не задано, по умолчанию для свойства Minimum используется значение-1. Процесс макета пропускает это значение и считает абсолютное значение минимальным. Практический результат такого поведения заключается в том, что элемент без минимально заданного значения **не будет** сжиматься. Элемент с минимальным заданным значением **будет** сжиматься.

В следующем коде XAML показаны `BoxView` два элемента по горизонтали: `StackLayout`

```xaml
<StackLayout Orientation="Horizontal">
    <BoxView HeightRequest="100" BackgroundColor="Purple" WidthRequest="500"></BoxView>
    <BoxView HeightRequest="100" BackgroundColor="Green" WidthRequest="500" MinimumWidthRequest="250"></BoxView>
</StackLayout>
```

Первый `BoxView` экземпляр запрашивает ширину 500 и не задает минимальную ширину. Второй `BoxView` экземпляр запрашивает ширину 500 и минимальную ширину 250. Если родительский `StackLayout` элемент недостаточно широк для того, чтобы вместить оба компонента с запрошенной шириной, `BoxView` первый экземпляр будет считаться, что процесс макета имеет минимальную ширину 500, так как не указано другое допустимое минимальное значение. Второй `BoxView` экземпляр может масштабироваться до 250, и он будет сжиматься до тех пор, пока его ширина не достигнет 250 единиц.

Если требуется, чтобы первый `BoxView` экземпляр был уменьшен без минимальной ширины `MinimumWidthRequest` , необходимо задать допустимое значение, например 0.

### <a name="minimum-and-absolute-property-values"></a>Минимальные и абсолютные значения свойств

Поведение не определено, если минимальное значение больше, чем абсолютное значение. Например, если `MinimumWidthRequest` задано значение 100 `WidthRequest` , свойство не должно превышать 100. При указании минимального значения свойства всегда следует указывать абсолютное значение, чтобы гарантировать, что абсолютное значение больше минимального.

### <a name="minimum-properties-within-a-grid"></a>Минимальные свойства в сетке

`Grid`макеты имеют собственную систему для относительных размеров строк и столбцов. Использование `MinimumWidthRequest` или `MinimumHeightRequest` в`Grid` макете не приведет к применению. Дополнительные сведения см. в разделе [Сетка Xamarin. Forms](~/xamarin-forms/user-interface/layouts/grid.md).

## <a name="related-links"></a>Связанные ссылки

* [Документация по API Висуалелемент](xref:Xamarin.Forms.VisualElement)
