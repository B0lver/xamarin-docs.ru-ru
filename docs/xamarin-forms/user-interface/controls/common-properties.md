---
title: Общие свойства, методы и события элемента управления Xamarin. Forms
description: В этой статье описываются общие свойства, методы и события, определенные в классе Висуалелемент, которые обычно используются в производных классах.
ms.prod: xamarin
ms.assetId: 85A0CCF5-C1D8-40BB-927F-A4D944E5534D
ms.technology: xamarin-forms
author: profexorgeek
ms.author: jusjohns
ms.date: 08/21/2019
ms.openlocfilehash: 6d10e665c6461655440ddfb2c524cb56a14337f6
ms.sourcegitcommit: eca3b01098dba004d367292c8b0d74b58c4e1206
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "79305771"
---
# <a name="xamarinforms-common-control-properties-methods-and-events"></a>Общие свойства, методы и события элемента управления Xamarin. Forms

Класс `VisualElement` Xamarin. Forms является базовым классом для большинства элементов управления, используемых в приложении Xamarin. Forms. Класс `VisualElement` определяет множество [свойств](#properties), [методов](#methods)и [событий](#events) , используемых в производных классах.

## <a name="properties"></a>Свойства

В экземплярах `VisualElement` доступны следующие свойства. Полный список см. в разделе [свойства API висуалелемент](xref:Xamarin.Forms.VisualElement#properties).

### [`AnchorX`](xref:Xamarin.Forms.VisualElement.AnchorX)

Свойство `AnchorX` — это `double` значение, определяющее центральную точку на оси X для преобразований, таких как масштабирование и вращение. Значение по умолчанию — 0,5.

### [`AnchorY`](xref:Xamarin.Forms.VisualElement.AnchorY)

Свойство `AnchorY` — это `double` значение, определяющее центральную точку на оси X для преобразований, таких как масштабирование и вращение. Значение по умолчанию — 0,5.

### [`BackgroundColor`](xref:Xamarin.Forms.VisualElement.BackgroundColor)

Свойство `BackgroundColor` — это `Color`, который определяет цвет фона элемента управления. Если не задано, то фон будет `Color` объектом по умолчанию, который отображается как прозрачный.

### [`Behaviors`](xref:Xamarin.Forms.VisualElement.Behaviors)

Свойство `Behaviors` — это `List` объектов `Behavior`. Поведения позволяют присоединять многократно используемые функции к элементам, добавляя их в список `Behaviors`. Дополнительные сведения о классе `Behavior` см. в разделе [поведение Xamarin. Forms](~/xamarin-forms/app-fundamentals/behaviors/index.md).

### [`Bounds`](xref:Xamarin.Forms.VisualElement.Bounds)

Свойство `Bounds` — это `Rectangle` объект, предназначенный только для чтения и представляющий пространство, занимаемое элементом управления. Значение свойства `Bounds` назначается во время цикла макета. `Rectangle` `struct` содержит полезные свойства и методы для тестирования пересечения и включения прямоугольников. Дополнительные сведения см. в разделе [API-интерфейс Xamarin. Forms](xref:Xamarin.Forms.Rectangle).

### [`Effects`](xref:Xamarin.Forms.Element.Effects)

Свойство `Effects` — это `List` объектов `Effect`, унаследованных от класса `Element`(xref: Xamarin. Forms. Element). Эффекты позволяют настраивать собственные элементы управления и обычно используются для небольших изменений стилей. Дополнительные сведения о классе `Effect` см. в разделе [эффекты Xamarin. Forms](~/xamarin-forms/app-fundamentals/effects/index.md).

### [`FlowDirection`](xref:Xamarin.Forms.VisualElement.FlowDirection)

Свойство `FlowDirection` — это `FlowDirection` перечислимое значение. Направлением потока можно присвоить значение `MatchParent`, `LeftToRight`или `RightToLeft` и определить порядок разметки и направление. Свойство `FlowDirection` обычно используется для поддержки языков, которые читаются справа налево.

### [`Height`](xref:Xamarin.Forms.VisualElement.Height)

Свойство `Height` является `double`ным только для чтения значением, описывающим отображаемую высоту элемента управления. Свойство `Height` вычисляется во время цикла макета и не может быть задано напрямую. Высоту элемента управления можно запросить с помощью [Свойства хеигхтрекуест](#heightrequest).

### [`HeightRequest`](xref:Xamarin.Forms.VisualElement.HeightRequest)

Свойство `HeightRequest` — это `double` значение, определяющее нужную высоту элемента управления. Абсолютная высота элемента управления может не соответствовать запрошенному значению. Дополнительные сведения см. в разделе [Свойства запроса](#request-properties).

### [`InputTransparent`](xref:Xamarin.Forms.VisualElement.InputTransparent)

Свойство `InputTransparent` — это `bool`, который определяет, получает ли элемент управления ввод данных пользователем. Значение по умолчанию — `false`, гарантируя, что элемент получает входные данные. Это свойство передает в дочерние элементы, если оно задано. Присвоение свойству `InputTransparent` значения `true` в классе макета приведет к тому, что все элементы в макете не будут получать входные данные.

### [`IsEnabled`](xref:Xamarin.Forms.VisualElement.IsEnabled)

Свойство `IsEnabled` — это `bool` значение, которое определяет, реагирует ли элемент управления на вводимые пользователем данные. Значение по умолчанию — `true`. Если задать для этого свойства значение false, элемент управления не сможет принимать введенные пользователем данные.

### [`IsFocused`](xref:Xamarin.Forms.VisualElement.IsFocused)

Свойство `IsFocused` — это `bool` значение, которое описывает, является ли элемент управления в данный момент объектом, на который он нацелен. Вызов метода [`Focus`](#focus) для элемента управления приведет к тому, что `IsFocused` значение будет равно true. При вызове метода [`Unfocus`](#unfocus) этому свойству будет присвоено значение false.

### [`IsTabStop`](xref:Xamarin.Forms.VisualElement.IsTabStop)

Свойство `IsTabStop` — это `bool` значение, которое определяет, получает ли элемент управления фокус при перемещении пользователем элементов управления с помощью клавиши TAB. Если это свойство имеет значение false, свойство `TabIndex` не будет действовать.

### [`IsVisible`](xref:Xamarin.Forms.VisualElement.IsVisible)

Свойство `IsVisible` — это `bool` значение, определяющее, визуализируется ли элемент управления. Элементы управления со свойством `IsVisible`, установленным в значение false, не будут отображаться, не будут рассматриваться для вычисления пробелов во время цикла макета и не могут принимать данные, вводимые пользователем.

### [`MinimumHeightRequest`](xref:Xamarin.Forms.VisualElement.MinimumHeightRequest)

Свойство `MinimumHeightRequest` — это `double` значение, которое определяет, как переполнение обрабатывается, когда два элемента конкурируют за ограниченное пространство. Задание свойства `MinimumHeightRequest` позволяет процессу макета масштабировать элемент до требуемого минимального размера. Если `MinimumHeightRequest` не указано, значение по умолчанию равно-1, и процесс макета будет считать, что `HeightRequest` минимальным значением. Это означает, что у элементов без `MinimumHeightRequest` не будет масштабируемой высоты.

Дополнительные сведения см. в разделе [минимальные свойства запроса](#minimum-request-properties).

### [`MinimumWidthRequest`](xref:Xamarin.Forms.VisualElement.MinimumWidthRequest)

Свойство `MinimumWidthRequest` — это `double` значение, которое определяет, как переполнение обрабатывается, когда два элемента конкурируют за ограниченное пространство. Задание свойства `MinimumWidthRequest` позволяет процессу макета масштабировать элемент до требуемого минимального размера. Если `MinimumWidthRequest` не указано, значение по умолчанию равно-1, и процесс макета будет считать, что `WidthRequest` минимальным значением. Это означает, что у элементов без `MinimumWidthRequest` не будет масштабируемой ширины.

Дополнительные сведения см. в разделе [минимальные свойства запроса](#minimum-request-properties).

### [`Opacity`](xref:Xamarin.Forms.VisualElement.Opacity)

Свойство `Opacity` — это `double` значение от нуля до единицы, определяющее непрозрачность элемента управления во время отрисовки. Значение этого свойства по умолчанию равно 1,0. Значения за пределами диапазона от 0 до 1 будут заноситься в срез. Свойство `Opacity` применяется только в том случае, если свойство [`IsVisible`](#isvisible) имеет значение `true`. Непрозрачность применяется итеративно. Поэтому, если родительский элемент управления имеет 0,5 Opacity, а его дочерний объект имеет уровень непрозрачности 0,5, дочерний объект будет отображен с действующим значением непрозрачности 0,25. Установка для свойства `Opacity` элемента управления вводом значения 0 имеет неопределенное поведение.

### [`Parent`](xref:Xamarin.Forms.Element.Parent)

Свойство `Parent` наследуется от класса `Element`. Это свойство является объектом `Element`, который является родительским для элемента управления. Обычно свойство `Parent` задается автоматически для элемента, когда он добавляется как дочерний элемент другого элемента.

### [`Resources`](xref:Xamarin.Forms.VisualElement.Resources)

Свойство `Resources` — это экземпляр `ResourceDictionary`, который заполняется парами "ключ-значение", которые обычно заполняются во время выполнения из XAML. Этот словарь позволяет разработчикам приложений использовать объекты, определенные в XAML, как во время компиляции, так и во время выполнения. Ключи в словаре заполняются из атрибута `x:Key` тега XAML. Объект, созданный из XAML, вставляется в `ResourceDictionary` для указанного ключа. После инициализации.

Дополнительные сведения см. в разделе [словари ресурсов](~/xamarin-forms/xaml/resource-dictionaries.md).

### [`Rotation`](xref:Xamarin.Forms.VisualElement.Rotation)

Свойство `Rotation` — это `double` значение от 0 до 360, определяющее поворот оси Z в градусах. Значение по умолчанию для этого свойства равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) и [`AnchorY`](#anchory) значений.

### [`RotationX`](xref:Xamarin.Forms.VisualElement.RotationX)

Свойство `RotationX` — это `double` значение от 0 до 360, определяющее поворот оси X в градусах. Значение по умолчанию для этого свойства равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) и [`AnchorY`](#anchory) значений.

### [`RotationY`](xref:Xamarin.Forms.VisualElement.RotationY)

Свойство `RotationY` — это `double` значение от 0 до 360, определяющее поворот оси Y в градусах. Значение по умолчанию для этого свойства равно 0. Поворот применяется относительно [`AnchorX`](#anchorx) и [`AnchorY`](#anchory) значений.

### [`Scale`](xref:Xamarin.Forms.VisualElement.Scale)

Свойство `Scale` — это `double` значение, определяющее масштаб элемента управления. Значение этого свойства по умолчанию равно 1,0. Масштаб применяется относительно [`AnchorX`](#anchorx) и [`AnchorY`](#anchory) значений.

### [`ScaleX`](xref:Xamarin.Forms.VisualElement.ScaleX)

Свойство `ScaleX` — это `double` значение, определяющее масштаб элемента управления вдоль оси X. Значение этого свойства по умолчанию равно 1,0. Свойство `ScaleX` применяется относительно значения [`AnchorX`](#anchorx) .

### [`ScaleY`](xref:Xamarin.Forms.VisualElement.ScaleY)

Свойство `ScaleY` — это `double` значение, определяющее масштаб элемента управления вдоль оси Y. Значение этого свойства по умолчанию равно 1,0. Свойство `ScaleY` применяется относительно значения [`AnchorY`](#anchory) .

### [`Style`](xref:Xamarin.Forms.NavigableElement.Style)

Свойство `Style` наследуется от класса `NavigableElement`. Это свойство является экземпляром класса `Style`. Класс `Style` содержит триггеры, методы задания и поведение, определяющие внешний вид и поведение визуальных элементов. Дополнительные сведения см. в разделе [стили XAML Xamarin. Forms](~/xamarin-forms/user-interface/styles/xaml/index.md).

### [`StyleClass`](xref:Xamarin.Forms.NavigableElement.StyleClass)

Свойство `StyleClass` — это список `string` объектов, представляющих имена классов `Style`. Это свойство наследуется от класса `NavigableElement`. Свойство `StyleClass` позволяет применять к экземпляру `VisualElement` несколько атрибутов стиля. Дополнительные сведения см. в разделе [классы стилей Xamarin. Forms](~/xamarin-forms/user-interface/styles/xaml/style-class.md).

### [`TabIndex`](xref:Xamarin.Forms.VisualElement.TabIndex)

Свойство `TabIndex` — это `int` значение, определяющее порядок элементов управления при переходе между элементами управления с помощью клавиши TAB. Свойство `TabIndex` является реализацией для свойства, определенного в интерфейсе `ITabStopElement`, который реализуется классом `VisualElement`.

### [`TranslationX`](xref:Xamarin.Forms.VisualElement.TranslationX)

Свойство `TranslationX` — это `double` значение, определяющее Дельта-преобразование, которое будет применено к оси X. Перевод применяется после макета и обычно используется для применения анимации. Преобразование элемента за пределами родительского контейнера My предотвращает вход в него.

Дополнительные сведения см. [в разделе Анимация в Xamarin. Forms](~/xamarin-forms/user-interface/animation/index.md).

### [`TranslationY`](xref:Xamarin.Forms.VisualElement.TranslationY)

Свойство `TranslationY` — это `double` значение, определяющее Дельта-преобразование, которое будет применено к оси Y. Перевод применяется после макета и обычно используется для применения анимации. Преобразование элемента за пределами родительского контейнера My предотвращает вход в него.

Дополнительные сведения см. [в разделе Анимация в Xamarin. Forms](~/xamarin-forms/user-interface/animation/index.md).

### [`Triggers`](xref:Xamarin.Forms.VisualElement.Triggers)

Свойство `Triggers` `List` объектов `TriggerBase` доступно только для чтения. Триггеры позволяют разработчикам приложений выражать действия в XAML, которые изменяют внешний вид элементов управления в ответ на изменения события или свойства. Дополнительные сведения см. в разделе [триггеры Xamarin. Forms](~/xamarin-forms/app-fundamentals/triggers.md).

### [`Visual`](xref:Xamarin.Forms.VisualElement.Visual)

Свойство `Visual` является экземпляром `IVisual`, позволяющим создавать модули подготовки отчетов и выборочно применять их к экземплярам `VisualElement`. Свойство `Visual` установлено в соответствии со своим родителем, поэтому определение модуля подготовки отчетов в компоненте также будет применяться к любым дочерним элементам этого компонента. Если для элемента управления или его предков не задан пользовательский модуль подготовки отчетов, будет использоваться модуль подготовки Xamarin. Forms по умолчанию. Дополнительные сведения см. в разделе [визуальный элемент Xamarin. Forms](~/xamarin-forms/user-interface/visual/index.md).

### [`Width`](xref:Xamarin.Forms.VisualElement.Width)

Свойство `Width` является `double`ным только для чтения значением, которое описывает отображаемую ширину элемента управления. Свойство `Width` вычисляется во время цикла макета и не может быть задано напрямую. Ширину элемента управления можно запросить с помощью [Свойства видсрекуест](#widthrequest).

### [`WidthRequest`](xref:Xamarin.Forms.VisualElement.WidthRequest)

Свойство `WidthRequest` — это `double` значение, определяющее требуемую ширину элемента управления. Абсолютная ширина элемента управления может не соответствовать запрошенному значению. Дополнительные сведения см. в разделе [Свойства запроса](#request-properties).

### [`X`](xref:Xamarin.Forms.VisualElement.X)

Свойство `X` является `double`ным только для чтения значением, которое описывает текущую координату X элемента управления.

### [`Y`](xref:Xamarin.Forms.VisualElement.Y)

Свойство `Y` является `double`ным только для чтения значением, которое описывает текущую координату Y элемента управления.

## <a name="methods"></a>Методы

В классе `VisualElement` доступны следующие методы. Полный список см. в разделе [методы API висуалелемент](xref:Xamarin.Forms.VisualElement#methods).

### [`FindByName`](xref:Xamarin.Forms.Element.FindByName*)

Метод `FindByName` наследуется от класса `Element` и имеет следующую сигнатуру:

```csharp
public object FindByName (string name)
```

Этот метод выполняет поиск всех дочерних элементов для указанного аргумента `name` и возвращает элемент с указанным именем. Если совпадения не найдены, то возвращается значение `null`.

### [`Focus`](xref:Xamarin.Forms.VisualElement.Focus)

Метод `Focus` пытается установить фокус на элемент. Этот метод имеет следующую сигнатуру:

```csharp
public bool Focus ()
```

Метод `Focus` возвращает `true`, если фокус клавиатуры был успешно установлен, и `false`, если вызов метода не привел к изменению фокуса. Для работы этого метода элемент должен иметь возможность получения фокуса. Вызов метода `Focus` для элементов, которые проводятся или нереалны, имеет неопределенное поведение.

### [`Unfocus`](xref:Xamarin.Forms.VisualElement.Unfocus)

Метод `Unfocus` пытается удалить фокус на элементе. Этот метод имеет следующую сигнатуру:

```csharp
public void Unfocus ()
```

Элемент уже должен иметь фокус, чтобы этот метод работал.

## <a name="events"></a>События

В классе `VisualElement` доступны следующие события. Полный список см. в разделе [события Висуалелемент Xamarin. Forms](xref:Xamarin.Forms.VisualElement#events).

### [`Focused`](xref:Xamarin.Forms.VisualElement.Focused)

Событие `Focused` возникает при каждом получении фокуса экземпляром `VisualElement`. Это событие не перемещается через стек Xamarin. Forms, оно получается непосредственно из собственного элемента управления. Это событие создается методом задания свойства [`IsFocused`](#isfocused) .

### [`SizeChanged`](xref:Xamarin.Forms.VisualElement.SizeChanged)

Событие `SizeChanged` возникает при изменении свойств экземпляра `VisualElement` `Height` или `Width`. Если разработчики хотят реагировать непосредственно на изменение размера, вместо того чтобы реагировать на событие после изменения, они должны реализовать [`OnSizeAllocated`](xref:Xamarin.Forms.VisualElement.OnSizeAllocated*) виртуальный метод.

### [`Unfocused`](xref:Xamarin.Forms.VisualElement.Unfocused)

Событие `Unfocused` возникает при потере фокуса экземпляром `VisualElement`. Это событие не перемещается через стек Xamarin. Forms, оно получается непосредственно из собственного элемента управления. Это событие создается методом задания свойства [`IsFocused`](#isfocused) .

## <a name="units-of-measurement"></a>Единицы измерения

Платформы Android, iOS и UWP имеют разные единицы измерения, которые могут различаться на разных устройствах. Xamarin. Forms использует независимую от платформы единицу измерения, которая нормализует единицы между устройствами и платформами. В Xamarin. Forms имеется 160 единиц на дюйм или 64 единиц на сантиметр.

## <a name="request-properties"></a>Свойства запроса

Свойства, имена которых содержат "Request", определяют требуемое значение, которое может не совпадать с фактическим отображаемым значением. Например, `HeightRequest` может иметь значение 150, но если макет допускает только пространство для единиц 100, то отображаемая `Height` элемента управления будет содержать только 100. Размер отображаемого содержимого зависит от доступного пространства и содержащихся в нем компонентов.

## <a name="minimum-request-properties"></a>Свойства минимального запроса

К минимальным свойствам запроса относятся `MinimumHeightRequest` и `MinimumWidthRequest`, и они предназначены для более точного контроля над тем, как элементы могут быть переполнены относительно друг друга. Однако поведение макета, связанное с этими свойствами, имеет некоторые важные соображения.

### <a name="unspecified-minimum-property-values"></a>Неуказанные минимальные значения свойств

Если минимальное значение не задано, по умолчанию для свойства Minimum используется значение-1. Процесс макета пропускает это значение и считает абсолютное значение минимальным. Практический результат такого поведения заключается в том, что элемент без минимально заданного значения **не будет** сжиматься. Элемент с минимальным заданным значением **будет** сжиматься.

В следующем коде XAML показаны два элемента `BoxView` горизонтальной `StackLayout`:

```xaml
<StackLayout Orientation="Horizontal">
    <BoxView HeightRequest="100" BackgroundColor="Purple" WidthRequest="500"></BoxView>
    <BoxView HeightRequest="100" BackgroundColor="Green" WidthRequest="500" MinimumWidthRequest="250"></BoxView>
</StackLayout>
```

Первый экземпляр `BoxView` запрашивает ширину 500 и не задает минимальную ширину. Второй экземпляр `BoxView` запрашивает ширину 500 и минимальную ширину 250. Если родительский элемент `StackLayout` недостаточен для того, чтобы содержать оба компонента с запрошенной шириной, то в первом экземпляре `BoxView` будет рассматриваться минимальная ширина 500, так как не указано другое допустимое минимальное значение. Второй экземпляр `BoxView` может масштабироваться до 250, и он будет сжиматься до тех пор, пока его ширина не достигнет 250 единиц.

Если требуется, чтобы первый экземпляр `BoxView` был уменьшен без минимальной ширины, `MinimumWidthRequest` необходимо задать допустимое значение, например 0.

### <a name="minimum-and-absolute-property-values"></a>Минимальные и абсолютные значения свойств

Поведение не определено, если минимальное значение больше, чем абсолютное значение. Например, если `MinimumWidthRequest` имеет значение 100, свойство `WidthRequest` не должно превышать 100. При указании минимального значения свойства всегда следует указывать абсолютное значение, чтобы гарантировать, что абсолютное значение больше минимального.

### <a name="minimum-properties-within-a-grid"></a>Минимальные свойства в сетке

макеты `Grid` имеют собственную систему для относительных размеров строк и столбцов. Использование `MinimumWidthRequest` или `MinimumHeightRequest` в макете `Grid` не приведет к результату. Дополнительные сведения см. в разделе [Сетка Xamarin. Forms](~/xamarin-forms/user-interface/layouts/grid.md).

## <a name="related-links"></a>Связанные ссылки

* [Документация по API Висуалелемент](xref:Xamarin.Forms.VisualElement)
