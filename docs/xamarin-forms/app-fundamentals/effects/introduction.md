---
title: Общие сведения о эффекты
description: Эффекты позволяют собственные элементы управления на каждой платформе, которую нужно изменить и обычно используются для изменения небольшой стилей. В этой статье содержатся вводные эффекты, описываются границу между эффекты и пользовательские модули подготовки отчетов и описывает класс PlatformEffect.
ms.prod: xamarin
ms.assetid: 30CB8615-8F39-4762-BDB7-333D2B57D112
ms.technology: xamarin-forms
author: davidbritch
ms.author: dabritch
ms.date: 03/08/2016
ms.openlocfilehash: d3fa958e999a10832d5fa15e4190077955b0e6df
ms.sourcegitcommit: 6e955f6851794d58334d41f7a550d93a47e834d2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/12/2018
ms.locfileid: "38997387"
---
# <a name="introduction-to-effects"></a>Общие сведения о эффекты

_Эффекты позволяют собственные элементы управления на каждой платформе, которую нужно изменить и обычно используются для изменения небольшой стилей. В этой статье содержатся вводные эффекты, описываются границу между эффекты и пользовательские модули подготовки отчетов и описывает класс PlatformEffect._

Xamarin.Forms [страниц, макеты и элементы управления](~/xamarin-forms/user-interface/controls/index.md) предоставляет общий API для описания кроссплатформенных мобильных пользовательских интерфейсов. Каждой страницы, макет и элемент управления преобразуется для просмотра по-разному в разных платформах с помощью `Renderer` класс, который в свою очередь создает собственный элемент управления (соответствующие представления Xamarin.Forms), размещает его на экране и реализует поведение, определенное в общий код.

Разработчики могут реализовывать пользовательские классы `Renderer` для настройки внешнего вида или работы элемента управления. Тем не менее реализовать класс пользовательского средства визуализации для выполнения настройки простого элемента управления чаще всего спектра ответа. Эффекты упростить этот процесс, позволяющий собственные элементы управления на каждой платформе более легко настраивается.

Эффекты создаются в проекты под конкретные платформы путем создания подклассов `PlatformEffect` элемента управления, а также влияние используются путем их присоединения к соответствующий элемент управления в проекте общая библиотека или библиотека Xamarin.Forms .NET Standard.

## <a name="why-use-an-effect-over-a-custom-renderer"></a>Зачем использовать эффект через пользовательское средство отрисовки?

Эффекты упростить настройку элемента управления, многократного использования и могут быть параметризованы для еще большего повышения повторного использования.

Все, что может быть достигнут с эффектом также может осуществляться с помощью пользовательского модуля отрисовки. Тем не менее пользовательские модули подготовки отчетов обеспечивают большую гибкость и настроек, чем эффекты. Приведенный ниже список рекомендаций ситуации, в котором пользователь может выбрать эффект через пользовательское средство отрисовки:

- Эффект рекомендуется в том случае, если изменение свойств элемента управления платформы будет достичь нужного результата.
- Пользовательское средство отрисовки является обязательным, если требуется переопределить методы элемента управления с платформой.
- Пользовательское средство отрисовки является обязательным, при необходимости замените платформы управления, который реализует элемент управления Xamarin.Forms.

## <a name="subclassing-the-platformeffect-class"></a>Создание подкласса класса PlatformEffect

В следующей таблице перечислены пространства имен для `PlatformEffect` класс для каждой платформы и типов свойств:

|Platform|Пространство имен|Контейнер|Элемент управления|
|--- |--- |--- |--- |
|iOS|Xamarin.Forms.Platform.iOS|UIView|UIView|
|Android|Xamarin.Forms.Platform.Android|ViewGroup|Просмотр|
|Универсальная платформа Windows (UWP)|Xamarin.Forms.Platform.UWP|FrameworkElement|FrameworkElement|

Каждой платформы `PlatformEffect` класс предоставляет следующие свойства:

- `Container` — ссылается на элемент управления платформой, используется для реализации макета.
- `Control` — ссылается на элемент управления платформой, используется для реализации управления Xamarin.Forms.
- `Element` — ссылается на элемент управления Xamarin.Forms, который готовится к просмотру.

Эффекты не оказывают тип сведения о контейнере, элемент управления или элемент, в которой они подключены, так как они могут быть присоединены к любому элементу. Таким образом при присоединении эффекта на элемент, он не поддерживает его корректное снижение производительности или вызывать исключение. Тем не менее `Container`, `Control`, и `Element` свойства может быть приведен к типу реализации. Дополнительные сведения об этих типах см. в разделе [модуль подготовки отчетов базовые классы и собственные элементы управления](~/xamarin-forms/app-fundamentals/custom-renderer/renderers.md).

Каждой платформы `PlatformEffect` класс предоставляет следующие методы, которые должны быть переопределен для реализации эффект:

- [`OnAttached`](xref:Xamarin.Forms.Effect.OnAttached) — вызывается, когда эффект присоединяется к элементу управления Xamarin.Forms. Переопределения этого метода, в каждом классе платформенный конкретных эффект, стоит выполнить настройку элемента управления, а также обработка исключений в случае, если результат не может использоваться для указанного элемента управления Xamarin.Forms.
- [`OnDetached`](xref:Xamarin.Forms.Effect.OnDetached) — вызывается, когда эффект отсоединяется от элемента управления Xamarin.Forms. Переопределения этого метода, в каждом классе эффект от платформы, стоит выполнить очистку эффект, например Отмена регистрации обработчика событий.

Кроме того `PlatformEffect` предоставляет [ `OnElementPropertyChanged` ](xref:Xamarin.Forms.PlatformEffect`2.OnElementPropertyChanged(System.ComponentModel.PropertyChangedEventArgs)) метод, который также может быть переопределен. Этот метод вызывается при изменении свойства элемента. Переопределения этого метода, в каждом классе эффект от платформы — место для реагирования на изменения свойство, используемое в элементе управления Xamarin.Forms. Проверяет наличие измененного свойства должны быть выполнены, так как это переопределение может вызываться многократно.


## <a name="related-links"></a>Связанные ссылки

- [Пользовательские отрисовщики](~/xamarin-forms/app-fundamentals/custom-renderer/index.md)
