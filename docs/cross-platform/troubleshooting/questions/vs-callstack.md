---
title: Как выполнять сбор стеков вызовов текущего процесса Visual Studio
ms.topic: troubleshooting
ms.prod: xamarin
ms.assetid: 64c24b09-2c4a-43ad-b94d-6cd05a1aee44
author: asb3993
ms.author: amburns
ms.date: 03/30/2017
ms.openlocfilehash: e81c28f0610a0df2e4fe06349685ef5e0744071a
ms.sourcegitcommit: 0a72c7dea020b965378b6314f558bf5360dbd066
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/09/2018
ms.locfileid: "33919765"
---
# <a name="how-do-i-collect-the-current-call-stacks-of-the-visual-studio-process"></a>Как выполнять сбор стеков вызовов текущего процесса Visual Studio

Когда графический интерфейс пользователя блокируется (зависает, зависании) в Visual Studio, важной характеристикой для сбора данных диагностики — это набор стеков вызовов всех потоков процесса Visual Studio. Чтобы сохранить эти сведения для зависших экземпляр Visual Studio, можно использовать второй экземпляр Visual Studio:

1. Запустите второй экземпляр Visual Studio (новое окно).

2. Закройте все открытые решения, в новом экземпляре Visual Studio.

3. Выберите **Отладка > Присоединить к процессу**.

  ![](vs-callstack-images/image1.png "Выберите Отладка > присоединить к процессу")

4. Выберите исходный экземпляр зависших `devenv.exe` из списка **доступные процессы**.

5. Выберите **Отладка > Приостановить все**.

  ![](vs-callstack-images/image2.png "Выберите Отладка > Приостановить все")

6. Выберите **Отладка > Сохранение дампа**.

  ![](vs-callstack-images/image3.png "Выберите Отладка > Сохранение дампа")

7. Изменение **тип** для **минидампа (\*.dmp)**. В результате получится гораздо меньшего размера файла, чем **минидамп с кучей**, и кучи обычно не имеет отношения к диагностике зависании.

  ![](vs-callstack-images/image4.png "В результате получится гораздо меньшего размера файла, чем минидамп с кучей и кучи обычно не имеет отношения к диагностике зависании")

8. Сохраните файл дампа. При отправке файла в оперативном режиме, можно zip, чтобы уменьшить размер.
