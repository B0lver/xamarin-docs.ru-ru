---
title: Объединение компонентов Сервисов Google Play и NuGet
ms.topic: troubleshooting
ms.prod: xamarin
ms.assetid: 5D962EB4-2CB3-4B7D-9D77-889DEACDAE02
author: davidortinau
ms.author: daortin
ms.date: 05/08/2018
ms.openlocfilehash: 0b2fd92eb9157b561708eafe10d341381fa21543
ms.sourcegitcommit: 4691b48f14b166afcec69d1350b769ff5bf8c9f6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/08/2020
ms.locfileid: "75728204"
---
# <a name="unifying-google-play-services-components-and-nuget"></a>Объединение компонентов Сервисов Google Play и NuGet

## <a name="history"></a>Журнал

Использовалось несколько Сервисы Google Play компонентов и пакетов NuGet:

- Сервисы Google Play (Фройо)
- Сервисы Google Play (Gingerbread)
- Сервисы Google Play (ICS)
- Сервисы Google Play (Желлибеан)
- Сервисы Google Play (KitKat)

Google фактически поставляется только с двумя JAR-файлами для Сервисы Google Play:

- `google-play-services-froyo.jar`
- `google-play-services.jar`

Несоответствие существовало из-за того, что наши средства неправильно сообщают `aapt.exe`, какой уровень API ресурсов был использован для данного приложения. Это означало, что при попытке использовать привязку Сервисы Google Play (KitKat) на более низком уровне API, например Gingerbread, были получены ошибки компиляции.

## <a name="unifying-google-play-services"></a>Объединение Сервисы Google Play

В более последних версиях Xamarin. Android теперь мы обкажем `aapt.exe`, какую версию ресурсов использовать, поэтому эта проблема исчезает.

Это означает, что нет никакой реальной причины для создания отдельных пакетов для Gingerbread/ICS/Желлибеан/KitKat (Однако нам по-прежнему требуется отдельная привязка для Фройо, так как это совершенно другой JAR-файл).

Чтобы упростить работу с разработчиками, мы теперь объединены компоненты и пакеты NuGet в два:

- Сервисы Google Play (Фройо) (привязки `google-play-services-froyo.jar`)
- Сервисы Google Play (привязки `google-play-services.jar`)

### <a name="which-one-should-be-used"></a>Какой из них следует использовать?

Почти во всех случаях следует использовать Сервисы Google Play. Единственная причина использования пакета (Фройо) — только в том случае, если вы активно нацеливание на Фройо. Единственная причина, по которой существует отдельный JAR-файл из Google, заключается в том, что Фройо находится на небольшом проценте устройств, они сами решили приостановки поддержки, поэтому этот JAR-файл является замороженным, неподдерживаемым моментальным снимком Сервисы Google Play.

### <a name="note-about-gingerbread"></a>Примечание о Gingerbread

Gingerbread не поддерживает поддержку фрагментов по умолчанию, поэтому некоторые классы в привязке не будут использоваться в приложении во время выполнения на устройстве Gingerbread. Такие классы, как `MapFragment`, не будут работать в Gingerbread, а вместо этого следует использовать их вариант поддержки `SupportMapFragment`. Разработчику необходимо понять, какой из них использовать. Эта несовместимость отмечена Google в своей Сервисы Google Play документации.

### <a name="what-happens-to-the-old-componentsnugets"></a>Что происходит со старыми компонентами или NuGet?

Так как они больше не нужны, мы отключили или Вычислите следующие компоненты и NuGet:

- Сервисы Google Play (Gingerbread)
- Сервисы Google Play (Желлибеан)
- Сервисы Google Play (KitKat)

Существующий компонент _сервисы Google Play (ICS)_ или NuGet был переименован в _сервисы Google Play_ и будет поддерживаться в актуальном состоянии. Все проекты, ссылающиеся на один из отключенных или разделенных пакетов, должны быть обновлены для использования этой версии.

Отключенные компоненты по-прежнему существуют и должны быть restorable для проектов, на которые они по-прежнему ссылаются, чтобы избежать их нарушения. Аналогичным образом, перечисленные пакеты NuGet по-прежнему существуют и могут быть восстановлены. Они не будут обновлены в дальнейшем.
