---
title: Платформа Apple (iOS и Mac)
description: 'В этом документе описываются различные темы, связанные с разработкой Xamarin. iOS и Xamarin. Mac: совместное использование кода, Unified API, связанные библиотеки цели-C, собственные ссылки, собственные типы и многое другое.'
ms.prod: xamarin
ms.assetid: 67246203-D78E-4DCC-9E55-7D3D93968E54
author: conceptdev
ms.author: crdun
ms.date: 03/29/2017
ms.openlocfilehash: b6ac960770320ed100e8b082cabf8240efed070b
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70290832"
---
# <a name="apple-platform-ios-and-mac"></a>Платформа Apple (iOS и Mac)

## <a name="code-sharing"></a>Совместное использование кода

Для элементов кода, не имеющих элементов пользовательского интерфейса, лучшим способом совместного использования кода в iOS и Mac по-прежнему является использование [переносимых библиотек классов](~/cross-platform/app-fundamentals/pcl.md).

Для кода, который должен работать с каким-либо пользовательским интерфейсом, необходимо использовать [Общие проекты](~/cross-platform/app-fundamentals/shared-projects.md) , которые позволяют разместить код для совместного использования в одном проекте и компилировать его вместе с Mac и iOS при ссылке.

## <a name="unified-apiunifiedindexmd"></a>[Unified API](unified/index.md)

Unified API для проектов iOS и Mac использует одни и те же пространства имен для платформ, чтобы один и тот же файл кода можно было использовать на обеих платформах для эффективного совместного использования кода. Он также включает как 32, так и 64 разрядов. Unified API был шаблоном по умолчанию, начиная с раннего 2015 и рекомендуемый для всех новых проектов — в App Store можно отправить *только* проекты Unified API.

### <a name="classic-apis"></a>Классические API

> [!NOTE]
> **Нерекомендуемое развертывание классического профиля:** По мере добавления новых платформ в Xamarin. iOS начинается постепенное прекращение использования функций из классического профиля (. dll). Например, был удален параметр не-НРК (New-ref-Count). НРК всегда был включен для всех Объединенных приложений (т. е. не является НРК) и не имеет известных проблем. В будущих выпусках будет удален параметр использования Boehm в качестве сборщика мусора. Это также был вариант, который никогда не был доступен для Объединенных приложений. Полное удаление классической поддержки запланировано на 2016 с выпуском Xamarin. iOS 10,0.

Первоначальные (неединые) API Xamarin. iOS и Xamarin. Mac не делают совместное использование кода более сложным, поскольку в собственных `MonoTouch.` платформах существовали префиксы пространств имен или `MonoMac.` .  Мы предоставили несколько пустых пространств имен, которые позволяют разработчикам `using` совместно использовать код, добавляя инструкции, которые ссылаются на пространства имен MonoMac и с прямым касанием, в одном файле, но это было немного некрасиво. Classic API следует по-прежнему использовать только в устаревших приложениях, которые являются внутренними распределенными (рекомендуется обновление до Unified API).


### <a name="updating-from-classic-to-the-unified-api"></a>Обновление классической модели до Unified API

Существуют подробные инструкции по обновлению любого приложения из классической модели в Unified API.

## <a name="binding-objective-c-librariesbindingindexmd"></a>[Привязка библиотек Objective-C](binding/index.md)

Xamarin позволяет переносить собственные библиотеки в приложения с помощью привязок. В этом разделе описывается:

- принцип работы привязок
- как вручную создать проект привязки, позволяющий перенести код цели на C в Xamarin и
- сведения о том, как использовать наше **Шарпие** средство для автоматизации процесса.

## <a name="native-referencesnative-referencesmd"></a>[Собственные ссылки](native-references.md)

## <a name="macios-native-typesnativetypesmd"></a>[Собственные типы Mac/iOS](nativetypes.md)

Для поддержки 32 и 64 двоичного кода прозрачно в C# и F#мы представляем новые типы данных.   Дополнительные сведения см. здесь.

## <a name="building-32-and-64-bit-apps32-and-64indexmd"></a>[Сборка 32 и 64 разрядов приложений](32-and-64/index.md)

Что необходимо знать для поддержки 32 и 64 разрядов приложений.

## <a name="working-with-native-types-in-cross-platform-appsnative-types-cross-platformmd"></a>[Работа с собственными типами в кроссплатформенных приложениях](native-types-cross-platform.md)

В этой статье рассматривается использование новых типов iOS Unified API Native Type`nint`( `nuint`, `nfloat`,) в кросс-платформенном приложении, в котором код предоставляется для устройств, не относящихся к iOS, таких как Android или Windows Phoneные ОС.
Он предоставляет подробные сведения о том, когда следует использовать собственные типы и предоставляет несколько возможных решений для случаев, когда новый тип должен использоваться с кодом кросс-платформенного кода.

## <a name="httpclient-stack-and-ssltls-implementation-selectorhttp-stackmd"></a>[HttpClient Stack и селектор реализации SSL и TLS](http-stack.md)

Новый селектор стека HttpClient определяет, какую реализацию HttpClient использовать в приложении Xamarin. iOS, Xamarin. tvOS и Xamarin. Mac. Теперь можно переключиться на реализацию, использующую собственные транспорты iOS, tvOS или OS X (`NSUrlSession` или `CFNetwork` в зависимости от ОС).

SSL (уровень SSL) и его последователем, TLS (безопасность транспортного уровня) обеспечивают поддержку HTTP и других сетевых подключений через `System.Net.Security.SslStream`. Новый вариант сборки реализации SSL/TLS переключается между собственным TLS-стеком Mono, а другой — с помощью стека TLS Apple, присутствующего в Mac и iOS.
