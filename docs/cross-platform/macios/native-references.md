---
title: "Собственные ссылки"
description: "Собственные ссылки дает возможность внедрения собственная платформа в Xamarin.iOS или Xamarin.Mac проект или проект привязки."
ms.topic: article
ms.prod: xamarin
ms.assetid: E53185FB-CEF5-4AB5-94F9-CC9B57C52300
ms.technology: xamarin-cross-platform
author: asb3993
ms.author: amburns
ms.date: 03/29/2017
ms.openlocfilehash: ea635dfd5b7946c6d394d72bffbb328255b56b97
ms.sourcegitcommit: 73bd0c7e5f237f0a1be70a6c1384309bb26609d5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2018
---
# <a name="native-references"></a>Собственные ссылки

_Собственные ссылки дает возможность внедрения собственная платформа в Xamarin.iOS или Xamarin.Mac проект или проект привязки._


Начиная с iOS 8.0 ее можно создать внедренный framework, могут совместно использовать код приложения расширения и основного приложения в Xcode. С помощью функции собственную ссылку он будет можно использовать такие внедренные платформы (созданные с помощью Xcode) в Xamarin.iOS.
 
> [!IMPORTANT]
> Создание внедренного платформы из любого типа Xamarin.iOS или Xamarin.Mac проектов будет невозможно, собственных ссылок разрешается только для использования из существующего собственного платформ (Objective-C).




<a name="Terminology" />

## <a name="terminology"></a>Терминология

В iOS 8 (и более поздние версии) **внедренные платформы** может быть одновременно встроены статически скомпонованной и динамически связанные платформы. Чтобы правильно распределить их, необходимо, чтобы их в «fat» платформ, которые включены все их _фрагменты_ для каждой архитектуры устройства, должны поддерживаться вместе с приложением.

<a name="Static-vs-Dynamic-Frameworks" />

### <a name="static-vs-dynamic-frameworks"></a>Статические vs. Динамические платформ

**Статические платформы** Скомпоновано во время компиляции где **платформы динамических** связываются во время выполнения и таким образом, могут быть изменены без повторного связывания. При использовании любой платформе сторонних поставщиков до iOS 8 вы использовали **статических Framework** , был скомпилирован в ваше приложение. В разделе Apple [динамическое программирование библиотеки](https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/OverviewOfDynamicLibraries.html#//apple_ref/doc/uid/TP40001873-SW1) документации для получения дополнительных сведений.

<a name="Embedded-vs-System-Frameworks" />

### <a name="embedded-vs-system-frameworks"></a>Внедренные vs. Система платформы

**Внедренные платформы** включены в ваш пакет приложений и доступны только для конкретного приложения посредством его "песочницы". **Система платформы** сохраняются на уровне операционной системы и доступны для всех приложений на устройстве. В настоящее время только Apple имеет возможность создания уровня платформы операционной системы.

<a name="Thin-vs-Fat-Frameworks" />

### <a name="thin-vs-fat-frameworks"></a>Тонкая vs. FAT платформ

**Тонкая платформы** содержат скомпилированный код для конкретной системы архитектуры где **Fat платформы** содержит кода для нескольких архитектур. Каждой конкретной архитектуры базы кода, скомпилированные в структуру называется _срез_. Таким образом например, при наличии платформа, которая была скомпилирована для двух iOS Simulator архитектуры (i386 и X86_64), он будет содержать двух фрагментов.

Предпринята попытка распределения в этом примере Framework с приложением, будет работать неправильно в имитаторе, при этом он сбоям на устройстве, так как платформа не содержит все фрагменты конкретного кода для устройства iOS. Чтобы обеспечить работу во всех экземплярах платформу, его также необходимо включить фрагменты конкретного устройства, такие как arm64, armv7 и armv7s.

<a name="Working-with-Embedded-Frameworks" />

## <a name="working-with-embedded-frameworks"></a>Работа с внедренные платформы

Существует два действия, которые необходимо выполнить для работы с внедренные платформы в приложении Xamarin.iOS или Xamarin.Mac: создание Fat Framework и внедрение платформу.

<a name="Overview" />

### <a name="creating-a-fat-framework"></a>Создание Fat Framework

Как уже говорилось выше, чтобы иметь возможность использовать платформу, внедренных в приложении, он должен быть Fat платформа, которая включает в себя все архитектуры системы фрагменты для устройств, которые приложение будет работать на.

Если платформа и много приложения находятся в том же проекте Xcode, это не проблема как Xcode построит платформы и приложения, используя те же параметры построения. Поскольку приложения Xamarin не удается создать внедренный платформ, этот метод не может использоваться.

Чтобы решить эту проблему, `lipo` средство командной строки можно использовать для объединения двух или более платформ в одной платформе Fat, содержащий все необходимые срезы. Дополнительные сведения о работе с `lipo` команды, см. наш [связывания собственные библиотеки](~/ios/platform/native-interop.md) документации.

<a name="Embedding-a-Framework" />

### <a name="embedding-a-framework"></a>Внедрение платформу

Выполните шаг требуются для внедрения платформу в Xamarin.iOS или Xamarin.Mac проекта с использованием собственных ссылок.

1. Создайте или откройте существующий проект Xamarin.iOS, Xamarin.Mac или привязки.
2. В **обозревателе решений**, щелкните правой кнопкой мыши имя проекта и выберите **добавить** > **добавить собственную ссылку**: 

    [![](native-references-images/ref01.png "В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите Добавить ссылку на машинном коде")](native-references-images/ref01.png#lightbox)
3. Из **откройте** диалогового окна выберите имя собственного платформы, на которой требуется внедрить и нажмите кнопку **откройте** кнопки: 

    [![](native-references-images/ref02.png "Выберите имя собственная платформа для внедрения и нажмите кнопку «Открыть»")](native-references-images/ref02.png#lightbox)
4. Платформа будет добавлен к дереву проекта: 

    [![](native-references-images/ref03.png "Платформа будет добавлен в дерево проектов")](native-references-images/ref03.png#lightbox)

При компиляции проекта собственная платформа будет внедрен в пакет приложения.

<a name="App-Extensions-and-Embedded-Frameworks" />

## <a name="app-extensions-and-embedded-frameworks"></a>Расширения приложения и внедренные платформы

Внутренне Xamarin.iOS могут воспользоваться преимуществами эту функцию для связывания с моно средой выполнения как платформу (при цель развертывания > = iOS 8.0), тем самым уменьшение размера приложения значительно для приложений с помощью расширения (поскольку моно среда выполнения будет включен только один раз для весь набор приложений, а не по разу для приложения контейнера и один раз для каждого расширения).

Расширения свяжет с исполняющей средой моно как структура, так как все расширения требуют iOS 8.0.

Приложения, у которых нет расширения и приложений, целевой iOS 

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье были предприняты никакие подробное рассмотрение внедрение собственная платформа в приложении Xamarin.iOS или Xamarin.Mac.

