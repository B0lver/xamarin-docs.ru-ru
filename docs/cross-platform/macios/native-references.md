---
title: Собственные ссылки iOS, Mac и проекты привязки
description: Собственные ссылки дает возможность встраивать собственная платформа Xamarin.iOS, Xamarin.Mac или привязки проекта.
ms.prod: xamarin
ms.assetid: E53185FB-CEF5-4AB5-94F9-CC9B57C52300
author: asb3993
ms.author: amburns
ms.date: 03/29/2017
ms.openlocfilehash: 3a497d0bb4674014b8063cb1fbc91eec6e7ae5ea
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61201565"
---
# <a name="native-references-in-ios-mac-and-bindings-projects"></a>Собственных ссылок в проекты привязки, iOS и Mac

_Собственные ссылки дает возможность вставлять собственной платформой в проект Xamarin.iOS и Xamarin.Mac или привязки проекта._

С момента iOS 8.0 ее можно создать платформу embedded совместное использование кода между расширения приложений и основного приложения в Xcode. С помощью функции собственную ссылку можно будет использовать эти внедренные платформы (созданная с помощью Xcode) Xamarin.iOS.
 
> [!IMPORTANT]
> Его не удастся создать внедренные платформы из любого типа проектов Xamarin.iOS и Xamarin.Mac, собственные ссылки допускают только за использование существующих встроенных инфраструктур (Objective-C).

<a name="Terminology" />

## <a name="terminology"></a>Терминология

В iOS 8 (и более поздние версии) **внедренные платформы** может быть одновременно встроены статически и динамически связанные платформ. Чтобы правильно распределить их, необходимо создать их в «fat» платформ, которые включены все их _фрагменты_ для каждой архитектуры устройства, должны поддерживаться вместе с вашим приложением.

<a name="Static-vs-Dynamic-Frameworks" />

### <a name="static-vs-dynamic-frameworks"></a>Статические vs. Динамические платформ

**Статические платформ** связываются во время компиляции где **динамической платформы** связываются во время выполнения и поэтому могут быть изменены без повторного связывания. Если вы использовали все сторонние платформы до iOS 8, вы использовали **статический Framework** , был скомпилирован в ваше приложение. См. в разделе Apple [динамической библиотеке программирования](https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/OverviewOfDynamicLibraries.html#//apple_ref/doc/uid/TP40001873-SW1) документации для получения дополнительных сведений.

<a name="Embedded-vs-System-Frameworks" />

### <a name="embedded-vs-system-frameworks"></a>Внедренные vs. Системы платформы

**Внедренные платформы** включены в ваш пакет приложений и доступны только для конкретного приложения с помощью изолированной среде. **Системы платформы** хранятся на уровне операционной системы и доступны для всех приложений на устройстве. В настоящее время только Apple имеет возможность создавать уровень платформы операционной системы.

<a name="Thin-vs-Fat-Frameworks" />

### <a name="thin-vs-fat-frameworks"></a>Тонкая vs. FAT платформ

**Тонкая платформ** содержат скомпилированный код для системной архитектуры где **Fat платформ** содержат код для нескольких архитектур. Каждой конкретной архитектуры базы кода, скомпилированные в платформу, называется _срез_. Таким образом например, если бы нам Framework, который был скомпилирован для двух iOS архитектуры симулятора (i386 и X86_64), он будет содержать два среза.

Если вы пытались распространение этого примера Framework с вашим приложением, он будет корректной работы в симуляторе, но ошибкой на устройстве, так как платформа не содержит все фрагменты написанию кода для устройства iOS. Чтобы убедиться, что платформа будет работать во всех экземплярах, его также необходимо включить фрагменты конкретного устройства, такие как arm64, armv7 и armv7s.

<a name="Working-with-Embedded-Frameworks" />

## <a name="working-with-embedded-frameworks"></a>Работа с внедренные платформы

Существует два действия, которые необходимо выполнить для работы с внедренные платформы в приложении Xamarin.iOS и Xamarin.Mac: Создание файловой системой Fat Framework и внедрение платформы.

<a name="Overview" />

### <a name="creating-a-fat-framework"></a>Создание файловой системой Fat Framework

Как уже говорилось выше, чтобы иметь возможность использовать платформу Embedded в приложении, он должен быть Fat платформу, которая включает в себя все архитектуры системы срезы для устройств, которые будет выполняться приложение.

Когда платформа и приложении находятся в том же проекте Xcode, это не проблема как Xcode создаст платформы и приложения, используя те же параметры сборки. Поскольку приложения Xamarin не удается создать внедренные платформы, этот метод нельзя использовать.

Чтобы устранить эту проблему, `lipo` средство командной строки можно использовать для объединения двух или нескольких платформ в одной платформе Fat, содержащий все необходимые срезы. Дополнительные сведения о работе с `lipo` команды, см. наш [связывание собственные библиотеки](~/ios/platform/native-interop.md) документации.

<a name="Embedding-a-Framework" />

### <a name="embedding-a-framework"></a>Внедрение платформу

Выполните шаг необходимо внедрить framework в проекте Xamarin.iOS и Xamarin.Mac, с помощью собственных ссылок:

1. Создайте новый или откройте существующий проект Xamarin.iOS и Xamarin.Mac привязки.
2. В **обозревателе решений**, щелкните правой кнопкой мыши имя проекта и выберите **добавить** > **добавить собственную ссылку**: 

    [![](native-references-images/ref01.png "В обозревателе решений щелкните правой кнопкой мыши имя проекта и выберите добавить собственную ссылку")](native-references-images/ref01.png#lightbox)
3. Из **откройте** диалоговое окно, выберите имя собственного платформы, на которой вы хотите внедрить и нажмите кнопку **откройте** кнопки: 

    [![](native-references-images/ref02.png "Выберите имя собственного платформы и нажмите кнопку \"Открыть\"")](native-references-images/ref02.png#lightbox)
4. Платформа будет добавлен к дереву проекта: 

    [![](native-references-images/ref03.png "Платформы будут добавлены в дерево проектов")](native-references-images/ref03.png#lightbox)

При компиляции проекта Native Framework будет внедрен в пакет приложения.

<a name="App-Extensions-and-Embedded-Frameworks" />

## <a name="app-extensions-and-embedded-frameworks"></a>Расширения приложений и внедренные платформы

Внутренне Xamarin.iOS могут воспользоваться преимуществами этой функции, чтобы связать со средой выполнения Mono как платформу (когда цель развертывания: > = iOS 8.0), уменьшая размер приложения значительно для приложений с помощью расширений (так как среда выполнения Mono будут включены только один раз весь набор приложений, а не по разу для приложения-контейнера и один раз для каждого расширения).

Расширения будет связан со средой выполнения Mono как платформу, так как все расширения требуется iOS 8.0.

Приложения, у которых нет расширений и приложений, целевых платформ есть iOS 

<a name="Summary" />

## <a name="summary"></a>Сводка

В этой статье были предприняты никакие подробный обзор внедрения собственной платформой в приложение Xamarin.iOS и Xamarin.Mac.

