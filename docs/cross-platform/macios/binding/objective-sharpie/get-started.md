---
title: начало работы с Шарпие цели
description: В этом документе представлен общий обзор цели Шарпие, средства, используемого для автоматизации создания C# привязок к коду цели-C.
ms.prod: xamarin
ms.assetid: 577512BF-1A90-41E5-89DE-9E056C478678
author: conceptdev
ms.author: crdun
ms.date: 10/11/2017
ms.openlocfilehash: c34a6c09bf1298fd710e3e39a244294821a714ae
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70290734"
---
# <a name="getting-started-with-objective-sharpie"></a>начало работы с Шарпие цели

> [!IMPORTANT]
> Цель Шарпие — это средство для опытных разработчиков Xamarin с расширенными знаниями о цели-C (и по расширению, C). Прежде чем приступить к привязке библиотеки цели-C, необходимо знать, как создать собственную библиотеку в командной строке (и хорошо понимать, как работает собственная библиотека).

<a name="installing" />

## <a name="installing-objective-sharpie"></a>Установка цели Шарпие

Цель Шарпие в настоящее время является автономным средством командной строки для Mac OS X 10,10 и более поздних версий и _не является полностью поддерживаемым продуктом Xamarin_. Он должен использоваться только опытными разработчиками, чтобы помочь в создании проекта привязки для сторонней библиотеки цели-C.

Целевое Шарпие можно скачать как стандартный установщик пакета OS X.
Запустите установщик и следуйте всем отображаемым на экране запросам мастера установки.

- **Текущая версия: 3,4**
  - [Скачать последний выпуск](https://dl.xamarin.com/objective-sharpie/ObjectiveSharpie.pkg)
  - [Объявление форума](https://forums.xamarin.com/discussion/104800/objective-sharpie-3-4)

> [!TIP]
> `sharpie update` Используйте команду для обновления до последней версии.

## <a name="basic-walkthrough"></a>Основное пошаговое руководство

Цель Шарпие — это средство командной строки, предоставляемое Xamarin, помогающее создавать определения, необходимые для привязки сторонней библиотеки цели-C к C#.
Даже при использовании цели *Шарпие разработчику потребуется изменить* созданные файлы после завершения задания Шарпие, чтобы устранить все проблемы, которые не удалось автоматически обработать с помощью средства.

Там, где это возможно, Целевая Шарпие будет закомментировать интерфейсы API, с которыми он имеет сомнения в том, как правильно привязать (многие конструкции в машинном коде являются неоднозначными).
Эти заметки будут отображаться как [ `[Verify]` атрибуты](~/cross-platform/macios/binding/objective-sharpie/platform/verify.md).

Выходные данные цели Шарпие — это пара [ `ApiDefinition.cs` файлов `StructsAndEnums.cs` , которую](~/cross-platform/macios/binding/objective-sharpie/platform/apidefinitions-structsandenums.md) можно использовать для создания проекта привязки, который компилируется в библиотеку, которую можно использовать в приложениях Xamarin.

> [!IMPORTANT]
> Цель Шарпие имеет одно **главное** правило для правильного использования: необходимо полностью передать ему правильные аргументы командной строки компилятора Clang, чтобы обеспечить правильный анализ. Это обусловлено тем, что этап анализа цели Шарпие — это просто средство, [реализованное для API Clang либтулинг](http://clang.llvm.org/docs/LibTooling.html).

Это означает, что цель Шарпие обладает полной мощностью Clang (C/объектив-C/C++ компилятор, который фактически компилирует собственную библиотеку, которую следует привязать) и все ее внутренние знания о файлах заголовков для привязки.
Вместо перевода проанализированного [AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree) в объектный код цель Шарпие преобразует AST в «шаблон» C# привязки, подходящий для `bmac` входных данных в инструменты и `btouch` привязки Xamarin.

Если целевая задача Шарпие ошибки во время синтаксического анализа, это означает, что Clang выдает ошибку на этапе синтаксического анализа, пытаясь создать AST, и вам нужно выяснить, почему.

**НОВЫЕ ФУНКЦИИ!** версии 3,0 попытаются устранить некоторые из этих сложностей за счет поддержки проектов Xcode напрямую. Если собственная библиотека содержит допустимый проект Xcode, то объектив Шарпие может оценить проект для указанной цели и конфигурации, чтобы вывести необходимые файлы входных заголовков и флаги компилятора.

Если проект Xcode недоступен, необходимо ознакомиться с проектом, изменив правильные входные файлы заголовков, пути поиска файлов заголовков и другие необходимые флаги компилятора. Важно понимать, что флаги компилятора, используемые для построения собственной библиотеки, те же, которые должны быть переданы целевой Шарпие. Этот процесс выполняется более подробно, и для него требуется некоторое знакомство с компиляцией машинного кода в командной строке с помощью Clang цепочки инструментов.

**НОВЫЕ ФУНКЦИИ!** в версии 3,0 также представлено средство для простой привязки [CocoaPods](https://cocoapods.org) с `sharpie pod` помощью команды.
Если нужная библиотека доступна в качестве Кокоапод, мы рекомендуем начать с попытки привязать Кокоапод с целевой Шарпие (по сравнению с попыткой непосредственной привязки к источнику).
