---
title: рекомендации по 32/64-разрядной платформе
description: В этом документе описываются различные соображения, которые следует учитывать при нацеливании на архитектуру 32-разрядных и 64-разрядных версий для приложений Xamarin. iOS или Xamarin. Mac.
ms.prod: xamarin
ms.assetid: F7126340-04B2-4A10-B14D-394E23527C1A
author: davidortinau
ms.author: daortin
ms.date: 03/29/2017
ms.openlocfilehash: 5ba451de857444bc5b12b750ae479b62abdb75a3
ms.sourcegitcommit: eedc6032eb5328115cb0d99ca9c8de48be40b6fa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2020
ms.locfileid: "78910788"
---
# <a name="3264-bit-platform-considerations"></a>рекомендации по 32/64-разрядной платформе

Хотя в iOS и macOS поддерживается историческая поддержка как 32, так и 64-разрядных приложений, компания Apple постепенно не поддерживает 32-разрядную поддержку.

Начиная с iOS 11, 32-разрядные приложения больше не будут запускаться, а [все отправки в App Store должны поддерживать 64-разр](https://developer.apple.com/news/?id=06282017b).

Начиная с января 2018 [новые приложения, отправленные в Mac App Store, должны поддерживать 64-разр](https://developer.apple.com/news/?id=06282017a). существующие приложения должны быть обновлены до 2018 июня.

Classic API Xamarin (`XamMac.dll` и `monotouch.dll`) поддерживали только 32-разрядные приложения. Однако новые приложения Xamarin. iOS и Xamarin. Mac по умолчанию используют [Unified API](~/cross-platform/macios/unified/index.md) (`Xamarin.iOS` и `Xamarin.Mac`), поэтому при необходимости могут быть назначены как 32, так и 64-разр.

## <a name="ios"></a>iOS

<a name="enable-64" />

### <a name="enabling-64-bit-builds-of-xamarinios-apps"></a>Включение 64-разрядных сборок приложений Xamarin. iOS

> [!WARNING]
> Этот раздел включен по историческим причинам и помогает переместить старые проекты Xamarin. iOS в Unified API и поддержку 64-бит. Все новые проекты Xamarin. iOS будут использовать Unified API и целевой 64-бит по умолчанию.

Для мобильных приложений Xamarin. iOS, преобразованных в Unified API, разработчики должны вручную обновить параметры сборки до 64-разрядной версии.

<!-- markdownlint-disable MD001 -->

# <a name="visual-studio-for-mac"></a>[Visual Studio для Mac](#tab/macos)

1. В **панель решения**дважды щелкните проект приложения, чтобы открыть окно **Параметры проекта** .
2. Выберите **сборка iOS**.
3. Для имитатора iPhone в раскрывающемся списке **Поддерживаемые архитектуры** выберите либо **x86\_64** , либо **i386 + x86\_64**:

   [![Настройка поддерживаемых архитектур для x86\_64 или i386 + x86\_64](Images/Image01.png "Setting Supported architectures to x86\_64 or i386 + x86\_64")](Images/Image01-large.png#lightbox) 

4. Для физических устройств выберите одну из доступных комбинаций **ARM64** :

   [![Настройка поддерживаемых архитектур для одной из комбинаций ARM64](Images/Image02.png "Настройка поддерживаемых архитектур для одной из комбинаций ARM64")](Images/Image02-large.png#lightbox)

5. Нажмите кнопку **ОК**.
6. Выполните чистую сборку.

# <a name="visual-studio"></a>[Visual Studio](#tab/windows)

1. В **Обозреватель решений**щелкните правой кнопкой мыши проект приложения и выберите пункт **свойства**.
2. Выберите **сборка iOS**.
3. Для имитатора iPhone задайте **Поддерживаемые архитектуры** **x86\_64** или **i386 + x86\_64**: 

   [![Настройка поддерживаемых архитектур для x86_64 или i386 + x86\_64](Images/VS02.png "Setting Supported architectures to x86_64 or i386 + x86\_64")](Images/VS02-large.png#lightbox)

4. Для физических устройств выберите одну из доступных комбинаций **ARM64** :
    
   [![Настройка поддерживаемых архитектур для одной из комбинаций ARM64](Images/VS01.png "Настройка поддерживаемых архитектур для одной из комбинаций ARM64")](Images/VS01-large.png#lightbox)

5. Сохраните изменения.
6. Выполните чистую сборку.

-----

ARMv7s поддерживается только процессором A6, включенным в iPhone 5 (или более поздней версии). Код ARMv7 быстрее и меньше, чем ARMv6, работает только с iPhone 3GS и более поздних версий и необходим Apple при разработке для iPad или минимальной версии 5,0 для iOS. ARMv6 работает на всех устройствах, но больше не поддерживается компилятором, поставляемым с Xcode 4,5 и более поздними версиями. 

ARM64 требуется для поддержки iOS 8 на iPhone 6 или других 64-разрядных устройствах и будет требоваться компанией Apple при отправке новых или обновленных приложений в магазине iTunes App Store.

Полный обзор возможностей различных устройств iOS см. в документе о [совместимости устройств](https://developer.apple.com/library/content/documentation/DeviceInformation/Reference/iOSDeviceCompatibility/DeviceCompatibilityMatrix/DeviceCompatibilityMatrix.html) Apple.

### <a name="64-bit-and-binary-size-increases"></a>64-разрядный и двоичный размер

Во время перехода Apple с 32-bit на 64-bit приложения iOS должны работать как на 32-разрядном, так и на 64-разрядном оборудовании. По этой причине Unified APIы Xamarin позволяют разработчикам ориентироваться на оба.

Нацеливание на архитектуру 32-bit и 64-bit значительно увеличит размер приложения. Однако это позволит новым устройствам выполнять оптимизированный код, сохраняя при этом поддержку старых устройств.

> [!IMPORTANT]
> Если при отправке приложения iOS в iTunes App Store появляется следующее сообщение, выводится _предупреждение итмс-9000: отсутствует поддержка 64-bit. Начиная с 1 февраля 2015 г. новые приложения iOS, отправленные в App Store, должны включать поддержку 64-разрядной поддержки и создаваться с помощью пакета SDK iOS 8, включенного в Xcode 6 или более поздней версии. Чтобы включить 64-разрядность в проекте, рекомендуется использовать параметр сборки Xcode по умолчанию "стандартные архитектуры" для создания одного двоичного файла с 32-разрядным и 64-битным кодом "._ Необходимо переключить Поддерживаемые архитектуры на одну из доступных комбинаций **ARM64** (как показано выше), выполнить повторную компиляцию и отправку.

## <a name="mac"></a>Mac

> [!IMPORTANT]
> Начиная с января 2018, все новые приложения Mac, отправленные в Mac App Store, должны поддерживать 64-бит. Существующие приложения Mac App Store и их обновления должны поддерживать 64-разрядную версию, начиная с июня 2018. См. статью [объявления Apple](https://developer.apple.com/news/?id=06282017a) и [руководство, в котором описано, как обновить приложения Xamarin. Mac до 64-разрядной версии](~/cross-platform/macios/32-and-64/mac-64-bit.md).

Большинство современных компьютеров Mac поддерживают как 32-разрядные, так и 64-разрядные приложения.   MacOS 10,6 (снег Leopard) была последней операционной системой для работы в 32-разрядных системах.   Большинство компьютеров Макинтош, выпущенных с 2010, поддерживают обе системы.

В отличие от iOS, многие новые платформы, появившиеся в последних версиях macOS, поддерживаются только в 64-разрядном режиме (CloudKit, EventKit, Гамеконтроллер, LocalAuthentication, Медиалибрари, Мултипирконнективити, Нотификатионцентер, Глкит, SpriteKit, социальных, и Мапкит, и другие).

Unified API позволяют разработчикам выбрать типы приложений, которые они хотят создать: 32-разрядная или 64-бит.

**32-разрядные приложения** будут работать на компьютерах Mac с 32-и 64-разрядными компьютерами, иметь адресное пространство, ограниченное 32 битами, и требовать, чтобы все библиотеки были на уровне 32.

Этот режим обычно используется при наличии 32-разрядных зависимостей, которые не работают в 64-разрядном режиме, если требуется меньшее число Скачиваний или при переходе на 64-bit нет преимуществ производительности.

Этот режим ограничивается, так как вы не сможете использовать многие платформы, доступные в macOS Mavericks и macOS Yosemite.

**64-разрядные приложения** запускаются только на устройствах Mac с 64 разрядов.

Для Mac это предпочтительный режим работы, так как большинство компьютеров Макинтош, используемых сегодня, поддерживают 64-разрядный режим, и у вас есть доступ к полному набору платформ, предоставляемых компанией Apple.

### <a name="enabling-64-bit-builds-of-xamarinmac-apps"></a>Включение 64-разрядных сборок приложений Xamarin. Mac

Сведения о создании 64-разрядного приложения с помощью Xamarin. Mac см. в разделе [Обновление Объединенных приложений Xamarin. Mac до 64-bit](~/cross-platform/macios/32-and-64/mac-64-bit.md) .

## <a name="related-links"></a>Связанные ссылки

- [Различия между классическими и Unified APIми](https://github.com/xamarin/release-notes-archive/blob/master/release-notes/ios/api_changes/classic-vs-unified-8.6.0/index.md)
