---
title: рекомендации по 32/64-разрядной платформе
description: В этом документе описываются основные аспекты, которые следует учитывать при разработке для 32-разрядных и 64-разрядных архитектур для приложений Xamarin.iOS и Xamarin.Mac.
ms.prod: xamarin
ms.assetid: F7126340-04B2-4A10-B14D-394E23527C1A
author: conceptdev
ms.author: crdun
ms.date: 03/29/2017
ms.openlocfilehash: 31eb0bfae58ecdca40548e46d1d9d95828be67b4
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61347867"
---
# <a name="3264-bit-platform-considerations"></a>рекомендации по 32/64-разрядной платформе

Хотя iOS и macOS Исторически 32- и 64-разрядных приложений, Apple постепенно устаревшим поддержка 32-разрядных.

Начиная с версии iOS 11, 32-разрядных приложений больше не будет запущен, и [передачу Store приложения должны поддерживать 64-разрядных](https://developer.apple.com/news/?id=06282017b).

Начиная с января 2018 г., [новые приложения, отправляемые Mac App Store должны поддерживать 64-разрядных](https://developer.apple.com/news/?id=06282017a), и существующие приложения должны быть обновлены до июня 2018 г.

Классический API Xamarin (`XamMac.dll` и `monotouch.dll`) поддерживается только 32-разрядных приложений. Тем не менее, новые приложения Xamarin.iOS и Xamarin.Mac использовать [единый API](~/cross-platform/macios/unified/index.md) (`Xamarin.iOS` и `Xamarin.Mac`) по умолчанию, и поэтому можете выбирать целевую аудиторию, 32- и 64-разрядная версия, при необходимости.

## <a name="ios"></a>iOS

<a name="enable-64" />

### <a name="enabling-64-bit-builds-of-xamarinios-apps"></a>Включение 64-разрядных сборок приложений Xamarin.iOS

> [!WARNING]
> Этот раздел включен, по соображениям исторические и для перемещения старых проектов Xamarin.iOS на единый API и поддержки 64-разрядной. Все новые проекты Xamarin.iOS будет использоваться единый API и целевой 64-разрядных по умолчанию.

Для мобильных приложений Xamarin.iOS, были преобразованы на единый API разработчикам необходимо вручную обновить параметры сборки для 64-разрядных целевых:

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

1. В **панели решения**, дважды щелкните проект приложения, чтобы открыть **параметры проекта** окна.
2. Выберите **сборка iOS**.
3. Для симулятора, iPhone в **Поддерживаемые архитектуры** раскрывающемся списке выберите либо **x86\_64** или **i386 + x86\_64**:

   [![Установка Поддерживаемые архитектуры x86\_64 или i386 + x86\_64](Images/Image01.png "Setting Supported architectures to x86\_64 or i386 + x86\_64")](Images/Image01-large.png#lightbox) 

4. Для физических устройств выберите один из доступных **ARM64** сочетания:

   [![Указывая архитектур поддерживаемые сочетания ARM64](Images/Image02.png "параметр Поддерживаемые архитектуры, к одному из сочетаний ARM64")](Images/Image02-large.png#lightbox)

5. Нажмите кнопку **ОК**.
6. Выполните чистую сборку.

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

1. В **обозревателе решений**, щелкните правой кнопкой мыши проект приложения и выберите **свойства**.
2. Выберите **сборка iOS**.
3. Для симулятора iPhone, задайте **Поддерживаемые архитектуры** либо **x86\_64** или **i386 + x86\_64**: 

   [![Установка Поддерживаемые архитектуры x86_64 или i386 + x86\_64](Images/VS02.png "Setting Supported architectures to x86_64 or i386 + x86\_64")](Images/VS02-large.png#lightbox)

4. Для физических устройств выберите один из доступных **ARM64** сочетания:
    
   [![Указывая архитектур поддерживаемые сочетания ARM64](Images/VS01.png "параметр Поддерживаемые архитектуры, к одному из сочетаний ARM64")](Images/VS01-large.png#lightbox)

5. Сохраните изменения.
6. Выполните чистую сборку.

-----

ARMv7s поддерживается только обработчиком A6, включенных в iPhone 5 (или выше). ARMv7 код быстрее и занимает меньше места, чем ARMv6, только работает с iPhone 3GS и более поздних версий и требуется компании Apple, при нацеливании на iPad или минимальное iOS версии 5.0. ARMv6 работает на всех устройствах, но больше не поддерживается компилятором поставляется с Xcode 4.5 и более поздних версий. 

ARM64 необходима для поддержки iOS 8 на iPhone 6 или другие 64-разрядных устройствах и будет требоваться Apple при отправке или обновления, выход из приложений в iTunes App Store.

Исчерпывающие возможности различных устройств iOS, см. Apple [совместимости устройств](https://developer.apple.com/library/content/documentation/DeviceInformation/Reference/iOSDeviceCompatibility/DeviceCompatibilityMatrix/DeviceCompatibilityMatrix.html) документа.

### <a name="64-bit-and-binary-size-increases"></a>64-разрядная и двоичное размер увеличивается

Во время перехода Apple из 32-разрядных на 64-разрядную версию iOS приложения будет необходимо запустить на 32-разрядных и 64-разрядных оборудовании. По этой причине единый API Xamarin позволяет разработчикам оба.

Предназначенные для 32-разрядных и 64-разрядных архитектур приведет к значительному увеличению размера приложения. Тем не менее это позволит более новых устройствах, для запуска оптимизированный код, продолжая поддерживать старые устройства.

> [!IMPORTANT]
> Если появится следующее сообщение при отправке приложения iOS в iTunes App Store, _«предупреждение ITMS-9000: Отсутствует поддержка 64-разрядных. Начиная с 1 февраля 2015 г., новый iOS приложения, передан App Store должны поддерживать 64-разрядных и быть собран с iOS 8 SDK, включенные в Xcode 6 или более поздней версии. Чтобы включить 64-разрядной, в проекте, мы рекомендуем использовать значение по умолчанию параметр архитектуры «стандартный» сборки Xcode для создания единого двоичного файла с кодом 32-разрядных и 64-разрядных.»_ Вам нужно перейти поддерживаемых архитектур на один из доступных **ARM64** сочетания (как показано выше), перекомпиляции и повторной отправки.

## <a name="mac"></a>Mac

> [!IMPORTANT]
> Начиная с января 2018 г., все новые приложения Mac, отправляемые Mac App Store должны поддерживать 64-разрядной. Имеющихся приложений Mac App Store и их обновления, должны поддерживать 64-разрядной, начиная с июня 2018 г. См. в разделе [отказ Apple](https://developer.apple.com/news/?id=06282017a) и [направляющей, описывается, как обновить приложения Xamarin.Mac для 64-разрядных](~/cross-platform/macios/32-and-64/mac-64-bit.md).

Большинство современных компьютеры Mac поддерживают 32-разрядных и 64-разрядных приложений.   MacOS 10.6 (Snow Leopard) была последней операционной системы под управлением 32-разрядных системах.   Большинство компьютеров Mac, выпущенные с момента выхода 2010 поддерживает обеих систем.

В отличие от операций ввода-вывода многие из новых платформ, появившихся в последних версиях macOS поддерживаются только в 64-разрядном режиме (CloudKit, EventKit, игровое, LocalAuthentication, MediaLibrary, MultipeerConnectivity, NotificationCenter, GLKit, SpriteKit, социальные сети, и MapKit, среди прочего).

На единый API позволяют разработчикам необходимо решить, какие приложения они для создания: 32-разрядная или 64-разрядной.

**32-разрядные приложения** будет запускать на 32-разрядных и 64-разрядных компьютерах Mac, назначено адресное пространство ограничено до 32 бит и требуют, что все библиотеки, 32 бита.

Этот режим обычно используется при наличии 32-разрядными зависимостями, которые не выполняются в 64-разрядном режиме, если вы хотите небольших загрузок, нет ли выигрыш в производительности при перемещении на 64-разрядную версию.

Этот режим ограничения, как вы не сможете использовать множество платформ, доступные в macOS Mavericks и macOS Yosemite.

**64-разрядных приложений** будет выполняться только на 64-разрядных устройствах Mac.

Для Mac Это предпочтительный режим работы большинства компьютеров Mac используется в настоящее время поддерживает 64-разрядном режиме, а у вас есть доступ к полному набору платформ, предоставляемых компанией Apple.

### <a name="enabling-64-bit-builds-of-xamarinmac-apps"></a>Включение 64-разрядных сборок приложений Xamarin.Mac

Сведения о создании 64-разрядное приложение, с помощью Xamarin.Mac, см. в разделе [обновление единой Xamarin.Mac приложений на 64-разрядную версию](~/cross-platform/macios/32-and-64/mac-64-bit.md) руководства.

## <a name="related-links"></a>Связанные ссылки

- [Классический и отличия Unified API](https://developer.xamarin.com/releases/ios/api_changes/classic-vs-unified-8.6.0/)
