---
title: "Локализацию пользовательского интерфейса приложения"
ms.topic: article
ms.prod: xamarin
ms.assetid: CC6847B2-23FB-4EDE-9F7E-EF29DD46A5C5
ms.technology: xamarin-cross-platform
author: asb3993
ms.author: amburns
ms.date: 03/22/2017
ms.openlocfilehash: 697edde44a5d28ef24cb92a4d06a5c61609b079e
ms.sourcegitcommit: 73bd0c7e5f237f0a1be70a6c1384309bb26609d5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2018
---
# <a name="localization"></a>Локализация

В этом руководстве описаны принципы *интернационализации* и *локализации* и ссылки на инструкции о способах создания мобильных приложений Xamarin, с помощью этих понятий.

Если вы хотите пропустить сразу к технические сведения о локализации приложений Xamarin, начинаться с одного из этих платформ Инструкции:

- [**Xamarin.Forms** ](~/xamarin-forms/app-fundamentals/localization.md) локализации с помощью RESX-файлы.
- [**Xamarin.iOS** ](~/ios/app-fundamentals/localization/index.md) локализации собственной платформы.
- [**Xamarin.Android** ](~/android/app-fundamentals/localization.md) локализации собственной платформы.

## <a name="i18n-and-l10n"></a>i18n и L10n

*Интернационализация* — это процесс создания кода может отображать разных языков и адаптации его вид для разных языков (например, форматирование чисел и дат). Это также называется *глобализации*.

*Локализация* шаг, который следует за — создание ресурсов (например, строки и изображения) для каждого языка и объединение их с приложением internationalize.

Интернационализация, который часто используется сокращение для i18n — сокращение для 18 букв от «i» и «n». Локализация аналогично сокращается для L10n — для 10 букв от «L» и «n».

## <a name="overview"></a>Обзор

В этом документе понятия, связанные с интернационализации и локализации и как они применяются к разработке мобильных приложений в целом.
При разработке и построении приложения, действия, которое ранее могут быть жестко задано, но которой должны быть параметризованы для локализации включают:

-   Макеты экрана и текст,
-   Значки, графики и цвета,
-   Видео- и звуковых файлов
-   Динамический текст и форматирование текста (например, чисел, валют и дат),
 - Изменение макета для языков справа налево (RTL) и
-   Сортировка данных.

Независимо от мобильных платформ, приложение предназначено для этих советов поможет сборка локализованные приложения высокого качества.


## <a name="design-considerations"></a>Вопросы проектирования

Проектирование архитектуры приложения, чтобы локализовать его содержимое можно называется интернационализации. Выполнив интернационализации правильно — больше, чем просто поддержка различных языковых строки для загрузки во время выполнения — правильно разработанное приложение должно разрешать все ресурсы, которые необходимо изменить с учетом языка и региональных параметров (включая изображения, звук и видео) и можно адаптировать форматирование и макет, чтобы справиться с другой размер строки.

В этом разделе рассматриваются некоторые вопросы проектирования, чтобы принимать во внимание при создании интернациональных приложения.

### <a name="layouts-and-string-length"></a>Макеты и длину строки

Китайский и японский строк может быть очень мал — иногда один или два символа может быть достаточно значимых для метки поля ввода.

Строками на немецком языке (например) может быть очень длинным; Иногда короткое слово на английском языке становится очень много на других языках — либо становится отсечь, в противном случае неожиданно обновления макета.

Сравните длины строки для нескольких элементов на начальном экране операций ввода-вывода в английский, немецкий и японский.

[![](localization-images/language-compare-sml.png "Длина японский строки немецком vs")](localization-images/language-compare.png#lightbox)

Обратите внимание, что **параметры** на английском языке (8 символов) требует 13 символов для немецкого языков, но только 2 символа на японском языке.

Макеты, где отображать подпись и поле ввода — side-by-side трудно работать при длина метки может сильно различаться. Часто макет, где подпись отображается над полем легче локализовать, потому что всю ширину экрана для метки и входных данных.

Как правило при создании Фиксированный макет (особенно элементы side-by-side) позволяет по крайней мере 50%, требуют больше ширины больше строк на английском языке для меток и текста. Это не устранить все проблемы, но предоставляет буфер, который будет работать во многих случаях.

### <a name="input-validation"></a>Проверка ввода

Учтите, что допущения при написании правила проверки. Может показаться допустимым Требовать ввода «требуется» по крайней мере три символа, на английском языке, поскольку одну букву очень редко имеет какого-либо значения текстового поля. Китайский и японском языках Однако один символ может быть допустимых входных данных и проверки сообщений «требуется по крайней мере 3 символа» не имеет смысла для этих языков.

Другие первый взгляд, простых задач, таких как проверка адреса электронной почты или URL-адрес веб-сайта, станет более сложной символами, не только к подмножеству ASCII.

Запись правила проверки с интернационализации помнить — выберите наименее строгим правилам, либо написать логику таким образом, чтобы он работает по-разному для каждого языка.

### <a name="images-and-color"></a>Изображения и цвета

Не каждый образ необходимо изменить в зависимости от выбора языка пользователя. Многие значков или фотографии будут подходить для всех пользователей, не имеет значения, какой язык, они выступают.
Некоторые ресурсы смысла для локализации, такие как:

 - Образы отображения людей или определенные расположения — приложения могут счесть ориентирован на пользователей, если показано локальных пользователей и расположения.
 - Приложение можно сделать проще использовать, если локализовать изображения в соответствии с локальной основные сведения о значки — некоторые иллюстрациях может быть конкретного языка и региональных параметров
 - Цвета — некоторых языков и региональных параметров понять цвета, иначе — красный, может означать предупреждение в одной области, но Желаем удачи в другой. Уточните носителями при разработке приложения для определения ли создание механизм для локализации цвета.


### <a name="videos-and-sound"></a>Видео и звука

Видео и звука присутствуют специальные проблем при локализации приложения, так как запись нескольких voiceover отслеживает время относительно легко получить строки или видеоклипы может быть дорогими и сложными.

Несколько копий видео-и может также значительно увеличить размер приложения, (особенно при наличии большого количества файлов мультимедиа или локализация на большое число языков). Может потребоваться загрузка только те ресурсы, необходимые язык после установки приложения пользователем, но это также может привести к снижению опыта в медленных сетях.

Часто существуют различные способы решения проблем локализации до наиболее важно, чтобы рассмотреть их первоначальные и убедитесь, что приложение предназначено для обеспечения их.


### <a name="dates-times-numbers-and-currency"></a>Даты, времени, чисел и валюты

При использовании функции форматирования платформы .NET, не забудьте указать язык и региональные параметры, что десятичные разделители правильно проанализировать (и избежать преобразование исключений, генерируемых). Например 1,99 и 1,99 являются допустимым десятичные представления в зависимости от языкового стандарта.

Когда поступают данные из известного источника (т. е. из собственного кода или веб службы, которым можно управлять) можно указывать идентификатор языка и региональных параметров, совпадать с форматированием, например InvariantCulture, который будет работать для форматирования стандарт английский язык.

```csharp
double.Parse("1,999.99", CultureInfo.InvariantCulture);
```

Если ввода данных пользователем приложения, проанализировать его с помощью экземпляра CultureInfo, отражающий их языкового стандарта:

```csharp
double.Parse("1 999,99", CultureInfo.CreateSpecificCulture("fr-FR"));
```

В разделе [разбор числовых строк](http://msdn.microsoft.com/en-us/library/xbtzcc4w(v=vs.110).aspx) и [строк синтаксического анализа дат и времени](http://msdn.microsoft.com/en-us/library/2h3syy57(v=vs.110).aspx) статьи MSDN для получения дополнительных сведений.

<a name="rtl" />

### <a name="right-to-left-rtl-languages"></a>Языки справа налево (RTL)

Некоторые языки, например арабский, иврит и урду (например), доступны для чтения справа налево.
Приложения, поддерживающие эти языки следует использовать схемы экрана, которые адаптировать для чтения справа налево, например:

 - Текст должен быть по правому краю.
 - Метки должны появиться справа от поля ввода.
 - Размещение кнопки по умолчанию обычно отменяется.
 - Иерархическая навигация экрану и анимации (и другие метафоры навигации и анимации), использующие направление для контекста также должны быть отменены.

IOS и Android поддерживают макеты справа налево и отрисовки шрифта, с помощью встроенных функций для корректировки выше. Xamarin.Forms автоматически в настоящее время не поддерживает отрисовки справа НАЛЕВО.

### <a name="sorting"></a>Сортировка

Различных языках по-разному, определите порядок сортировки алфавиты даже в том случае, если они используют один и тот же набор символов.

В разделе [подробное сравнение строк](http://msdn.microsoft.com/en-us/library/dd465121(v=vs.110).aspx#the_details_of_string_comparison) в [советы и рекомендации по использованию строк в .NET Framework](http://msdn.microsoft.com/en-us/library/dd465121(v=vs.110).aspx) пример, где порядок сортировки влияет на язык (CultureInfo).

Маловероятно, возможности встроенной базой данных на мобильных платформах будут поддерживать порядок, поэтому может потребоваться реализовать дополнительный код в бизнес-логики сортировки конкретного языка.

### <a name="text-search"></a>Полнотекстовый поиск

Убедитесь, можно писать и тестировать вашей алгоритма поиска с несколькими языками в виду. Следующие соображения.

 - Автозаполнение — при построении функция автозавершения убедитесь, что он источники предложения, относящиеся к язык пользователя.
 - Соответствующий запрос к данным — выполняет поиск запросы, вводимые в определенном языке выполняться для только содержимое, написанного на соответствующих языках, или для всего содержимого в приложении?
 - Морфологический поиск — Если создана поиска для поиска похожие слова, корней word и другими оптимизациями поиска являются этих оптимизаций, созданного для всех языков, поддерживаемых?
 - Сортировка — убедитесь, что результаты сортируются правильно (см. выше).


### <a name="data-from-external-sources"></a>Данные из внешних источников

Многие приложения загрузки данных из внешних источников, из Twitter и RSS-каналы, погода, новости или акций. При отображении этого пользователю необходимо рассмотреть возможность им отобразит на экране сведения имеют значения или недоступен.

Существует несколько стратегий, которые можно использовать для проверки и убедитесь, что приложение отображает данные, относящиеся к данному пользователю.

 - Разные источники — приложение может загрузить данные из другого источника в зависимости от языка или языкового стандарта пользователя. Новости, погода и stock цены языкового стандарта может иметь смысл более чем что-то загружаются из Северной Америки веб-канала.
 - Локализованное отображаемое — при отображении Twitter или фото веб-канал, вы должны отобразиться метаданные (например, время, затраченное) в свой собственный язык, даже если само содержимое останется на исходном языке.
 - Перевод — можно создать параметр миграции в веб-приложения для выполнения машинного перевода входящих данных. Это может выполняться автоматически или по усмотрению пользователя — Убедитесь, уведомлять пользователя, если это выполняется, поскольку машины переводы никогда не идеальны!

Это также может повлиять на внешние ссылки в звуковой файл или видео — при разработке приложения нужно убедиться, что источники Планировка преобразовать содержимое или гарантия того, что пользователи адекватно информируются с помощью пользовательского интерфейса при содержимое не будет представлен в их язык.


### <a name="dont-over-translate"></a>Не чрезмерно перевода

Некоторые строки в приложении может не требуется преобразование или по крайней мере требуется уделить особое внимание, что преобразователь. Примеры могут включать:

 - URL-адреса — Если в списке URL-АДРЕСЕ, возможно, он или могут не должны указываться в языке. Например facebook.com не требует перевода, он автоматически обнаруживает языка на главном сайте. Другие сайты имеют содержимое языкового стандарта и может потребоваться предлагают другой URL-адрес, например yahoo.com и yahoo.fr или yahoo.it.
 - Телефонные номера – числе различные коды стран или чисел, вызывающих объектов, говорящих на определенном языке.
 - Сведения о контакте-адресов и других сведений может зависят от языка или языкового стандарта.
 - Товарные знаки и названия продуктов — некоторые строки нет необходимости преобразования, так как они всегда выполняется записываются в том же языке.

Наконец не забудьте включить подробные инструкции транслятора, если определенные строки требуется специальная обработка.


### <a name="formatted-text"></a>Форматированный текст

Обычно не проблему с помощью мобильных приложений, так как строки обычно форматируются сложное. Однако в приложении требуется форматированного текста (например, полужирного или курсивного форматирования) гарантирует транслятор знает, как для ввода форматирование, файлы строки он правильно сохранять и неправильный формат до их отображения для пользователя (т. е. не позволяйте случайно коды форматирования сами быть отображаются для пользователя).



## <a name="translation-tips"></a>Подсказки с переводом

Преобразование строк, используемых приложением считается частью локализации. Обычно эта задача будет внешний для службы перевода и выполняемые многоязыковой персонала, может не знать, приложения или вашего бизнеса.

Следующие советы помогут создания строк, которые легче перевести точно, таким образом повышая качество локализованных приложений.



### <a name="localize-complete-strings-not-words"></a>Локализация строк завершения, не слова

Иногда разработчики подход попытка указать отдельные слова или предложение «фрагменты кода», чтобы их можно повторно использовать их в приложении. Например для текста «имеется 5 сообщ.» они могут задать следующие строки для перевода

**Bad**:

```csharp
"You have"
"no"
"message"
"messages"
```

а затем попытаться создать правильный фразы на лету в коде с помощью объединения строк:

**Bad**:

```csharp
"You have" + " " + numMsgs + " " + "messages"
"You have" + " no " + "messages"
```

**Это не рекомендуется делать** так как он не будет работать обязательно для всех языков и будет сложным транслятора для понимания контекста каждого сегмента короткое. Это также приводит к повторного использования переведенных строк, которые может вызвать проблемы позже, если они используются в различных контекстах (и затем обновляются).


### <a name="allow-for-parameter-re-ordering"></a>Разрешить для повторного упорядочения параметров

В некоторых языках программирования требуется дополнительный синтаксис для указания порядка параметров в строке, однако .NET уже поддерживает концепцию нумерованной заполнителей, поэтому

**Хороший**:

```csharp
"a {0} b {1} cde {3}"
```

могут быть переведены следующее (где положение и порядок заполнители меняется)

```csharp
"{2} {3} f g h {0}"
```

и маркеры будут упорядочены в качестве преобразователя, который предназначен. Не забудьте включить Поэтапное описание содержимого каждого заполнителя при отправке строки преобразователя.


### <a name="use-multiple-strings-for-cardinality"></a>Использование нескольких строк для количества элементов

Избегайте строк как `"You have {0} message/s."` использовать определенные строки для каждого состояния для повышения удобства работы пользователя:

**Хороший**:

```csharp
"You have no messages."
"You have 1 messages."
"You have 2 messages."
"You have {0} messages."
```

Необходимо написать код в приложении, чтобы вычислить число отображаемых и выберите соответствующую строку. Некоторые платформы (включая iOS и Android) имеют встроенные функции, чтобы автоматически выбрать лучший строку во множественном числе, на основании параметров для текущего языка.


### <a name="allowing-for-gender"></a>Поддержка gender

Иногда латинского языки используют различных слов, в зависимости от пола субъекта. Если приложение знает о пол, следует разрешить переведенные строки в соответствии с этим.

Существует также относится к более очевидным даже на английском языке, где строки ссылаются определенного пользователя или пользователя приложения. Например, некоторые сайты Показать сообщения, например `"Bob commented on his post"` необходимости строки для мужского, женского пола и недвоичные или неизвестный Пол:

**Хороший**:

```csharp
"{0} commented on his post"
"{0} commented on her post"
"{0} commented on their post"
```

### <a name="dont-reuse-strings"></a>Не используйте строк

Или более точно, не используйте строки только потому, что они похожи, если сама строка имеет другой смысла или значения.

Пример: предположим, у вас есть двухфазным переключателем в приложении и коммутатор управления необходимо текст для «on» и «off» локализовать. Можно также отобразить значение этого параметра в другом месте в приложении в текстовой метки. Следует использовать различные строки для отображения коммутатора и состояние переключателя (даже если они имеют ту же строку в качестве языка по умолчанию) — например:

-   «Д» — отображаться на переключатель
-   «Off» — отображается на переключатель
-   «С» — отображается в метке
-   «Off» — отображается в метке

Это обеспечивает максимальную гибкость транслятора:

-   В целях разработки может быть переключатель используется нижний регистр «on» и «off», но отображать подпись использует верхний регистр «On» и «Off».
-   В некоторых языках могут потребоваться значение переключателя сокращение для элемента управления пользовательского интерфейса, хотя завершение слов (переведенные) может возникнуть в метке.
-   Кроме того для некоторых языков отрисовки коммутатора возможно использовать «I» и «O» для культуры Знакомство, но по-прежнему можете метки для чтения «On» или «Off».

### <a name="translation-services"></a>Услуги по переводу

#### <a name="machine-translation"></a>Машинного перевода

Для выполнения сборки функций преобразования в код приложения, рассмотрите возможность [API текст переводчик Azure](https://azure.microsoft.com/en-au/services/cognitive-services/translator-text-api/).

Для целей тестирования можно использовать один из многих средств Онлайн-перевод для включения некоторых локализованный текст в приложении во время разработки:

- [Переводчик Bing](https://www.bing.com/translator/)
- [Перевод Google](http://translate.google.com/)

Существует множество других доступных. Качество машинного перевода обычно не считается достаточно хорошо, чтобы освободить приложения без сначала проверен и протестирован трансляторы professional или носителями.

#### <a name="professional-translation"></a>Профессиональные перевода

Существуют также профессиональные услуги по переводу, примет сравнения строк и распространять их собственные переводчикам, предоставив готовой переводы за плату.

Одна из известных служб является [LionBridge](http://www.lionbridge.com/). Профессиональные службы поддерживают все распространенные типы файлов, включая строки, XML, RESX и POT или заказа на Покупку.


## <a name="summary"></a>Сводка

В этой статье представлена некоторых понятий, которые необходимо освоить перед интернационализации приложения и последующей локализации ресурсов и также рассматривается изменение языковых параметров для каждой платформы.

Эти концепции могут применяться различные техники конкретную платформу и кросс платформенных интернационализации, поддерживаемых в Xamarin.

Чтобы продолжайте чтение технические сведения для платформы, для которой вы заинтересованы в:

- [Xamarin.Forms](~/xamarin-forms/app-fundamentals/localization.md) локализации с помощью RESX-файлы.
- [Xamarin.iOS](~/ios/app-fundamentals/localization/index.md) локализации собственной платформы.
- [Xamarin.Android](~/android/app-fundamentals/localization.md) локализации собственной платформы.



## <a name="related-links"></a>Связанные ссылки

- [Общие сведения о локализации Apple](https://developer.apple.com/internationalization/)
- [Контрольный список для локализации Android](http://developer.android.com/distribute/tools/localization-checklist.html)
- [Рекомендации по разработке международных приложений (MSDN)](http://msdn.microsoft.com/en-us/library/w7x1y988%28v=vs.90%29.aspx)
