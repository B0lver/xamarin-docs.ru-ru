---
title: Часть 1 – основные сведения о мобильной платформе Xamarin
description: В этом документе описаны платформы Xamarin на высоком уровне, просмотрев в процессе компиляции, доступ к пакету SDK платформы, совместного использования кода, создание пользовательского интерфейса, визуальные конструкторы и многое другое.
ms.prod: xamarin
ms.assetid: FBCEF258-D3D8-A420-79ED-3AAB4A7308E4
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 2765ab0c697d977eb332e47cfbc413e3e0adafb7
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57668820"
---
# <a name="part-1--understanding-the-xamarin-mobile-platform"></a>Часть 1 – основные сведения о мобильной платформе Xamarin

Платформа Xamarin состоит из несколько элементов, которые позволяют разрабатывать приложения для iOS и Android:

-   **C#Язык** — позволяет использовать знакомый синтаксис и сложные функции, такие как универсальные шаблоны, LINQ и библиотеке параллельных задач.
-   **.NET framework, Mono** — предоставляет реализацию кросс платформенных расширенных возможностей в .NET framework корпорации Майкрософт.
-   **Компилятор** — в зависимости от платформы, создает собственное приложение (например) iOS) или интегрированного приложения .NET и среды выполнения (например) Android). Компилятор также выполняет многие оптимизации для развертывания системы обмена мобильными например связывания размещения не используемого кода.
-   **Средства IDE** — Visual Studio на Mac и Windows предоставляет возможность создания, построения и развертывания проектов Xamarin.


Кроме того так как базовый язык C# с .NET framework, можно структурировать проекты для совместного использования кода, который также может быть развернут для Windows Phone.

 <a name="Under_the_Hood" />


## <a name="under-the-hood"></a>Взгляд изнутри

Несмотря на то, что Xamarin позволяет создавать приложения на C#и совместно использовать тот же код на нескольких платформах, фактическую реализацию в каждой системе очень отличается.

 <a name="Compilation" />


## <a name="compilation"></a>Компиляция

C# Источника ןנמץמהטע в собственное приложение самыми разными способами на каждой платформе:

-   **iOS** — C# является ahead-of-time (AOT) компиляции на языке ассемблера ARM. Платформа .NET включается, причем неиспользуемые классы исключаются при компоновке для уменьшения размера приложения. Apple не допускает создание среды выполнения кода на устройствах iOS, поэтому недоступны некоторые функции языка (см. в разделе [Xamarin.iOS ограничения](~/ios/internals/limitations.md) ).
-   **Android** — C# является компилируются на языке IL и упаковываются с помощью MonoVM + JIT'ing. Неиспользуемые классы платформы исключаются во время компоновки. Приложение запускается--параллельно с Java/ART (среды выполнения Android) и взаимодействует с собственными типами через JNI (см. в разделе [Xamarin.Android ограничения](~/android/internals/limitations.md) ).
-   **Windows** — C# компилируются на языке IL и выполнении встроенной средой выполнения и не требует средства Xamarin. Проектирование приложений Windows следующие Xamarin рекомендации упрощает повторное использование кода на iOS и Android.
  Обратите внимание, что на универсальную платформу Windows также имеет **.NET Native** параметр, который ведет себя аналогично компиляция AOT Xamarin.iOS.


В документации компоновщика [Xamarin.iOS](~/ios/deploy-test/linker.md) и [Xamarin.Android](~/android/deploy-test/linker.md) предоставляет дополнительные сведения об этой части процесса компиляции.

Среда выполнения «компиляция» — генерация кода динамически с помощью `System.Reflection.Emit` — следует избегать.

Ядра компании Apple не предотвращает динамическое создание кода на устройствах iOS, поэтому порождении кода в режиме реального времени не будет работать в Xamarin.iOS. Аналогичным образом компоненты среды выполнения не может использоваться с помощью средства Xamarin.

Некоторые функции отражения работают (например) Контроллер представления MonoTouch.Dialog используется для отражения API), не просто создать код.

 <a name="Platform_SDK_Access" />


## <a name="platform-sdk-access"></a>Доступ к пакету SDK платформы

Xamarin позволяет возможности, предоставляемые пакетом SDK для платформы простой доступ с помощью привычной C# синтаксис:

-   **iOS** — Xamarin.iOS предоставляет Apple cocoatouch, облегченную SDK платформы в виде пространств имен, которые можно ссылаться из C#. Например на платформе UIKit, который содержит все элементы управления интерфейса пользователя может быть включено с помощью простого `using UIKit;` инструкции.
-   **Android** — Xamarin.Android предоставляет пакет SDK для Android от Google как пространства имен, может использовать любую часть поддерживаемым пакетом SDK с помощью инструкции, такие как `using Android.Views;` для доступа к элементы управления пользовательского интерфейса.
-   **Windows** — приложения Windows создаются с помощью Visual Studio в Windows. Типы проектов включают Windows Forms, WPF, WinRT и универсальной платформы Windows (UWP).


 <a name="Seamless_Integration_for_Developers" />


## <a name="seamless-integration-for-developers"></a>Интеграция для разработчиков

Прелесть Xamarin заключается, что несмотря на различия за кулисами, Xamarin.iOS и Xamarin.Android, (вместе с Microsoft Windows SDK) предлагают удобный для записи C# код, который можно использовать повторно для всех трех платформ.

Бизнес-логику, использование базы данных, доступ к сети и другие общие функции могут быть записывается один раз и повторно использоваться на каждой платформе, предоставляя основу для платформы пользовательских интерфейсов, которые выглядят и выполнения приложений.

 <a name="Integrated_Development_Environment_(IDE)_Availability" />


## <a name="integrated-development-environment-ide-availability"></a>Доступность Интегрированной среды разработки

Можно сделать разработки Xamarin в Visual Studio на Mac или Windows. Интегрированная среда разработки, выбираемый будет определяться платформ, вы хотите применить.

Так как приложения Windows можно разрабатывать только в Windows, чтобы создать приложение для iOS, Android, _и_ Windows требуется Visual Studio для Windows. Тем не менее существует возможность совместного использования проектов и файлов между компьютерами Windows и Mac, поэтому в приложениях iOS и Android может быть создан на компьютере Mac, и общий код позже могут быть добавлены в проект Windows.

Требования к разработке для каждой платформы рассматриваются более подробно в [требование](~/cross-platform/get-started/requirements.md) руководства.


<a name="iOS" />

### <a name="ios"></a>iOS

При разработке приложений iOS требуется компьютер Mac под управлением macOS. Можно также использовать Visual Studio для записи и развертывания приложений iOS с помощью Xamarin в Visual Studio. Тем не менее Mac по-прежнему необходим для сборки и лицензирования.

Интегрированная среда разработки Apple Xcode должны быть установлены для предоставления компилятор и симулятор для тестирования. Можно проверить на собственных устройствах [бесплатно](~/ios/get-started/installation/device-provisioning/free-provisioning.md), но для создания приложений для распространения (например) App Store) необходимо присоединиться к программе Apple для разработчиков ($99 долл. США в год). Каждый раз, вы отправляете или обновить приложение, он должен быть проверен и одобрен компанией Apple, прежде чем он станет доступен для скачивания пользователями.

Код написан с помощью Visual Studio IDE и макеты экрана можно строятся программно или редактировать с помощью Xamarin iOS Designer в любой СРЕДЕ.

Ссылаться на [руководство по установке Xamarin.iOS](~/ios/get-started/installation/index.md) подробные инструкции по настройке.

<a name="Android" />

### <a name="android"></a>Android

Разработки приложений Android требуется Java и пакеты SDK для Android для установки. Они предоставляют компилятора, эмулятора и другие средства, необходимые для создания, развертывания и тестирования. Java, Google пакета SDK для Android и Xamarin средств можно все устанавливаться и работать в следующих конфигурациях:

-  Mac OS X El Capitan и более поздних версий (10.11 или более поздней) с помощью Visual Studio для Mac
-  Windows 7 и выше с Visual Studio 2015 или 2017


Xamarin предоставляет единый установщик, настройки, системы с необходимым Java, Android и Xamarin средств (включая визуальный конструктор для макетов экрана). Ссылаться на [руководство по установке Xamarin.Android](~/android/get-started/installation/index.md) подробные инструкции.

Можно создать и протестировать приложения на реальных устройствах без какой-либо лицензии от Google, тем не менее необходимо разместить приложение в магазине (например Google Play, Amazon или Barnes &amp; Noble) регистрационном взносе может быть с поставщиками для оператора. Google Play будет сразу же опубликовать приложение, тогда как другие хранилища аналогичную Apple процесс утверждения.

 <a name="Windows_Phone" />


### <a name="windows"></a>Windows

Приложения Windows (WinForms, WPF или UWP) создаются с использованием Visual Studio. Xamarin напрямую не используют. Тем не менее C# кода могут совместно использоваться Windows, iOS и Android.
Майкрософт [центр разработки](https://developer.microsoft.com/) чтобы узнать о средствах, необходимых для разработки приложений Windows.

 <a name="Creating_the_User_Interface_(UI)" />


## <a name="creating-the-user-interface-ui"></a>Создание пользовательского интерфейса

Главным преимуществом использования Xamarin — что в пользовательском интерфейсе приложения используются собственные элементы управления на каждой платформе, создание приложений, которые будут отличаться от приложения, написанные на Objective-C или Java (для iOS и Android соответственно).

При создании экранов в приложении, можно либо размещения элементов управления в коде, или создать полный экраны, средства конструирования, доступных для каждой платформы.

 <a name="Programmatically_Create_Controls" />


### <a name="create-controls-programmatically"></a>Программное создание элементов управления

Каждая платформа позволяет пользователю добавлять на экран, с помощью кода элементы интерфейса. Это может быть очень много времени, так как он может быть сложно представить, по завершении разработки при координаты пикселя жесткого кодирования для позиции элемента управления и размеры.

Программное создание элементов управления имеют преимущества, особенно в iOS для создания представлений, изменение размера или отображаемого по-разному на iPhone и iPad размеры экрана.

 <a name="Visual_Designer" />


### <a name="visual-designer"></a>Визуальный конструктор

Каждая платформа имеет другой метод для визуально списочном экранов:

-   **iOS** — конструктор iOS Xamarin упрощает создание представлений с помощью полей и перетащите функции и свойства. Вместе эти представления образуют раскадровки и может осуществляться в **. Раскадровки** файл, включенный в проект.
-   **Android** — Xamarin предоставляет конструктор пользовательского интерфейса Android и перетащите для Visual Studio. Сохраненные макеты экран Android в виде **. AXML** файлы при использовании средства Xamarin.
-   **Windows** — Корпорация Майкрософт предоставляет конструктор пользовательского интерфейса и перетащите в Visual Studio и Blend. Макеты экрана хранятся в виде. Файлы XAML.


Эти снимки экрана Показать конструкторов visual экрана, доступных на каждой платформе:

 [ ![](understanding-the-xamarin-mobile-platform-images/designer-all1.png "Эти снимки экрана Показать конструкторов visual экрана, доступных на каждой платформе")](understanding-the-xamarin-mobile-platform-images/designer-all1.png#lightbox)

Во всех случаях визуально созданных элементов можно ссылаться в коде.

 <a name="User_Interface_Considerations" />


### <a name="user-interface-considerations"></a>Рекомендации по пользовательскому интерфейсу

Основное преимущество использования для создания кроссплатформенных приложений Xamarin является то, что они могут воспользоваться преимуществами собственные наборы средств пользовательского интерфейса для представления привычный интерфейс пользователя. Пользовательский Интерфейс будет также выполняться как собственное приложение.

Некоторые метафоры пользовательского интерфейса работать на различных платформах (например, всех трех платформах использовать аналогичного элемента управления прокрутки списка), но в порядке для приложения «чувствовать себя как» пользовательского интерфейса следует воспользоваться платформой пользователя элементов интерфейса, когда это необходимо. Примеры метафоры платформы пользовательского интерфейса.

-   **iOS** — иерархическая навигация с помощью обратимого кнопки "Назад", вкладки в нижней части экрана.
-   **Android** — оборудование и системы-программное обеспечение резервного кнопки, меню "действие", вкладки в верхней части экрана.
-   **Windows** — приложения Windows работают на настольные системы, планшеты (например Microsoft Surface) и телефоны. Устройства Windows 10 могут иметь оборудования резервного кнопки и живых плиток, например.


Рекомендуется прочитать рекомендации по проектированию, относящиеся к целевой платформы:

-   **iOS** — [Apple рекомендациям по интерфейсам](https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/MobileHIG/index.html)
-   **Android** — [Google рекомендации по пользовательскому интерфейсу](https://developer.android.com/guide/practices/ui_guidelines/index.html)
-   **Windows** — [рекомендации по разработке пользовательского интерфейс для Windows](https://developer.microsoft.com/windows/design)


 <a name="Library_and_Code_Re-use" />


## <a name="library-and-code-re-use"></a>Библиотеки и повторного использования кода

Платформа Xamarin позволяет использовать существующие C# кода на всех платформах, а также интеграцию библиотеки, написанные в собственном коде для каждой платформы.

 <a name="C#_Source_and_Libraries" />


### <a name="c-source-and-libraries"></a>C#Источник и библиотеки

Так как используют продуктов Xamarin C# и .NET framework, множество существующего исходного кода (оба открыты, источника и собственных проектов) можно использовать повторно в проектах Xamarin.iOS или Xamarin.Android. Часто источник можно просто добавить в решение Xamarin и начнут работать немедленно. Если используется с неподдерживаемой функцией .NET framework, может потребоваться некоторые изменения.

Примеры C# источника, который может использоваться в Xamarin.iOS или Xamarin.Android включают: SQLite-NET, NewtonSoft.JSON и SharpZipLib.

 <a name="Objective-C_Bindings_+_Binding_Projects" />


### <a name="objective-c-bindings--binding-projects"></a>Привязки Objective-C + проектов привязки

Xamarin предоставляет средство под названием *btouch* , помогает создать привязки, которые позволяют библиотек Objective-C для использования в проектах Xamarin.iOS. Ссылаться на [документации типы привязки Objective-C](~/cross-platform/macios/binding/binding-types-reference.md) сведения о том, как это делается.

Примеры библиотек Objective-C, которые могут использоваться в Xamarin.iOS. Сканирование, интеграции Google Analytics и PayPal RedLaser штрих-кода. Привязок Xamarin.iOS открытым кодом доступны на [github](https://github.com/mono/monotouch-bindings).

 <a name=".jar_Bindings_+_Binding_Projects" />


### <a name="jar-bindings--binding-projects"></a>.JAR привязки + проектов привязки

Xamarin позволяет использовать имеющиеся библиотеки Java в Xamarin.Android. Ссылаться на [привязки документации библиотеки Java](~/android/platform/binding-java-library/index.md) Дополнительные сведения об использовании. JAR-файл из Xamarin.Android.

Привязки Xamarin.Android открытым кодом доступны на [github](https://github.com/mono/monodroid-bindings).

 <a name="C_via_PInvoke" />


### <a name="c-via-pinvoke"></a>C помощью PInvoke

Технология «Platform Invoke» (P/Invoke) позволяет управляемому коду (C#) вызывать методы в собственные библиотеки, а также поддержка собственные библиотеки для обратного вызова в управляемом коде.

Например [SQLite-NET](https://github.com/praeclarum/sqlite-net) библиотека использует инструкции следующим образом:

```csharp
[DllImport("sqlite3", EntryPoint = "sqlite3_open", CallingConvention=CallingConvention.Cdecl)]
public static extern Result Open (string filename, out IntPtr db);
```

Этот код привязывает к стандартной реализации SQLite языка C в iOS и Android.
Разработчики, знакомые с уже существующими API C можно создать набор C# классы сопоставляются с машинным API и использовать существующий код платформы. Документация по [связывание собственные библиотеки](~/ios/platform/native-interop.md) в Xamarin.iOS, подобные принципы применимы к Xamarin.Android.

 <a name="C++_via_Cxxi" />


### <a name="c-via-cppsharp"></a>C++ с помощью CppSharp

Мигель объясняет CXXI (теперь называется [CppSharp](https://github.com/mono/CppSharp)) в своем [блог](https://tirania.org/blog/archive/2011/Dec-19.html). Вместо привязки непосредственно в библиотеке C++ — создать оболочку C и привязки, с помощью P/Invoke.

