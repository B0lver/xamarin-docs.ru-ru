---
title: Часть 6. Тестирование и утверждение магазина приложений
description: В этом документе описывается тестирование кроссплатформенных приложений на устройства, управления тестовыми случаями, автоматизации тестов, выполнение модульных тестов и работать с процессом отправки приложения.
ms.prod: xamarin
ms.assetid: 46E0578A-7EB9-C105-ABB0-A043E501F36B
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 0faf7c9e4ff7c96cdfd25ab6d6658726ef247b32
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61275411"
---
# <a name="part-6---testing-and-app-store-approvals"></a>Часть 6. Тестирование и утверждение магазина приложений

## <a name="testing"></a>Тестирование

Многие приложения (даже на приложения Android, некоторые хранилища) должна пройти процесс утверждения, перед их публикацией; Поэтому чтобы обеспечить тестирование крайне приложения достигает рынке (не говоря уже об завершается успешно со своими клиентами). Тестирование различных видов, от уровня developer модульного тестирования, чтобы управление бета-тестирования для самого разного оборудования.

### <a name="test-on-all-platforms"></a>Тестирование на всех платформах

Существуют небольшие различия между .NET поддерживает на Windows phone, планшета и настольных компьютеров, а также ограничения на iOS, который препятствует динамического кода, создаваемого в режиме реального времени. Либо запланировать тестирование кода на нескольких платформах, как разрабатывать, или запланировать время выполнить оптимизацию кода и обновление моделей, часть приложения в конец проекта.

Рекомендуется всегда использовать симуляторе или эмуляторе для тестирования нескольких версий операционной системы, а также возможности и конфигурации, другое устройство.

Кроме того, следует также протестировать на столько разных физического оборудования, как.

#### <a name="devices-in-cloud"></a>Устройства в облаке

Растет все время, что делает невозможным для тестирования на количество устройств, доступных с непрерывно растущей экосистеме мобильных телефонов и планшетов. Чтобы решить эту проблему, ряд служб также позволяют удаленно управлять множество разных устройств, чтобы приложения можно установить и протестировать без необходимости непосредственно вкладывать средства в большом числе оборудования.

[Тестов центра приложений](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest) предлагает простой способ тестирования приложений iOS и Android на сотнях разных устройств.

### <a name="test-management"></a>Управление тестированием

При тестировании приложений внутри организации или управление бета-версии программы с помощью внешних пользователей, существует две проблемы:

- **Распределение** — управление процесс подготовки (особенно для устройств iOS) и получения обновленных версий программного обеспечения для тест-инженеров.
- **Отзыв** — собирать сведения об использовании приложения и подробные сведения все ошибки, которые могут возникнуть.


Существует ряд служб, помогут решить эти проблемы, предоставляя инфраструктуру, которая встроена в приложение, чтобы собирать и отчитываться об использовании и ошибки, а также упрощается процесс подготовки для регистрации и управления их устройствами и инженеров-испытателей .

[Центр приложений Visual Studio](/appcenter/) предлагает решение этих проблем, предоставляя версии распределение тестов, создание отчетов о сбоях и сведения об использовании сложных приложений.

### <a name="test-automation"></a>Автоматизация тестирования

Xamarin [UITest](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest) может использоваться для создания интерфейса пользователя автоматические тестовые скрипты, которые можно выполнять локально или передаваться [тестирования центра приложений](https://docs.microsoft.com/appcenter/test-cloud/).

## <a name="unit-testing"></a>Модульное тестирование

### <a name="touchunit"></a>Touch.Unit

Xamarin.iOS включает платформу модульного тестирования, называемую Touch.Unit, в который следует за стиль JUnit/NUnit, написание тестов.

См. наш [модульное тестирование с помощью Xamarin.iOS](~/ios/deploy-test/touch.unit.md) Дополнительные сведения о написании тестов и запуск Touch.Unit.

### <a name="andrunit"></a>Andr.Unit

Нет эквивалент Touch.Unit для Android, вызывается Andr.Unit открытым исходным кодом. Его можно загрузить из [github](https://github.com/spouliot/Andr.Unit) и прочитать о средстве на [ @spouliotв блоге](http://spouliot.wordpress.com/2011/10/30/andr-unit-joins-the-family/).

## <a name="app-store-approvals"></a>Утверждения App Store

Apple и Майкрософт работают только хранилище на своих платформ: App Store и Marketplace соответственно. Блокировка свои устройства и реализуйте процесс проверки строгих приложения для контроля качества приложений, доступных для загрузки. Откройте характера Android означает, что существует несколько вариантов хранилища, и принимает значения от Google Play, который представляет широко доступны и не процесса проверки, Appstore Amazon для Android и аппаратно зависимых усилия, такими как приложения Samsung, который более ограниченной распространения и реализовать процесс утверждения.

Ожидание приложения для анализа может быть очень трудным делом - нагрузку бизнеса часто означает, что приложения отправляются на утверждение с очень мало прибыли для ошибки до даты запуска «целевой». Сам процесс может занять до двух недель и не обязательно прозрачного: имеется ограниченный обратная связь в ходе выполнения приложения, пока он является наконец утверждены или отклонены. Отклонения может означать отсутствующие окном маркетинговые возможности, особенно в том случае, если это происходит один раз и передать недель между вашей исходной даты запуска и когда приложение будет доступно наконец.

### <a name="be-prepared"></a>Будьте готовы

Первая часть Совет: также заранее запланировать запуск приложения и учитывать возможные отклонения и повторной отправки. Каждый магазин необходимо создать учетную запись перед отправкой приложения — это можно сделать как можно раньше.
Хотя регистрация Google Play только занимает несколько минут, если ваши приложения предоставляются бесплатно, процесс получает гораздо больше усилий, если вы продаете их и вам необходимо предоставить банковские и сведения о налогах. Apple и процессы корпорации Майкрософт — это гораздо сложнее, чем от Google, может занять неделю, и сведения для настройки учетной записи утвержденные таким образом влияют на этот раз планах выпуска.

После подтверждения вашей учетной записи, вы будете готовы к отправке приложения. Фактический процесс для отправки приложений рассматривается в следующей документации:

- [Публикация в iOS Apple App Store](~/ios/deploy-test/app-distribution/app-store-distribution/publishing-to-the-app-store.md)
- [Подготовка приложения к Google Play](~/android/deploy-test/publishing/publishing-to-google-play/index.md)
- Разработчики Windows необходимо посетить [Центр разработчиков Windows](https://developer.microsoft.com/windows/windows-apps) прочитать об отправке своих приложений.

В оставшейся части этого раздела обсуждаются вещей, которые следует принять во внимание, чтобы убедиться, что приложение утверждается без любой выдерживает любые проблемы.

### <a name="quality"></a>Качество

Это кажется очевидным, но приложения часто отклоненным, так как они не соответствуют определенного уровня качества: в конце концов, это причина, почему проверенный хранилищ имеют процесс утверждения в первую очередь!

Сбои являются распространенной причиной отклонения. Если это слишком легко допустить сбоев вашего приложения, гарантируется отклонены. Большинство разработчиков не отправляйте свои приложения в предположении, что они будут о сбоях, но зачастую это. Тщательно протестируйте свое приложение перед отправкой, сосредотачиваясь при этом не только на убедиться, что все работает, но также это обработки обычных сценариев мобильных ошибки, такие как сетевые проблемы и ограничения ресурсов, таких как память или дисковое пространство. Использовать физические устройства и симулятор для тестирования — независимо от того, насколько хорошо код выполняется в симуляторе, только устройство может продемонстрировать фактической производительности приложения. Используйте столько разных устройств можно найти и прикрепить группой испытателей бета-версии, если вы можете - услуги третьих лиц, может помочь в управлении бета-распределение и обратной связи.

Все мобильные операционные системы будет завершить приложение, которое не начинается достаточно быстро. Длина допустимого времени меняется, но в целом приложений должен стремиться к отвечать в течение нескольких секунд и использовать фоновые задачи для выполнения любой работы, займет больше времени. Приложения, которые слишком много времени, чтобы загрузить или не отвечает, в постоянном использовании не будут отклонены. Всегда предоставлять отзывы пользователей, когда приложение будет выглядеть произошел сбой, и опять же, отклоняются, или что-то происходит в фоновом режиме.

### <a name="check-your-edge-cases"></a>Проверьте ваши пограничные случаи.

Общих ловушек для разработчиков не смог адрес краевыми, особенно тех, которые требуют повторной настройки их симулятор или устройство для тестирования должным образом. Его можно легко забыть, что не каждый клиент будет «Разрешить» вашему приложению доступ к их расположения, так как после разработчик приняла запрос один раз, они никогда не будет выведен запрос еще раз. Разрешения и использования сети в частности сосредоточился на процессе утверждения, это означает, что небольшой контроль в этих областях может привести к отклонения.

Ниже приведен хорошей отправной точкой для проверки крайние случаи, которые могли быть пропущены.

- **Клиенты могут «отклонить» доступ к службам** — особенно в iOS, доступ к данным, такие как сведения о географическом расположении, предоставляется только в том случае, если пользователь предоставляет разрешение на приложение. Приложения тест-инженеры часто следует повторно установить приложение в исходное состояние и запретить все запросы разрешений, чтобы убедиться, что приложение ведет себя соответствующим образом. Переключение на разрешение и отключать, чтобы проверить правильное поведение, как клиенты передумали.
- **Клиенты, everywhere** – не следует предполагать, что приложение будет использоваться только в название города или страны, где оно разрабатывалось! Код, который работает с координатами GPS, значений даты и времени и валют может все зависеть от расположения клиента и параметры языкового стандарта. Все предложения платформы симулятора, которые позволяют указать разных расположениях и языковые стандарты — использовать для тестирования расположения в других полушария и с помощью языков и региональных параметров, которые по-разному форматирования дат и валюты. Значения широты и долготы может быть положительным или отрицательным, десятичный разделитель может быть точка или запятая и даты можно форматировать множество способами: с ним работать!
- **Медленным сетевым каналам** — разработчиков приложений часто приходится работать в «идеальном мире» быстрые, всегда работы сети, который не так в реальном мире. Тестирование медленное сетевое подключение (например, плохого подключения 3 G), а также нет доступа к сети является критически важным для обеспечения, не входящие ошибками приложения. Процесс утверждения будет всегда включать тест с устройства в режиме "в самолете", поэтому убедитесь, что после проверки, сами.
- **Зависит от оборудования** – не забудьте проверить на автоматический, самые медленные оборудовании, которое вы планируете поддерживать. Существует два аспекта, которые могут повлиять на работу приложения: производительности, который может быть непригодным для использования на более старые устройства и поддержку таких камеру, микрофон, GPS, гироскоп или другом дополнительном компоненте компонентов оборудования. Приложения должны привести к снижению корректно (и не столкновений) Если компонент недоступен.

### <a name="guidelines-are-more-than-just-a-guide"></a>Больше, чем просто «руководство по», правила

Apple знаменитые за то, что строгие соответствие рекомендациям по их интерфейсам, как один из ключевых преимуществ их платформе есть согласованностью (и предполагаемых повышение удобства использования). Корпорация Microsoft сделала аналогичный подход с приложениями Windows, реализации пользовательского интерфейса в стиле Metro. Процесс утверждения для обеих платформ включает проверяется на его соответствие принципы соответствующие разработки приложения.

Это не означает, что инновации интерфейс пользователя не поддерживается или не рекомендуется, но имеются определенные «просто нельзя делать», или приложения будут отклонены.

В iOS, в том числе неправильного использования встроенных значки или с помощью других широко метафоры не согласованным способом; Например, используя значок «Создать» для всего, кроме Создание нового содержимого.

Разработчики Windows внимательно аналогичным образом; распространенная ошибка заключается не смог правильно поддержки оборудования обратно кнопки в соответствии с рекомендациями корпорации Майкрософт.

Порекомендуйте своим конструкторы для чтения и соответствовать правилам разработки для каждой платформы.

### <a name="implementing-platform-specific-features"></a>Реализация функций конкретных платформ

Вещи могут немного более строгие, когда дело доходит до реализации платформы служб, особенно на iOS. Чтобы избежать автоматического отклонения компанией Apple, существуют некоторые правила следовать со следующими функциями iOS:

- **Покупки из приложений** — приложения не должен реализовывать механизмы внешнего платежа для цифровых продуктов, включая валюты в игре, компоненты приложений, подписку на журнал, а также многое другое. iOS приложения должны использовать корпорации Apple iTunes-службу для такого рода функциональности. Имеется лазейку - приложений, как средство чтения, Kindle и некоторые приложения на основе подписки позволяют приобретать содержимое в другом месте, присоединяемой к учетной записи «» к которому затем можно получить с помощью приложения, однако в этом случае приложение не может содержать ссылки или ссылки на таблицу out-of-app приобрела процесса (или, еще раз, он будет отклонен).
- **параметры резервного копирования iCloud** — с появлением iCloud, Apple рецензенты неизменны гораздо более относительно как приложения используют хранилища (чтобы обеспечить взаимодействие с удаленным резервного копирования клиента приятной). Приложения, что занимают резервного копирования может место хранения может отклоняются, поэтому используйте папку кэша соответствующим образом и выполните Apple и другие рекомендации, связанные с хранилищем.
- **Newsstand** — газете и журнал приложений по отлично подходит для Apple Newsstand. Однако приложения должен реализовывать по крайней мере один автоматическое продление подписки и поддержки фоновой загрузки утверждения.
- **Сопоставляет** — все чаще Добавление наложений и другие функции в мобильных maps, тем не менее Будьте внимательны не скрытия карты «кредиты» данные (например, логотип Google в iOS5) так как это вызовет отклонения.

### <a name="manage-your-metadata"></a>Управление метаданных

Помимо очевидных технических проблем, которые могут привести к отклонению приложения существуют некоторые более тонкое аспекты заявку, может вызвать отклонения, особенно в отношении метаданных (описание, ключевые слова и маркетинга изображения) Отправьте приложение для отображения в App Store или в Marketplace.

- **Концепты** — следовать рекомендациям платформы для значков приложений и рисунками. Не используйте образы, а также товарные знаки, вы увидели, что приложения получить отклонена, так как соответствующие значки рекомендуемые рисунком из iPhone!
- **Товарные знаки** — Избегайте использования любые товарные знаки, отличных от вашего собственного. Приложения не имеете упоминания товарные знаки, описание приложения или даже в ключевых слов на Apple App Store.
- **Описание** — не используйте слово «бета-версии» и каким-либо образом указать, что приложение не будет готово, время. Не говоря уже о других мобильных платформ, (даже если приложение работает на разных платформах). Самое главное убедитесь, что приложение выполняет только что можно сказать, что он. Если в вашем описании вывести ряд функций, его надлежит быть очевидные способы использования каждой из этих функций, или вы будете получать отказ «, упомянутую в описание приложения не реализован».

Поместите больше усилий в метаданные приложения как в разработки и тестирования. Получить отклоненных приложений при незначительных нарушений в метаданных, поэтому стоит уделить время, чтобы сделать все правильно.

### <a name="app-stores-not-for-everyone"></a>Магазины приложений: Не для всех пользователей

Основное внимание хранилищ на каждой платформе — распределение потребителя - обращаться к миллионам максимально числа пользователей. Тем не менее не все приложения направлены на потребителей, имеется быстрому росту базовый внутри компании и экстрасети по принципу приложений, требующих ограниченного распространения для сотрудников, поставщиков и клиентов. Эти приложения не «для продажи» и не требуется утверждение, так как распределение элементов управления разработчика для закрытой группы пользователей.
Поддержка для этого типа развертывания зависит от платформы.

Android обеспечивает наибольшую гибкость в этом отношении: приложения могут быть установлены непосредственно из URL-адрес или адрес электронной почты вложения (условии, что конфигурация устройства позволяет). Это означает, что это просто создание и распространение приложения внутри организации корпоративной или публикация приложений для конкретных клиентов и поставщиков.

Развертывание внутри компании Apple позволяет разработчикам, которые зарегистрированы в iOS Developer Enterprise Program, которое обходит процесс утверждения App Store и позволяет компаниям для распространения приложений внутри организации для своих сотрудников.
К сожалению эта лицензия не устраняет необходимость для распространения приложений экстрасети по принципу другие закрытые группы клиентов или поставщиков. [Enterprise (и Ad-Hoc) развертывания](~/ios/deploy-test/app-distribution/ipa-support.md)

### <a name="app-store-summary"></a>Сводка App Store

Процесс проверки может быть пугающей задачей, но как в остальной части жизненного цикла разработки можно обеспечить успех с планированием и внимание к деталям. Все сводится к за несколько простых шагов: чтение и понимание рекомендации по пользовательскому интерфейсу, необходимо соблюдать, следуют правилам при реализации функций конкретных платформ, следует тщательно тестировать (а затем проверить некоторые новые) и наконец убедитесь, что метаданные приложения используется правильная, перед отправкой.

Последнее слово советы для разработчиков, публикация в Google Play: отсутствие процесс утверждения может казаться он упрощает работу -, но ваши клиенты должны иметь даже более высокими, чем команды проверки. Соблюдайте эти рекомендации, как на то, что приложение может получить отклонен, в противном случае будет клиентов это отклонение.
