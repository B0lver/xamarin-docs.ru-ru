---
title: Часть 6. тестирование и утверждение магазина
description: В этом документе описывается тестирования кросс платформенные приложения на устройстве, управления тестовыми случаями, автоматизации тестов, выполнение модульных тестов и выполнения процесса отправки приложения.
ms.prod: xamarin
ms.assetid: 46E0578A-7EB9-C105-ABB0-A043E501F36B
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 0faf7c9e4ff7c96cdfd25ab6d6658726ef247b32
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34781651"
---
# <a name="part-6---testing-and-app-store-approvals"></a>Часть 6. тестирование и утверждение магазина

## <a name="testing"></a>Тестирование

Во многих приложениях (даже приложений Android, в некоторых хранилищах) должна пройти процесс утверждения перед их публикацией; Поэтому тестирование крайне важно для приложения достигает рынке (не говоря уже выполняется успешно с клиентами). Тестирование может принимать различные формы, от уровня разработчик модульного тестирования, чтобы управление бета-тестирования с множеством оборудования.

### <a name="test-on-all-platforms"></a>Тестирование на всех платформах

Существуют небольшие различия между .NET поддерживает на Windows phone, планшет и настольных компьютеров, а также ограничения на iOS, предотвратить динамический код сформирован на ходу. Необходимо планировать тестирование кода на нескольких платформах, в ходе разработки, или планировать время рефакторинга и обновление модели части приложения в конце проекта.

Рекомендуется всегда использовать для тестирования нескольких версий операционной системы, а также возможности различных устройств и конфигурации, симуляторе или эмуляторе.

Также следует проверить на столько разных физического оборудования, как.

#### <a name="devices-in-cloud"></a>Устройства в облаке

Любое время, запрещая тестирование на количество устройств, доступных увеличивающийся растет экосистеме мобильных телефонов и планшетных ПК. Чтобы решить эту проблему, в число служб обеспечивают возможность удаленно управлять множество разных устройств, чтобы приложения могут быть установлены и тестирования без необходимости инвестиций непосредственно в большом числе оборудования.

[Приложение центра тестирования](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest) предлагает простой способ тестирования iOS и Android приложений на сотнях разных устройств.

### <a name="test-management"></a>Управление тестированием

При тестировании приложения в вашей организации и управлении бета-версии программы с внешними пользователями, существует две проблемы:

- **Распределение** — управление процесс подготовки (особенно для устройств iOS) и получение обновленной версии программного обеспечения для тест-инженеров.
- **Отзыв** — сбор сведений об использовании приложения, а также подробные сведения об ошибках, которые могут возникнуть.


Существует ряд служб справки для решения этих проблем, предоставляет инфраструктуру, которая встроена в приложение для сбора и создания отчетов об использовании и ошибок, а также оптимизировать процесс подготовки для регистрации и управления их устройствами и тест-инженерам .

[Центр приложения Visual Studio](/appcenter/) предлагает решение этих проблем, предоставляя версии распределение тестов, создания отчетов о сбоях и сведения об использовании сложных приложений.

### <a name="test-automation"></a>Автоматизация тестирования

Xamarin [UITest](https://docs.microsoft.com/appcenter/test-cloud/preparing-for-upload/uitest) можно использовать для создания интерфейса пользователя автоматические тестовые скрипты, которые можно выполнять локально или переданы [приложения проверить Center](https://docs.microsoft.com/appcenter/test-cloud/).

## <a name="unit-testing"></a>Модульное тестирование

### <a name="touchunit"></a>Touch.Unit

Xamarin.iOS включает платформу модульного тестирования, вызывается Touch.Unit, использующую JUnit/NUnit стиль написания тестов.

Ссылаться на наш [модульное тестирование с помощью Xamarin.iOS](~/ios/deploy-test/touch.unit.md) Дополнительные сведения о записи тестов и запуск Touch.Unit.

### <a name="andrunit"></a>Andr.Unit

Нет открытым исходным кодом, равное Touch.Unit для Android, вызывается Andr.Unit. Его можно загрузить из [github](https://github.com/spouliot/Andr.Unit) и узнайте, как средство на [ @spouliotв блоге](http://spouliot.wordpress.com/2011/10/30/andr-unit-joins-the-family/).

## <a name="app-store-approvals"></a>Утверждение магазина

Apple и Майкрософт работают только хранилище на своих платформах: App Store и Marketplace соответственно. Обе блокировки свои устройства и реализации процесса проверки строгого приложения для управления качество приложения, доступные для загрузки. Откройте характер Android означает, что существует несколько параметров хранилища, начиная от Google Play, который широко доступны и не процесса проверки, Appstore Amazon для Android и относящиеся к оборудованию усилия как Samsung приложения, которые более ограниченную распространения и реализуйте процесс утверждения.

Ожидание приложения, чтобы просмотреть может быть очень стрессовые - нагрузку бизнеса часто означает, что приложения направляются на утверждение с очень мало погрешностью для ранее даты запуска «целевой». Сам процесс может занять до двух недель, а не обязательно прозрачный: нет ограниченная обратной связи в ходе выполнения приложения до его наконец утверждены или отклонены. Отклонения может означать отсутствующих маркетинговые окно возможность, особенно в том случае, если оно возникает несколько раз, и передать недель между исходной даты запуска и после finally утверждения приложения.

### <a name="be-prepared"></a>Будьте готовы

Первая часть советов: также заранее запланировать запуск приложения и внести поправки для возможных отклонения и повторной отправки. Каждый магазин необходимо создать учетную запись перед отправкой приложения — это можно сделать как можно раньше.
Во время регистрации Google Play только занимает несколько минут, если приложения свободны, процесс получает гораздо сложнее, если их продаж и необходимо предоставить банковские и налоговые сведения. Apple и процессы корпорации Майкрософт — это гораздо сложнее, чем Google, это может занять неделю, и в данный момент таким образом более, чтобы получить учетную запись утвержденные вклад в планы запуска.

После утверждения вашей учетной записи, вы будете готовы к отправке приложения. Фактический процесс для отправки приложений, описанные в следующей документации:

- [Публикация в компании Apple iOS App Store](~/ios/deploy-test/app-distribution/app-store-distribution/publishing-to-the-app-store.md)
- [Подготовка приложения для Google Play](~/android/deploy-test/publishing/publishing-to-google-play/index.md)
- Разработчики Windows следует посетить [центра разработчиков Windows](https://developer.microsoft.com/windows/windows-apps) для чтения об отправке свои приложения.

В оставшейся части в этом разделе рассматриваются задачи, которые можно принять во внимание чтобы убедиться, что приложение утверждается без любой из-за.

### <a name="quality"></a>Качество

Кажется очевидным, но приложения будут отклонены часто, так как они не соответствуют уровень качества: после того как все это является причиной, почему проверенный магазины есть процесс утверждения в первую очередь!

Сбои являются распространенной причиной отклонения. Если слишком легко сделать ваш аварийного завершения приложения, он точно был отклонен. Большинство разработчиков не отправляйте свои приложения, исходя из предположения, что они будут аварийно завершить работу, но зачастую это. Тщательно протестируйте свое приложение перед его отправкой, сосредоточившись не только на убедиться, что все работает, но также это обрабатывать распространенные ошибки мобильных устройств, такие как сетевые проблемы и ограничения ресурсов, таких как память или дисковое пространство. Использовать симулятор и физические устройства для проверки — независимо от того, насколько код выполняется в имитаторе, только устройства позволяет продемонстрировать фактической производительности приложения. Используйте любое количество различных устройств, как найти и прикрепить группой испытателей бета-версии, если вы можете - службы сторонних разработчиков могут помочь в решении бета-распределение и обратную связь.

Все операционные системы для мобильных устройств для завершения приложения, которое не начинается достаточно быстро. Допустимое время меняется, но в целом приложения следует стремиться реагировать в течение нескольких секунд и использовать фоновые задачи для выполнения работы, в который займет больше времени. Приложения, которые слишком много времени для загрузки или не отвечает, регулярно используемой являются будут отклонены. Всегда предоставлять отзывы пользователей, когда что-то происходит в фоновом режиме, или для приложения отображается аварийное завершение и опять же, отклонены.

### <a name="check-your-edge-cases"></a>Проверьте вашей крайних случаев

Общие ловушки для разработчиков не смог адрес-случаи особенно тех, которые требуют повторной настройки их симулятор или устройство, чтобы проверить, правильно. Его можно легко забыть, что не каждый клиент будет «Разрешить» приложения для доступа к их расположения, так как после разработчик получило запрос один раз, они никогда не будет выведен запрос еще раз. Разрешения и использования сети в частности focussed в процессе утверждения, это означает, что отклонения может привести к небольшой контроля в следующих областях.

Ниже приведен хорошей отправной точкой для проверки крайние случаи, которые могут быть пропущены.

- **Клиенты могут «запретить» доступ к службам** — особенно в iOS, доступ к данным, таких как сведения о географическом регионе предоставляется только в том случае, если пользователь разрешает приложению. Тест-инженеры приложения часто необходимо повторно установить приложения в исходное состояние и запретить все запросы разрешений, чтобы убедиться, что приложение работает надлежащим образом. Переключение на разрешение и отключено, чтобы проверить правильное поведение, как клиенты изменили их решение.
- **Клиенты, everywhere** — не предполагается, что приложение будет использоваться только в городу или стране, где он был разработан! Код, который работает с координаты GPS, значения даты и времени и валюты можно влияют настройки локали и расположение клиента. Все платформы предложение симулятора, которые позволяют указать разных мест и язык и региональные стандарты - использовать для тестирования расположения с другим полушарий и языки и региональные параметры, которые используются для форматирования дат и валют по-разному. Значения широты и долготы может быть положительным или отрицательным, десятичный разделитель может быть точка или запятая и даты можно форматировать множество способов - справиться с ним!
- **Медленный сетевых подключений** — приложения разработчики часто работают в «идеальном мире» fast, всегда работы сетевое подключение очевидно, что в противном случае в реальном мире. Тестирование медленное сетевое подключение (например, подключения к снижению 3 G), а также нет доступа к сети важно убедитесь, что не поставляются дефектный приложения. Процесс утверждения будет всегда включайте проверку устройства в режим "в самолете", поэтому убедитесь, что протестированы, самостоятельно.
- **Зависит от оборудования** — не забудьте проверить на автоматический, медленных оборудование, на котором вы планируете поддерживать. Существует два аспекта, которые могут повлиять на приложения: производительность, что может оказаться непригодным для старых устройств, а поддержка аппаратных компонентов, таких как камеру, микрофон, GPS, гироскопа или других дополнительных компонентов. Приложения должны привести к снижению правильно (и не аварийное завершение работы) при компонент недоступен.

### <a name="guidelines-are-more-than-just-a-guide"></a>Больше, чем просто «руководство», правила

Apple знаменитый за то, что строгие соблюдение их рекомендациям по интерфейсам, как одним из ключевых преимуществ их платформы согласованности (и предполагаемых повышения удобства работы). Аналогичный подход был сделан с приложениями Windows, реализация пользовательского интерфейса в стиле Metro. Процесс утверждения для обеих платформ для этого потребуется проверяется на его соответствие принципы соответствующие разработки приложения.

Это не означает, инновационных интерфейса пользователя не поддерживается и не рекомендуется, но определенных моментов «просто нельзя делать», или приложения будут отклонены.

На iOS в том числе неправильного использования встроенных значков или с помощью других широко метафоры не согласованным образом; Например, используя значок «Создать» для ничего, кроме Создание нового содержимого.

Разработчики Windows должны быть точно так же внимательны; распространенная ошибка не удается правильно поддержки оборудования снова кнопку согласно рекомендациям корпорации Майкрософт.

Порекомендовать разработчику чтения и следовать указаниям по разработке для каждой платформы.

### <a name="implementing-platform-specific-features"></a>Применение функций управления платформой

Когда дело доходит до реализации службы платформ, особенно на iOS становятся немного более строгие моменты. Во избежание Авто отклонения компанией Apple, существуют некоторые правила следовать со следующими функциями iOS:

- **Покупки из приложений** — приложений не должен реализовывать внешнего платежа механизмы для цифровых продуктов Майкрософт, включая валюты в игре, компоненты приложений, подписку на журнал и многое другое. приложения iOS необходимо использовать Apple iTunes служба функциональность этого типа. Существует лазейку - приложений, как средство чтения Kindle и некоторые приложения на основе подписки позволяют приобретать содержимое в другом месте, присоединяемой к «учетная запись» к которому затем можно получить через приложение, однако в этом случае приложение не должно содержать ссылки или ссылок на Выход из приложения на покупку процесса (или снова, она будет отклонена).
- **параметры резервного копирования iCloud** — с появлением iCloud, проверяющих Apple гораздо более строгой об использовании хранилища приложения (Чтобы применить приятной удаленного взаимодействия резервных копий клиента). Приложения, которые занимают резервного копирования может место хранения может получить отклонили, поэтому использовать папку кэша соответствующим образом и выполните Apple и другие рекомендации, связанных с хранилищем.
- **Киоска новостей** — газет и журнала приложения являются отлично подходит для Apple киоска новостей, однако приложения должен реализовывать по крайней мере один автоматическое обновление подписки и поддержка фоновая загрузка утверждение.
- **Сопоставляет** — чаще Добавление наложений и другие функции в maps мобильных устройств, тем не менее Будьте внимательны не затруднять карты «кредиты» сведений (например, эмблемы Google в iOS5) как это приведет к отклонения.

### <a name="manage-your-metadata"></a>Управление метаданных

Помимо очевидных технические проблемы, которые могут привести к отклонению приложения есть некоторые более тонкая аспекта вашей отправки, которая может привести к отклонения, особенно в части метаданных (описание, ключевые слова и маркетинга изображений), которые отправьте вместе с приложением для отображения в App Store или Marketplace.

- **Изображения** — Следуйте правилам платформы для приложения значков и рисунками. Не используйте формируют изображений, мы узнали, что приложения получить отклонена, так как их значки избранные Рисование iPhone!
- **Товарные знаки** : Избегайте использования любой товарных знаков, отличных от вашего собственного. Приложения было отменено для упомянуть товарные знаки описания приложения или даже в ключевых слов на Apple App Store.
- **Описание** — не используйте слово «бета-версии» и каким-либо образом указывают, приложение не готова к самое время. Не упоминается мобильных платформ (даже если приложение кросс платформенных). Самое главное убедитесь, что приложение не точно говоришь, что он. Если в описании список множество функций, его надлежит быть очевидный способ использования каждой из этих функций или вы сможете получить отказ «, упомянутую в описание приложения не реализовано».

Поместите больше усилий в метаданных приложения как в разработки и тестирования. Приложения получить отклонена из-за дополнительный нарушений в метаданных, имеет смысл потратить время для получения правильных.

### <a name="app-stores-not-for-everyone"></a>Приложений в магазине: Не для всех пользователей

Основное внимание хранилищ на каждой платформе — распределение потребителя - возможность доступа числа пользователей, насколько это возможно. Однако не все приложения предназначены потребителей, отсутствует на все чаще базовый внутри организации и экстрасети подобных приложений, требующих ограниченного распространения для сотрудников, поставщиков или клиентов. Эти приложения не «для продаж» и не требуется утверждение с момента распространения разработчика элементов управления в закрытой группы пользователей.
Поддержка этого типа развертывания зависит от платформы.

Android обеспечивает наибольшую гибкость в этом отношении: приложения могут быть установлены непосредственно из вложения в URL-адрес или электронной почты (при условии, что конфигурация устройства допускает). Это означает, что он является тривиальным, для создания и распространения собственных корпоративных приложений или публикации приложения для конкретных клиентов или поставщиков.

Apple предоставляет возможность самостоятельно развертывания для разработчиков, зарегистрированных в iOS Developer Enterprise Program, которое обходит процесс утверждения App Store и позволяет компаниям распространять собственные приложения для своих сотрудников.
К сожалению эта лицензия не устраняет необходимость для распространения приложений экстрасети по принципу другие закрытые группы клиентов или поставщиков. [Enterprise (и Ad-Hoc) развертывания](~/ios/deploy-test/app-distribution/ipa-support.md)

### <a name="app-store-summary"></a>Сводка App Store

Процесс проверки может быть сложной, но как и остальные жизненного цикла разработки может помочь обеспечить успешный с планированием и внимания к деталям. Все сводится к несколько простых шагов: чтение и понимание рекомендации по пользовательскому интерфейсу, необходимо соблюдать, следуют правилам при реализации функций конкретных платформ, тщательно протестировать (а затем проверить несколько дополнительных) и наконец убедитесь, что метаданные приложения Прежде чем отправлять указано правильно.

Последнее слово рекомендации для разработчиков, публикация в Google Play: отсутствие процесс утверждения может казаться он упрощает задание -, но ваши клиенты будут даже более требовательны от команды проверки. Выполните эти инструкции, на то, что приложение может получить отклонен, в противном случае он будет клиентам выполнив отклонения.
