---
title: Создание новых проектов библиотекой для определенной платформы для NuGet
description: В этом документе описывается создание одного пакета NuGet, который содержит код платформы для нескольких платформ.
ms.prod: xamarin
ms.assetid: D8BC4906-805F-4AFB-8D1A-88B7BF87E17F
author: asb3993
ms.author: amburns
ms.date: 03/23/2017
ms.openlocfilehash: 00a02973d6016ad63e4317279515acc2b4e2e81b
ms.sourcegitcommit: ea1dc12a3c2d7322f234997daacbfdb6ad542507
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/05/2018
ms.locfileid: "34780647"
---
# <a name="creating-new-platform-specific-library-projects-for-nuget"></a>Создание новых проектов библиотекой для определенной платформы для NuGet

Многоплатформенного проектов библиотек, предназначенных для конкретных платформ, таких как iOS и Android, лучше всего работать с проектами, совместно.

NuGet может содержать как код конкретного iOS и Android, а также код .NET, общим для обоих.

Создается несколько сборок, которые встроены в один пакет NuGet. Стандарты NuGet убедитесь, пакет может быть добавлено к все поддерживаемые типы проектов, таких как проекты Xamarin.iOS и Android.

## <a name="steps-to-create-a-cross-platform-library-nuget"></a>Инструкции по созданию NuGet кросс платформенной библиотекой

1. Выберите **файл > новое решение** (или щелкните правой кнопкой мыши существующее решение и выберите **Добавить > Новый проект**).

2. Выберите **многоплатформенных библиотеки** из **многоплатформенных > Библиотека** раздела:

  [![](platform-specific-images/mulitplatform-library-sml.png "Настройка параметров библиотеки несколькими платформами для единой базой кода")](platform-specific-images/multiplatform-library.png#lightbox)

3. Введите **имя** и **описание**и выберите **конкретную платформу**:

  [![](platform-specific-images/specific-configure-sml.png "Настройка параметров библиотеки специфический для платформы iOS и Android")](platform-specific-images/specific-configure.png#lightbox)

4. Завершите работу мастера. Следующие проекты добавляются в решение:

  - **Проект Android** — при необходимости код для Android можно добавить в этот проект.
  - **операций ввода-вывода проекта** — код для определенных операций ввода-вывода при необходимости можно добавить в этот проект.
  - **Проект NuGet** — код не добавляется в проект. Он ссылается на другие проекты и содержит метаданные конфигурации выходные данные пакета NuGet.
  - **Общий проект** — общая кода должны быть добавлены в этот проект, включая код внутри платформы `#if` директивы компилятора.

5. Правой кнопкой мыши проект NuGet и выберите **параметры**, затем откройте **пакет NuGet > метаданных** статьи и введите [необходимые метаданные](~/cross-platform/app-fundamentals/nuget-multiplatform-libraries/metadata.md) (как, а также всем необязательные метаданные):

  [![](platform-specific-images/specific-metadata-sml.png "Введите необходимые метаданные")](platform-specific-images/specific-metadata.png#lightbox)

6. Кроме того, в **параметры проекта** откройте **ссылочные сборки** раздела и выбрать какие профили PCL общей библиотеки будет поддерживаться через «заманить и подменить»:

  ![](platform-specific-images/specific-reference-assemblies.png "Также в окне \"Параметры проекта\", откройте раздел ссылочные сборки и выберите, какие профили PCL общей библиотеки будет поддерживаться через заманить и подменить")

  > [!NOTE]
> «Заманить и подменить» означает, что PCL сборки будет содержать только API, предоставляемые библиотекой (он не может содержать код конкретной платформы). При добавлении NuGet для проекта Xamarin общие библиотеки будет скомпилирована PCL, но платформой сборки содержат код, который фактически используемый проект Android или iOS.

7. Щелкните правой кнопкой мыши проект и выберите **создать пакет NuGet** (или построение или развертывание решения) и **.nupkg** будут сохранены в файл пакета NuGet **/bin/** папке ( Отладки или выпуска, в зависимости от конфигурации).

  ![](platform-specific-images/create-nuget-package.png "Файл пакета NuGet сохраняются в папке bin отладки или выпуска, в зависимости от конфигурации")


## <a name="verifying-the-output"></a>Проверка выходных данных

Пакеты NuGet также являются ZIP-файлов, поэтому можно проверить внутренняя структура созданного пакета.

Выбранные в этом снимке экрана показано содержимое NuGet платформой поддерживает iOS и Android, который содержит две ссылки сборок:

![](platform-specific-images/nuget-output.png "Файлы, содержащиеся в пакет NuGet.")


## <a name="related-links"></a>Связанные ссылки

- [Руководство по метаданным](~/cross-platform/app-fundamentals/nuget-multiplatform-libraries/metadata.md)
