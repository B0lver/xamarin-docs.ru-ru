---
title: Интерактивные Workbooks
description: В этом документе описывается, как использовать Xamarin Workbooks для создания документов в C# реальном времени, содержащих код для экспериментов, обучения, изучения или исследования.
ms.prod: xamarin
ms.assetid: B79E5DE9-5389-4691-9AA3-FF4336CE294E
author: davidortinau
ms.author: daortin
ms.date: 03/30/2017
ms.openlocfilehash: a6ca347c231d001cab521d7280a66b714b6a5aef
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73029563"
---
# <a name="interactive-workbooks"></a>Интерактивные Workbooks

Книги можно использовать как автономное приложение отдельно от интегрированной среды разработки.

Чтобы начать создание новой книги, запустите приложение "книги". Если вы еще не установили этот параметр, перейдите на страницу [установки](~/tools/workbooks/install.md#install) . Вам будет предложено создать книгу на выбранной вами платформе, которая автоматически подключится к приложению агента, что позволит визуализировать документ в режиме реального времени.

Если приложение книги уже запущено, можно создать новый документ, перейдя к **файлу > New**.

Книги можно сохранить и открыть позже в приложении. Затем вы можете поделиться ими с другими пользователями для демонстрации идей, изучения новых API-интерфейсов или изучения новых концепций.

## <a name="code-editing"></a>Редактирование кода

Окно редактирования кода обеспечивает завершение кода, выделение синтаксиса, встроенную динамическую диагностику и поддержку многострочных инструкций.

[![](workbook-images/inspector-0.6.0-repl-small.png "The code editing window provides code completion, syntax coloring, inline live-diagnostics, and multi-line statement support")](workbook-images/inspector-0.6.0-repl.png#lightbox)

Xamarin Workbooks сохраняются в файле `.workbook`, который является файлом Коммонмарк с некоторыми метаданными вверху (Дополнительные сведения о способах сохранения книг см. в разделе [типы файлов книг](#workbooks-files-types) ).

### <a name="nuget-package-support"></a>Поддержка пакетов NuGet

Многие популярные пакеты NuGet поддерживаются непосредственно в Xamarin Workbooks. Можно выполнить поиск пакетов, перейдя в **файл > добавить пакет**. Добавление пакета автоматически приводит к `#r` инструкциям, ссылающимся на сборки пакетов, что позволяет использовать их сразу же.

При сохранении книги со ссылками на пакеты эти ссылки также сохраняются. Если книга открыта для общего доступа другим лицом, она автоматически скачивает пакеты, на которые имеются ссылки.

Существуют некоторые известные ограничения, связанные с поддержкой пакетов NuGet в книгах:

- Собственные библиотеки поддерживаются только в iOS и только при связывании с управляемой библиотекой.
- Пакеты, зависящие от `.targets` файлов или сценариев PowerShell, скорее всего, не будут работать должным образом.
- Чтобы удалить или изменить зависимость пакета, измените манифест книги в текстовом редакторе. Правильное управление пакетами — это способ.

### <a name="xamarinforms-support"></a>Поддержка Xamarin. Forms

Если вы ссылаетесь на пакет NuGet Xamarin. Forms в книге, приложение книги изменит свое главное представление на на основе Xamarin. Forms. Доступ к нему можно получить с помощью `Xamarin.Forms.Application.Current.MainPage`.

Вкладка инспектор представлений также имеет специальную поддержку для отображения иерархии представлений Xamarin. Forms, которая поможет вам понять макеты.

## <a name="rich-text-editing"></a>Редактирование форматированного текста

Текст вокруг кода можно изменить, используя редактор форматированного текста, как показано ниже:

![](workbook-images/inspector-0.6.2-editing.gif "Edit the text around the code using the built-in rich text editor")

### <a name="markdown-authoring"></a>Создание Markdown

Иногда авторы книг могут легко изменить Коммонмарк "источник" книги с помощью своего любимого редактора.

Имейте в виду, что при изменении и сохранении книги в клиенте книги текст Коммонмарк может быть переформатирован.

Обратите внимание, что из-за расширения Коммонмарк, используемого для включения метаданных YAML в файлах книги, `---` зарезервировано для этой цели. Если вы хотите создать [тематическим перерывы](https://spec.commonmark.org/0.27/#thematic-break) в тексте, используйте вместо него `***` или `___`. Такие перерывы следует избегать в книгах 1,2 и более ранних версиях из-за ошибки во время сохранения.

### <a name="improvements-in-workbooks-13"></a>Усовершенствования в книгах 1,3

Мы также расширили синтаксис Markdown блока кавычек, чтобы улучшить представление. Добавив символ эмодзи в качестве первого символа в блочной кавычке, вы можете повлиять на цвет фона цитаты:

- `> [!NOTE]`
    > будет отображаться в виде заметки с синим фоном
- `> [!IMPORTANT]`
    > отображается как предупреждение с желтым фоном
- `> [!WARNING]`
    > отображается как проблема с красным фоном

Также можно создать ссылку на заголовки в документе книги. Мы создаем привязки для каждого заголовка, в котором идентификатор привязки является текстом заголовка, обработанным следующим образом:

1. В заголовке используется нижний регистр.
1. Все символы, кроме буквенно-цифровых и дефисов, удаляются.
1. Все пробелы заменяются тире.

Это означает, что заголовок, например "важный заголовок", получает идентификатор `important-header` и может быть связан путем вставки ссылки на `#important-header` в книге.

## <a name="document-structure"></a>Структура документа

### <a name="cell"></a>Ячейку

Дискретная единица содержимого, представляющая либо исполняемый код, либо Markdown. Ячейка кода состоит из четырех частей:

- Редактор
  - Буфер
- Диагностика компилятора
- Выходные данные консоли
- Результаты выполнения

### <a name="editor"></a>Редактор

Интерактивный текстовый компонент ячейки. Для ячеек кода это собственно редактор кода с выделением синтаксиса и т. д. Для Markdown ячеек это редактор форматированного содержимого с контекстной панелью инструментов форматирования и разработки.

### <a name="buffer"></a>Буфер

Реальное текстовое содержимое редактора.

### <a name="compiler-diagnostics"></a>Диагностика компилятора

Любые диагностические данные, созданные при компиляции кода, отображаются только при запросе явного выполнения. Отображается непосредственно под редактором ячеек.

### <a name="console-output"></a>Выходные данные консоли

Все выходные данные, записанные в стандартный выход или стандартную ошибку во время выполнения ячейки. Стандартный выход будет отображаться в виде черного текста, а стандартная ошибка будет отображаться красным текстом.

### <a name="execution-results"></a>Результаты выполнения

Расширенные и потенциально интерактивные представления результатов для ячейки будут подготавливаться к просмотру после успешной компиляции, при условии, что результат фактически создается при выполнении. Исключения считаются результатами в этом контексте, так как они создаются в результате фактического выполнения компиляции.

## <a name="workbooks-files-types"></a>Типы файлов книг

### <a name="plain-files"></a>Обычные файлы

По умолчанию книга сохраняется как обычный текстовый `.workbook` файл, содержащий текст в формате Коммонмарк.

### <a name="packages"></a>пакеты,

Пакет книги — это каталог с именем с расширением `.workbook`.
В системе поиска Mac и в меню Xamarin Workbooks открыть и последние файлы этот каталог будет распознан как файл.

Каталог должен содержать файл `index.workbook`, который является реальной простой текстовой книгой, которая будет загружена в Xamarin Workbooks. Каталог также может содержать ресурсы, необходимые `index.workbook`, включая изображения или другие файлы.

Если обычный текстовый `.workbook` файл, который ссылается на ресурсы из того же каталога, открывается в книгах 0.99.3 или более поздней версии, то при сохранении он будет преобразован в пакет `.workbook`. Это справедливо и для Mac, и для Windows.

> [!NOTE]
> Пользователи Windows будут открывать файл `package.workbook\index.workbook` напрямую, но в противном случае пакет будет вести себя так же, как на компьютере Mac.

### <a name="archives"></a>копии

Пакеты книг, являющиеся каталогами, могут быть трудно легко распространять через Интернет. Решение — архивы книг. Архив книги — это сжатый ZIP-пакет книги с расширением `.workbook`.

Начиная с книг 1,1, при сохранении пакета в диалоговом окне сохранения вместо него предлагается сохранить как архив. В книгах 1,0 не было встроенного способа создания или сохранения архивов.

В книгах 1,0 при открытии архива книги он был прозрачно преобразован в пакет книги, а ZIP-файл был потерян. В книгах 1,1 ZIP-файл сохраняется. Когда пользователь сохраняет архив, он заменяется новым ZIP-файлом.

Архив книги можно создать вручную, щелкнув правой кнопкой мыши пакет книги и выбрав пункт **Сжать** на Mac или **отправить в > сжатую ZIP-папку** в Windows. Затем переименуйте ZIP-файл, до`.workbook` расширение файла. Это работает только с пакетами книг, а не с обычными файлами книг.

## <a name="related-links"></a>Связанные ссылки

- [Добро пожаловать в книги](https://developer.xamarin.com/workbooks/workbooks/getting-started/welcome.workbook)
