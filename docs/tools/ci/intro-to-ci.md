---
title: Общие сведения о непрерывной интеграции с Xamarin
description: В этом документе описываются непрерывной интеграции с Xamarin. В нем описывается управление версиями и различных сред непрерывной интеграции.
ms.prod: xamarin
ms.assetid: C034200E-2947-4309-9DDD-80DAC505C43F
author: lobrien
ms.author: laobri
ms.date: 07/19/2017
ms.openlocfilehash: 48dd2e1f2f5dd9ffdad0b726c5066a9a968d2396
ms.sourcegitcommit: c1d85b2c62ad84c22bdee37874ad30128581bca6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/08/2019
ms.locfileid: "67650539"
---
# <a name="introduction-to-continuous-integration-with-xamarin"></a>Общие сведения о непрерывной интеграции с Xamarin

_Непрерывная интеграция — практика разработки программного обеспечения в котором автоматическую сборку, компилирует и при необходимости проверяет приложение, когда добавляется или изменяется разработчиками в хранилище контроля версий проекта кода. В этой статье будут рассмотрены основные принципы использования непрерывной интеграции и некоторые параметры, доступные для непрерывной интеграции с Xamarin проектами._

Довольно часто над проектами программного обеспечения для разработчиков для работы в параллельном режиме. В некоторых случаях бывает необходимо интегрировать все эти параллельные потоки работ в одну базу кода, которые составляют окончательную версию продукта. На заре разработки программного обеспечения такая интеграция было выполнено в конце в проект, который был процесс сложно и рискованно.

Непрерывной интеграции (CI) избежать такой сложности посредством объединения базу кода, подвергать каждый разработчик изменения, обычно всякий раз, когда проверяет все разработчики изменения в проекте общий репозиторий кода. Каждый возврат запускает автоматическую сборку и выполняет автоматические тесты можно проверить, вновь созданного кода не нарушают существующий код.  Таким образом непрерывная Интеграция в областях ошибок и проблем немедленно и гарантирует, что все члены команды Оставайтесь в курсе событий с работу друг друга. Это приводит к сплоченной и стабильной базы кода.

Системами непрерывной интеграции состоят из двух основных частей:

- **Управление версиями** — версия управления (VC), также называемый системы управления версиями или системы управления исходным кодом, объединяет весь код проекта в один общий репозиторий и сохраняет полный журнал каждого изменения в каждый файл. Этот репозиторий, часто называют *mainline* или *master* ветви, содержит исходный код, который в конечном счете будет использоваться для создания производства или окончательной версии приложения. Существует множество открытым исходным кодом и коммерческих продуктов для выполнения этой задачи, которые обычно позволяют командами или отдельными пользователями, чтобы создать разветвление копией кода на вторичный ветви, где можно проводить значительные изменения и проводить эксперименты без риска в главную ветвь. После проверки изменений в ветвь вторичной их затем можно устранял объединения с главной ветвью.
- **Сервер непрерывной интеграции** — сервер непрерывной интеграции отвечает за сбор всех артефактов проекта (исходный код, изображения, видео, баз данных, автоматических тестов, и т.д.), компиляция приложения и выполнение автоматических тестов. Опять же существует много открытым исходным кодом и коммерческих инструментов CI-сервера.

Разработчики обычно имеют рабочую копию одну или несколько ветвей на своих рабочих станциях, где изначально работу. По завершении в соответствующий набор рабочих изменения «извлеченный» или «зафиксирована» в соответствующую ветвь, которой не передаст их рабочие копии другими разработчиками. Это, как команда гарантирует, что все они обрабатывают на тот же код.

Опять же непрерывной интеграции, процесс фиксации изменений заставляет сервер непрерывной Интеграции для сборки проекта и запуск автоматических тестов для проверки корректности исходного кода. При возникновении ошибки сборки или сбои при тестировании, CI-сервера уведомляет ответственному разработчику (по электронной почте, обмена мгновенными Сообщениями, Twitter, Growl, и так далее), он может устранить проблему. (CI-серверы могут даже отказаться фиксации в случае сбоев, которые называются «Условный возврат».)

Этот процесс показан на следующей схеме:

[![](intro-to-ci-images/intro01-small.png "Схема иллюстрирует этот процесс")](intro-to-ci-images/intro01.png#lightbox)

Мобильные приложения представлены уникальные задачи для непрерывной интеграции. Приложения может потребоваться датчиков, таких как GPS или камеры, которые доступны только на физических устройствах. Кроме того, симуляторов или эмуляторы являются только приближением оборудования и могут скрыть или скрывать проблемы. В конечном счете необходимо протестировать мобильное приложение на реальном оборудовании, чтобы быть уверенным, что это по-настоящему заказчику.

[Тестирования центра приложений](https://docs.microsoft.com/appcenter/test-cloud) устраняет эту конкретную проблему, тестирование приложений непосредственно на сотнях физических устройств. Разработчики пишут автоматизированные приемочные тесты, позволяющие мощные тестирования пользовательского интерфейса. После отправки этих тестов в центр приложений CI-сервере можно выполнить их автоматически в рамках процесса непрерывной Интеграции как показано на следующей схеме:

[![](intro-to-ci-images/intro02-small.png "После отправки этих тестов в центр приложений CI-сервере можно запускать их автоматически в рамках процесса непрерывной Интеграции, как показано на этой схеме")](intro-to-ci-images/intro02.png#lightbox)

## <a name="components-of-continuous-integration"></a>Компоненты непрерывной интеграции

Нет обширной экосистемы средств коммерческих с открытым исходным кодом, предназначенных для поддержки непрерывной Интеграции. В этом разделе объясняется, некоторые из самых распространенных рисков.

### <a name="version-control"></a>Управление версиями

#### <a name="azure-devops-and-team-foundation-server"></a>Azure DevOps и Team Foundation Server

[Azure DevOps](https://azure.microsoft.com/services/devops/) и [Team Foundation Server](https://visualstudio.microsoft.com/tfs/) (TFS) являются средствами совместной работы корпорации Майкрософт для непрерывной интеграции служб, отслеживания задач, agile планирование и составление отчетов средства и системы управления версиями. С системой управления версиями DevOps в Azure и TFS могут работать с собственную систему (системы управления версиями Team Foundation или TFVC) или проектов, размещенных на сайте GitHub.

- Azure DevOps предоставляет службы через облако. Их основное преимущество — что он не требует специального оборудования или инфраструктуры и возможен из любой точки через веб-браузеры и популярные средства разработки — Visual Studio, продвигая его для команд, которые находятся в географически . Это бесплатно для команд разработчиков пять или меньше, после какие дополнительные лицензии можно приобрести в соответствии с команда растет.
- TFS разработан для локальных серверов Windows и получить доступ через локальную сеть или VPN-подключение к этой сети. Их основное преимущество — полностью управлять конфигурацией серверов сборки и можно установить, требуются независимо от используемых дополнительного программного обеспечения и служб. TFS имеет бесплатный выпуск Express начального уровня для небольших команд.

TFS и Azure DevOps тесно интегрированные с Visual Studio и позволяют разработчикам для выполнения многих задач непрерывной Интеграции из в удобной одну интегрированную среду разработки и управления версиями. Также доступна в Team Explorer Everywhere подключаемый модуль для Eclipse (см. ниже). Visual Studio для Mac имеет [Предварительный просмотр доступных TFVC](/visualstudio/mac/tf-version-control/).

[Azure конвейеры DevOps](https://docs.microsoft.com/azure/devops/pipelines/languages/xamarin/) имеет прямую поддержку проекты Xamarin, в которых вы создаете определение сборки для каждой платформы, которые вы хотите целевой (Android, iOS и Windows). Для каждого определения построения требуется соответствующая лицензия Xamarin. Также можно подключить локальный, Xamarin с поддержкой TFS build server для DevOps в Azure для этой цели. При такой конфигурации построения, которые помещаются в очередь для DevOps в Azure будут делегированы к локальному серверу. Дополнительные сведения см. в [агенты сборки и выпуска](https://docs.microsoft.com/azure/devops/pipelines/agents/agents). Кроме того можно использовать другое средство построения, например Jenkins или городу Team.

Полный список всех функций Application Lifecycle Management (ALM) Visual Studio, Azure DevOps и Team Foundation Server, см. в разделе [DevOps с помощью приложений Xamarin](https://docs.microsoft.com/visualstudio/cross-platform/application-lifecycle-management-alm-with-xamarin-apps).

#### <a name="team-explorer-everywhere"></a>Team Explorer Everywhere

[Team Explorer Everywhere](https://docs.microsoft.com/azure/devops/java/download-eclipse-plug-in/) предоставляет возможности Team Foundation Server и Azure DevOps командам разработки вне Visual Studio. Она позволяет разработчикам подключение к командным проектам в локальной среде или в облаке из Eclipse или клиента кроссплатформенной командной строки для OS X и Linux. Team Explorer Everywhere предоставляет полный доступ к управлению версиями (включая Git), рабочим элементам и возможностям сборки для платформ, отличных от Windows.

#### <a name="git"></a>Git

[Git](http://git-scm.com) — это решение управления версии открытым исходным кодом, которое было разработано для управления исходным кодом для ядра Linux. Это очень быстрого и гибкого системы, который широко применяется с программными проектами любого размера. Его легко масштабируется из единственного разработчика с низкой доступ к Интернету для больших команд, которые уголки земного шара. Git также делает процесс ветвления очень простым, который в свою очередь, могут потребовать параллельные потоки разработки с минимальным риском.

Git могут работать в полностью основана на веб-браузеров или [графического](http://git-scm.com/downloads/guis) , работают на Linux, Mac OSX и Windows. Оно предоставляется бесплатно для общедоступных репозиториях; частные репозитории требуют [платный план](https://github.com/pricing).

Текущие версии Visual Studio для Windows и Mac предоставляют встроенную поддержку Git. Корпорация Майкрософт предоставляет [загружаемое расширение для Git](http://visualstudiogallery.msdn.microsoft.com/abafc7d6-dcaa-40f4-8a5e-d6724bdb980c) для более старых версий Visual Studio. Как отмечалось выше, Azure DevOps и TFS можно использовать Git для управления версиями вместо TFVC.

#### <a name="subversion"></a>Subversion

[Subversion](http://subversion.apache.org) (SVN) — это система управления версиями популярных открытым исходным кодом, который использовался в 2000 г. SVN работает на всех современных версий OS X, Windows, FreeBSD, Linux и Unix. Visual Studio для Mac имеет встроенную поддержку SVN. Существуют сторонние расширения, обеспечивающие поддержку SVN в Visual Studio.

### <a name="continuous-integration-environments"></a>Среды непрерывной интеграции

Среды непрерывной интеграции означает, что объединение в системе управления версиями с помощью службы сборки.  Для последнего приведены два наиболее распространенных из них.

- [Azure конвейеры](https://docs.microsoft.com/azure/devops/pipelines/) — система сборки Azure DevOps и TFS. Она тесно интегрирована с Visual Studio, делает его удобным для разработчиков для активации сборок, автоматически выполнять тесты и просматривать результаты.
- Jenkins — это сервер непрерывной Интеграции открытым исходным кодом с обширной экосистемой подключаемые модули для поддержки всех типов разработки программного обеспечения. Он работает в Windows и Mac OS X. Jenkins не интегрирована с любой определенной интегрированной среде разработки. Вместо этого его настройку и управление им с помощью веб-интерфейс. Jenkins CI является также легко установить и настроить, что делает ее привлекательным для небольших команд.

DevOps в TFS и Azure можно использовать самостоятельно или Jenkins можно использовать в сочетании с TFS или Azure DevOps или Git, как описано в следующих разделах.

#### <a name="azure-devops-and-team-foundation-server"></a>Azure DevOps и Team Foundation Server

Как уже обсуждалось, DevOps в Azure и Team Foundation Server предоставляет обе версии элемента управления и разрабатывать службы. Лицензия Xamarin Business или Enterprise всегда требуется служб сборки для каждой целевой платформы.

С DevOps в Azure Чтобы создать отдельное определение сборки для каждой целевой платформы и ввести существует соответствующая лицензия. Как только будет настроен, Azure DevOps выполнения сборки и проверки в облаке. См. в разделе [конвейеры Azure](https://docs.microsoft.com/azure/devops/pipelines/) для получения дополнительных сведений.

С Team Foundation Server Настройка компьютера сборки, как показано ниже для определенных целевых платформ:

- **Android и Windows:** Установите Visual Studio и средства Xamarin (для Android и Windows) и настройте с лицензиями Xamarin. Это также необходимо переместить, его можно найти пакет SDK для Android в общей папке на сервере, где агент сборки TFS. Дополнительные сведения см. в разделе [Настройка TFVC](https://docs.microsoft.com/azure/devops/repos/tfvc/overview).
- **iOS и Xamarin:** Установка Visual Studio и Xamarin средств на сервере Windows с соответствующей лицензией. Установите Visual Studio для Mac на доступный по сети компьютера Mac OS X, который будет служить в качестве узла сборки и создания окончательного пакета приложения (IPA для iOS, приложение для OS X).

На схеме ниже это топографии:

[![](intro-to-ci-images/intro03-small.png "Схема иллюстрирует этот топографии")](intro-to-ci-images/intro03.png#lightbox)

Можно также связать локальный сервер TFS в проект Azure DevOps, таким образом, чтобы сборки Azure DevOps делегируются на локальном сервере. Дополнительные сведения см. в разделе [агенты сборки и выпуска](https://docs.microsoft.com/azure/devops/pipelines/agents/agents/).

#### <a name="azure-devops-and-jenkins"></a>Azure DevOps и Jenkins

Если вы используете Jenkins для создания приложений, можно хранить код в DevOps в Azure или Team Foundation Server и продолжить использовать Jenkins для непрерывной Интеграции сборок. Вы можете активировать сборки Jenkins, при принудительной отправке кода в репозиторий Git командного проекта или при возврате кода в TFVC. Дополнительные сведения см. в разделе [Jenkins с Azure DevOps](https://docs.microsoft.com/azure/devops/service-hooks/services/jenkins).

[![](intro-to-ci-images/intro04-small.png "Если вы используете Jenkins для создания приложений, можно хранить код в DevOps в Azure или Team Foundation Server и продолжить использовать Jenkins для непрерывной Интеграции сборок")](intro-to-ci-images/intro04.png#lightbox)

#### <a name="git-and-jenkins"></a>Git и Jenkins

Другой общей среды непрерывной Интеграции можно полностью OS X на основе. Этот сценарий включает в себя с помощью Git для управления исходным кодом и Jenkins на сервере сборки. Оба варианта работают на одном компьютере Mac OS X с помощью Visual Studio для Mac установлен. Это очень похоже на Azure DevOps + среды Jenkins, описанных в предыдущем разделе:

[![](intro-to-ci-images/intro05-small.png "Это очень похоже на Azure DevOps + среды Jenkins, описанных в предыдущем разделе")](intro-to-ci-images/intro05.png#lightbox)

> [!IMPORTANT]
> **Jenkins — [не поддерживается корпорацией Майкрософт](~/cross-platform/troubleshooting/questions/xamarin-jenkins.md).**
