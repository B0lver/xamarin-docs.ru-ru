---
title: Общие шаблоны и способы в Xamarin.Mac
description: В этом документе описываются принципы проектирования, используемые при создании приложений Xamarin.Mac. В нем описывается шаблон model-view-controller, источника и делегат шаблоны данных и протоколов.
ms.prod: xamarin
ms.assetid: BF0A3517-17D8-453D-87F7-C8A34BEA8FF5
ms.technology: xamarin-mac
author: lobrien
ms.author: laobri
ms.date: 06/17/2016
ms.openlocfilehash: b4266582ce0cec522e207cd06987f2d0eeff8b2d
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50104340"
---
# <a name="common-patterns-and-idioms-in-xamarinmac"></a>Общие шаблоны и способы в Xamarin.Mac

На протяжении всего API Apple, предоставляемых через C# некоторые стили и шаблоны отобразились снова и снова. Если у вас есть опыт программирования с помощью Xamarin.iOS, они могут быть вам знакомы. Документация будет часто ссылаться на эти шаблоны и идиомы несколько раз, поэтому наличие основательного понимания их поможет вам разобраться в документации, которую вы найдете.

## <a name="mvc---model-view-controller"></a>MVC - Model View Controller

Model View Controller или MVC для краткости, — это очень распространенный шаблон, прослеживается по всей Cocoa. Подробное рассмотрение выходит за рамки данного документа, но вкратце это способ структурирования приложение в виде компонентов:

- **Модель** объекты представляют базовых данных, для просмотра и управления (например, адреса в адресной книге)
- **Представление** объектов обрабатывать Рисование данного объекта на экране и обработка взаимодействия с пользователем (текстовое поле для отображения адреса на экране)
- **Контроллер** объектов управляют взаимодействием между моделью и визуализацией. Они отправьте изменения модели «вверх», чтобы обновить представление и свалить «» изменения в представлении при пользователям вносить изменения в пользовательском Интерфейсе.

Если вы знакомы с MVVM (Model View ViewModel) от других библиотек, таких как WPF, контроллер выполняет аналогичную ViewModel, но часто более тесно привязан к определенным элементам пользовательского интерфейса.

Дополнительные сведения можно найти здесь:

- [Обучение MVC на веб-сайте Apple](https://developer.apple.com/library/ios/documentation/general/conceptual/devpedia-cocoacore/MVC.html)

- [Model View Controller в Objective-C](https://developer.apple.com/library/ios/documentation/general/conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html)
- [Работа с Windows](~/mac/user-interface/window.md)

## <a name="data-source--delegate--subclassing"></a>Источник данных, делегировать, создание подкласса

Другой очень распространенный шаблон в Cocoa имеет дело с предоставление данных к элементам пользовательского интерфейса и реагирует на действия пользователя. С помощью `NSTableView` в качестве примера необходимо каким-то образом предоставить данные для каждой строки, задать некоторые элементы пользовательского интерфейса, представляющий эту строку, как некоторые набор поведений в ответ на взаимодействие с пользователем и возможно некоторую часть настройки. Шаблоны данных источника и делегат позволяют обрабатывать большинство вариантов не прибегая к использованию для создания подклассов `NSTableView` самостоятельно.

- `DataSource` Свойству назначается экземпляр пользовательскому подклассу `NSTableViewDataSource` который вызывается для заполнения таблицы с данными (с помощью `GetRowCount` и `GetObjectValue`).

- `Delegate` Свойству назначается экземпляр пользовательскому подклассу `NSTableViewDelegate` для заданной модели объекта, который предоставляет представление (через `GetViewForItem`) и обрабатывает взаимодействие пользовательского интерфейса (через `DidClickTableColumn`, `MouseDownInHeaderOfTableColumn`и т. д).

В некоторых случаях необходимо настроить элемент управления в виде за пределами обработчики в делегат или источник данных и подкласс представлении вы можете напрямую. Будьте внимательны, тем не менее, во многих случаях переопределяя значение по умолчанию поведение затем нужно будет обрабатывать все это поведение (Настройка поведения выбора может потребоваться реализовать все режимы выбора).

В Xamarin.iOS, некоторые интерфейсы API, такие как `UITableView` были расширены со свойством, которое реализует делегат и источника данных (`UITableViewSource`). Это ИТ-специалистам устранить распространенные ограничение, один C# класс может иметь только один базовый класс, и наши отображая протоколов выполняется через базовые классы.

Дополнительные сведения о работе с представлениями таблиц в приложении Xamarin.Mac, см. в разделе наших [табличное представление](~/mac/user-interface/table-view.md) документации.

## <a name="protocols"></a>Протоколы

Протоколов в Objective-C можно сравнивать с интерфейсов в C#и во многих случаях используются в таких ситуациях. Например `NSTableView` приведенном выше примере делегат и источником данных — это фактически протоколы. Xamarin.Mac предоставляет их в качестве базовых классов с помощью виртуальных методов, которые можно переопределить. Основное различие между C# интерфейсов и протоколов в Objective-C является то, что некоторые методы в протокол может необязательно для реализации. Вы получите для просмотра документации и/или определение API, чтобы определить, что является необязательным.

Дополнительные сведения см. наш [делегатов, протоколов и событий](~/ios/app-fundamentals/delegates-protocols-and-events.md) документации.



## <a name="related-links"></a>Связанные ссылки

- [Представления таблиц](~/mac/user-interface/table-view.md)
- [Работа с windows](~/mac/user-interface/window.md)
- [Делегаты, протоколов и событий](~/ios/app-fundamentals/delegates-protocols-and-events.md)
- [Модель представление контроллер](https://developer.apple.com/library/ios/documentation/general/conceptual/CocoaEncyclopedia/Model-View-Controller/Model-View-Controller.html)
