---
title: Советы по устранению неполадок Xamarin.Mac
description: Этот документ описывает подходы для устранения неполадок, возникающих при разработке Xamarin.Mac приложений.
ms.topic: troubleshooting
ms.prod: xamarin
ms.assetid: 5CBC6822-BCD7-4DAD-8468-6511250D41C4
ms.technology: xamarin-mac
author: bradumbaugh
ms.author: brumbaug
ms.date: 03/14/2017
ms.openlocfilehash: 3cec5465f3f30b230cc0f4f1b865209ed327a07c
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="xamarinmac-troubleshooting-tips"></a>Советы по устранению неполадок Xamarin.Mac

## <a name="overview"></a>Обзор

Иногда мы все возникли затруднения при работе с проектом на невозможность получения API, чтобы работать так, мы хотим или при попытке устранить ошибки. Наша цель в Xamarin предназначен для успешного создания мобильных и настольных приложений и предлагаются некоторые ресурсы, помогающие.

С любым из этих ресурсов существуют некоторые шаги подготовки, которые можно предпринять для решения проблемы быстро:

- Определите основную причину проблемы, как наиболее возможных надежность работы отчета:
 
     - «Мое приложение аварийно завершает работу» трудно диагностировать. «Мое приложение аварийно завершает работу при возврате пустой массив в этот вызов» гораздо легче работать на исправлении.

     - «Не удается получить NSTable работать» полезно менее чем «Ни один из методов на мой NSTableDelegate видимому вызываться в этом случае».

- По возможности укажите небольшой пример программы, показывающая проблему. Анализировать данные по страницам, поиск проблемы исходного кода имеет порядков некоторое время и усилия.

- Если известно, что изменения, внесенные в приложении возникла проблема, отображаться быстро выявить источник проблемы. Если недавно обновили версии Xamarin.Mac, обрезки out разделы приложения, чтобы найти элемент, вызвавшем эту проблему, или тестирование предыдущих сборок, найти, какие изменения появились проблемы может оказаться очень полезным.


### <a name="what-to-do-when-your-app-crashes-with-no-output"></a>Что делать, если приложение аварийно завершает работу с выходные данные

В большинстве случаев отладчика в Visual Studio для Mac будет перехватывать исключения и аварийно завершает работу в приложении и помогает отслеживать работу основную причину. Тем не менее существуют случаи, где приложение будет переходить на дока и завершает работу с минимумом или совсем без выходных данных. Например:

- Проблемы подписи кода.
- Некоторые mono среды выполнения аварийно завершает работу.
- Некоторые исключения Objective-c и сбоев.
- Некоторые очень рано время существования процесса аварийно завершает работу.
- Некоторые стека переполнения.
- MacOS версии, перечисленные в вашей **Info.plist** новее, чем macOS текущей установленной версии, или он является недопустимым.

Отладку этих программ может быть утомительным, как поиск могут затруднить необходимые сведения. Ниже приведены несколько подходов, которые могут быть полезны.

- Убедитесь, что версия macOS, перечисленных в **Info.plist** совпадает с одной версии macOS, установленные на компьютере.
- Проверьте Visual Studio для выходных данных приложения Mac (**представление** -> **дополняет** -> **выходных данных приложения**) для трассировку стека или выход красным из Cocoa, могут описывать выходные данные.
- Запустите приложение из командной строки и просмотрите выходные данные (в **терминалов** приложения) с помощью: 

     `MyApp.app/Contents/MacOS/MyApp` (где `MyApp` — имя приложения)
- Выходные данные можно увеличить путем добавления «MONO_LOG_LEVEL» в команду в командной строке, например: 

     `MONO_LOG_LEVEL=debug MyApp.app/Contents/MacOS/MyApp`
- Невозможно присоединить отладчик машинного кода (`lldb`) к процессу для просмотра, любые дополнительные сведения (для этого требуется платная лицензии). Например выполните следующие действия.

    1. Введите `lldb MyApp.app/Contents/MacOS/MyApp` в окне терминала.
    2. Введите `run` в окне терминала.
    3. Введите `c` в окне терминала.
    4. Выход после завершения отладки.
- В качестве последнего средства, перед вызовом `NSApplication.Init` в ваш `Main` метод (или в других местах, при необходимости), можно написать текст в файл в известном расположении отследить в какой шаг запуска под управлением неприятности.

## <a name="known-issues"></a>Известные проблемы

В следующих разделах описываются известные проблемы и способы их решения.

### <a name="unable-to-connect-to-the-debugger-in-sandboxed-apps"></a>Не удается подключиться к отладчику в изолированных приложениях

Отладчик подключается к приложениям Xamarin.Mac через TCP, это означает, что по умолчанию при включении песочницы, не удается подключиться к приложению, поэтому при попытке запустить приложение без соответствующих разрешений, который включен, возникает сообщение об ошибке *«не удалось подключиться к отладчик»*. 

[![Изменение прав](troubleshooting-images/debug01.png "редактирование прав")](troubleshooting-images/debug01-large.png#lightbox)

**Разрешить исходящих сетевых соединений (клиент)** разрешение является требуемую для отладчика, включение этого класса, позволит отладку в обычном режиме. Поскольку нельзя выполнять отладку без него, мы обновили `CompileEntitlements` целевого объекта для `msbuild` для автоматического добавления этого разрешения прав для любого приложения, изолированным для отладки только сборок. Построения выпуска следует использовать права, указанные в файле прав, без изменений.

### <a name="systemnotsupportedexception-no-data-is-available-for-encoding-437"></a>System.NotSupportedException: данные недоступны для кодирования 437
 
При включении библиотеки сторонних производителей в приложении Xamarin.Mac, может появиться ошибка в форме «System.NotSupportedException: данные недоступны для кодирования 437» при попытке скомпилировать и запустить приложение. Например, библиотеки, такие как `Ionic.Zip.ZipFile`, может вызвать это исключение во время операции.

Это могут быть устранены, открыв параметры проекта Xamarin.Mac, перейдите в **построения Mac** > **интернационализации** и проверка **Западная** Интернационализация:

[![Изменение параметров сборки](troubleshooting-images/issue01.png "Editing the build options")](troubleshooting-images/issue01-large.png#lightbox)

### <a name="failed-to-compile-mm5103"></a>Не удалось скомпилировать (mm5103)

Эта ошибка обычно возникает при новой версии Xcode — выпуск и установки новой версии, но не еще запущена. Прежде чем пытаться компилировать с новой версией Xcode, необходимо сначала запустить этой версии по крайней мере один раз.

Первый раз, при запуске новой версии Xcode, он устанавливает ряд средств командной строки, которые требуются Xamarin.Mac. Кроме того это следует делать после обновления с помощью Xcode или вашей версии Xamarin.Mac чистую сборку.

Если не удается устранить эту проблему, обратитесь за помощью [файл ошибку](#filing-a-bug).

### <a name="missing-entitlementsplist"></a>Отсутствует entitlements.plist

Последнюю версию Visual Studio для Mac удален раздел прав из **Info.plist** редактора и он помещен в отдельных **Entitlements.plist** редактор (для улучшения поддержки кросс платформенных с помощью Xamarin.iOS).

С помощью нового Visual Studio для Mac установлена, при создании нового проекта приложения Xamarin.Mac **Entitlements.plist** файл будет автоматически добавлен в дереве проекта:

![При выборе прав](troubleshooting-images/entitlements01.png "при выборе прав")

Если дважды щелкнуть **Entitlements.plist** будет отображен файл в редакторе прав:

[![Изменение прав](troubleshooting-images/entitlements02.png "редактирование прав")](troubleshooting-images/entitlements02-large.png#lightbox)

Для существующих проектов Xamarin.Mac, необходимо вручную создать **Entitlements.plist** файл путем щелчка правой кнопкой мыши проект в **Pad решения** и выбрав **добавить**  >  **Новый файл...** . Затем выберите **Xamarin.Mac** > **пустой список свойств**:

![Добавление нового списка свойств](troubleshooting-images/entitlements03.png "Добавление нового списка свойств")

Введите `Entitlements` имя и нажмите кнопку **New** кнопки. Если проект ранее файл прав, будет предложено добавить его в проект, а не создавать новый файл:

[![Проверка перезаписи файла](troubleshooting-images/entitlements04.png "проверка перезаписи файла")](troubleshooting-images/entitlements04-large.png#lightbox)

## <a name="contacting-support-business-or-enterprise-licenses"></a>Обращение в службу поддержки (business или корпоративных лицензий)

Если у вас есть бизнес- или Корпоративная лицензия, вы имеете право запрос помощи непосредственно из инженеров Xamarin через запросами в службу поддержки. В разделе [xamarin.com/support](http://xamarin.com/support) подробные сведения.

## <a name="community-support-on-the-forums"></a>Поддержка сообщества на форумах

Удивительно, сообщество разработчиков, использующих продукты Xamarin, а также многие наши [Xamarin.Mac форумы](http://forums.xamarin.com/categories/mac) чтобы поделиться опытом. Кроме того Xamarin инженеров периодически посетите форум для справки.

<a name="filing-a-bug"/>

## <a name="filing-a-bug"></a>Ошибки регистрации

Ваши отзывы очень важны для нас. Если проблемы с Xamarin.Mac обнаружены:

- Проверьте [репозиторий проблем](https://github.com/xamarin/xamarin-macios/issues). 
- До перехода на GitHub проблемы Xamarin отслеживались в [Bugzilla](https://bugzilla.xamarin.com/describecomponents.cgi). Попробуйте найти там похожие проблемы.
- Если вы не можете найти проблему, с которой столкнулись, поместите ее описание в [репозиторий проблем GitHub](https://github.com/xamarin/xamarin-macios/issues/new).

Все проблемы GitHub находятся в открытом доступе. Здесь нет возможности скрыть комментарии или вложения. 

Предоставьте следующие сведения с максимально возможными подробностями.                                                                                                                                          

- Простой пример, воспроизводящий проблему, если это возможно. Такая помощь будет **бесценной**. 
- Полная трассировка стека после сбоя.
- Код C#, относящийся к проявлению сбоя. 
