---
title: Советы по устранению неполадок Xamarin.Mac
description: В этом документе описаны подходы для решения проблем, возникающих при разработке приложений Xamarin.Mac. Здесь также рассматриваются способы получения поддержки.
ms.topic: troubleshooting
ms.prod: xamarin
ms.assetid: 5CBC6822-BCD7-4DAD-8468-6511250D41C4
ms.technology: xamarin-mac
author: lobrien
ms.author: laobri
ms.date: 03/14/2017
ms.openlocfilehash: f498aab5bfaffc08a22f62a318f8f9f73ab0afca
ms.sourcegitcommit: 4b402d1c508fa84e4fc3171a6e43b811323948fc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61237608"
---
# <a name="xamarinmac-troubleshooting-tips"></a>Советы по устранению неполадок Xamarin.Mac

## <a name="overview"></a>Обзор

Иногда мы все застрять при работе над проектом, невозможность получения API для работы того, который мы хотим или в попытке устранить ошибки. Наша цель в Xamarin для для успешной работы в написании мобильных и настольных приложений, и приведены некоторые материалы для ознакомления.

При любой из этих ресурсов существуют некоторые шаги подготовки, которые можно предпринять, чтобы помочь ему устранять проблемы быстро:

- Определения основной причины проблемы, как лучше всего возможно, чтобы сбои отчетов:
 
     - «Мое приложение аварийно завершает работу» трудно диагностировать. «Мое приложение аварийно завершает работу при возврате пустой массив в этот вызов» гораздо проще работать над решением проблемы.

     - «Не удается получить NSTable работы» менее полезно в том случае, чем «Ни один из методов, на мой NSTableDelegate видимому вызываться в этом случае».

- По возможности укажите программы небольшой пример, показывающий проблему. Углубиться по страницам исходного кода, ищете проблему принимает порядков больше времени и усилий.

- Зная, что изменения, внесенные в приложении возникла проблема, для отображения можно быстро сузить источник проблемы. Если вы недавно обновили версиях Xamarin.Mac, сокращение out части приложения позволяет найти такой элемент, вызвавшем эту проблему, или тестирование предыдущих сборок, найти, какие версии представлено изменение, проблема может быть очень полезным.


### <a name="what-to-do-when-your-app-crashes-with-no-output"></a>Что нужно делать при аварийном завершении работы приложения без выходных данных.

В большинстве случаев отладчика в Visual Studio для Mac будет перехватывать исключения и аварийно завершает работу в приложении и помогают отслеживать корневые причины. Тем не менее существуют случаи где возврата на панель закрепления и выйдите из приложения с незначительной или нулевой выходных данных. Они могут включать:

- Проблемам цифровых подписей.
- Некоторые среды выполнения mono аварийно завершает работу.
- Некоторые исключения Objective-c и сбоев.
- Некоторые очень рано время существования процесса аварийно завершает работу.
- Некоторые стека переполнения.
- MacOS версии, перечисленные в вашей **Info.plist** новее, чем установленная сейчас macOS версии или он является недопустимым.

Отладку этих программ может быть утомительным, как найти сведения, необходимые довольно сложно. Ниже приведены несколько подходов, которые могут помочь.

- Убедитесь, что версия macOS, перечисленные в **Info.plist** аналогичен тому, как версия macOS, установленные на компьютере.
- Проверьте в Visual Studio для Mac выходные данные приложения (**представление** -> **панелей** -> **выходные данные приложения**) для трассировки стека или выходных красным из Cocoa, могут описывать выходные данные.
- Запустите приложение из командной строки и просмотрите выходные данные (в **терминалов** приложения) с помощью: 

     `MyApp.app/Contents/MacOS/MyApp` (где `MyApp` — имя приложения)
- Выходные данные можно увеличить путем добавления «MONO_LOG_LEVEL» в команду в командной строке, например: 

     `MONO_LOG_LEVEL=debug MyApp.app/Contents/MacOS/MyApp`
- Вы можете вложить отладчик машинного кода (`lldb`) для вашего процесса, чтобы узнать, предоставляет дополнительные сведения (для этого требуется платная лицензия). Например сделайте следующее:

    1. Введите `lldb MyApp.app/Contents/MacOS/MyApp` в окне терминала.
    2. Введите `run` в окне терминала.
    3. Введите `c` в окне терминала.
    4. Выход после завершения отладки.
- В качестве последнего средства, перед вызовом `NSApplication.Init` в вашей `Main` метод (или в других местах, при необходимости), можно написать текст в файл в известном месте отследить в какой шаг запуска у вас возникли проблемы.

## <a name="known-issues"></a>Известные проблемы

В следующих разделах описываются известные проблемы и способы их решения.

### <a name="unable-to-connect-to-the-debugger-in-sandboxed-apps"></a>Не удалось подключиться к отладчику в изолированных приложениях

Отладчик подключается к приложений Xamarin.Mac по протоколу TCP, это означает, что по умолчанию при включении "песочницы", он не сможет подключиться к приложению, поэтому при попытке запустить приложение без необходимых разрешений, которые включены, отобразится сообщение об ошибке *«не удалось подключиться к отладчик»*. 

[![Редактирование назначений](troubleshooting-images/debug01.png "редактирование назначений")](troubleshooting-images/debug01-large.png#lightbox)

**Разрешить исходящих сетевых подключений (клиент)** разрешение является требуется для отладчика, включение этой позволит отладку в обычном режиме. Так как не удается выполнить отладку без него, мы обновили `CompileEntitlements` целевого объекта для `msbuild` для автоматического добавления этого разрешения права доступа для любого приложения, хранятся в изолированной среде отладки только сборок. Сборки выпуска следует использовать права, указанные в файле прав, без изменений.

### <a name="systemnotsupportedexception-no-data-is-available-for-encoding-437"></a>System.NotSupportedException: данные недоступны для кодирования 437
 
Когда в приложении Xamarin.Mac, включая библиотеки сторонних производителей, может возникнуть ошибка в форме «System.NotSupportedException: Данные недоступны для кодирования 437" при попытке скомпилировать и запустить приложение. Например, библиотеки, такие как `Ionic.Zip.ZipFile`, может вызвать это исключение во время операции.

Это можно решить, открыв параметры проекта Xamarin.Mac, собираетесь **сборки Mac** > **интернационализации** и проверка **Западная** Интернационализация:

[![Изменение параметров сборки](troubleshooting-images/issue01.png "Editing the build options")](troubleshooting-images/issue01-large.png#lightbox)

### <a name="failed-to-compile-mm5103"></a>Не удалось скомпилировать (mm5103)

Эта ошибка обычно происходит, когда новая версия Xcode выпуска и установки новой версии, но нет, но запустите его. Прежде чем пытаться компилировать с помощью более новой версии Xcode, необходимо сначала запустить этой версии по крайней мере один раз.

Первый раз, при запуске новой версии Xcode, устанавливаются несколько средств командной строки, которые требуются Xamarin.Mac. Кроме того это следует выполнить чистую сборку после обновления, Xcode или ваша версия Xamarin.Mac.

Если не удается разрешить эту проблему, [зарегистрировать ошибку](#filing-a-bug).

### <a name="missing-entitlementsplist"></a>Отсутствует entitlements.plist

Последнюю версию Visual Studio для Mac удалила раздел, посвященный назначениям из **Info.plist** редактора и помещен в отдельных **Entitlements.plist** редактор (для улучшения поддержки платформ с помощью Xamarin.iOS).

С помощью новой Visual Studio для Mac, при создании нового проекта приложения Xamarin.Mac, **Entitlements.plist** файл будет автоматически добавлен в дерево проектов:

![Выбрать права](troubleshooting-images/entitlements01.png "выбрать права")

Если дважды щелкнуть **Entitlements.plist** откроется файл, редактор объемов обслуживания:

[![Редактирование назначений](troubleshooting-images/entitlements02.png "редактирование назначений")](troubleshooting-images/entitlements02-large.png#lightbox)

Для существующих проектов Xamarin.Mac, необходимо вручную создать **Entitlements.plist** файла щелкните правой кнопкой мыши проект в **панели решения** и выбрав **добавить**  >  **Новый файл...** . Затем выберите **Xamarin.Mac** > **пустой список свойств**:

![Добавить новый список свойств](troubleshooting-images/entitlements03.png "Добавление новый список свойств")

Введите `Entitlements` имя и нажмите кнопку **New** кнопки. Если ранее проекте включен файл прав, вам будет предложено добавить его в проект, а не создавать новый файл:

[![Проверка перезаписи файла](troubleshooting-images/entitlements04.png "проверка перезаписи файла")](troubleshooting-images/entitlements04-large.png#lightbox)

## <a name="community-support-on-the-forums"></a>Поддержка сообщества на форумах

Удивительно, сообщество разработчиков, с помощью продуктов Xamarin, а также многие наши [форумы Xamarin.Mac](http://forums.xamarin.com/categories/mac) совместно использовать опыт и знания. Кроме того Xamarin инженеров периодически посетите форум для справки.

<a name="filing-a-bug"/>

## <a name="filing-a-bug"></a>Отправка ошибки

Ваш отзыв важен для нас. Если вы нашли проблемах с Xamarin.Mac:

- Проверьте [репозиторий проблем](https://github.com/xamarin/xamarin-macios/issues). 
- До перехода на GitHub проблемы Xamarin отслеживались в [Bugzilla](https://bugzilla.xamarin.com/describecomponents.cgi). Попробуйте найти там похожие проблемы.
- Если вы не можете найти проблему, с которой столкнулись, поместите ее описание в [репозиторий проблем GitHub](https://github.com/xamarin/xamarin-macios/issues/new).

Все проблемы GitHub находятся в открытом доступе. Здесь нет возможности скрыть комментарии или вложения. 

Предоставьте следующие сведения с максимально возможными подробностями.                                                                                                                                          

- Простой пример, воспроизводящий проблему, если это возможно. Такая помощь будет **бесценной**. 
- Полная трассировка стека после сбоя.
- Код C#, относящийся к проявлению сбоя. 
