---
title: Регистратор Xamarin.Mac
description: В этом документе описано назначение регистратора Xamarin.Mac и его динамических, статических и частичные статическое (гибридная среда) об использовании конфигураций.
ms.prod: xamarin
ms.assetid: 7CAAA6B7-D654-4AD3-BAEC-9DD01210978A
ms.technology: xamarin-mac
author: lobrien
ms.author: laobri
ms.date: 11/10/2017
ms.openlocfilehash: 21e1a2c6ae5a9ad8b6acf520851ea92a340da887
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50119420"
---
# <a name="xamarinmac-registrar"></a>Регистратор Xamarin.Mac

_В этом документе описано назначение регистратор Xamarin.Mac и его различных способов использования конфигураций._

## <a name="overview"></a>Обзор

Xamarin.Mac ликвидирует разрыв между управляемым миром (.NET) и среды выполнения Cocoa, позволяя управляемых классов для вызова неуправляемых классов Objective-C и обратного вызова при возникновении событий. Работ, необходимый для выполнения «волшебных» обрабатывается регистратор и вообще говоря, скрыто от просмотра.

Это влияет на производительность этой регистрации, а именно на время запуска приложения и основные сведения о немного что происходит «за кулисами» иногда могут оказаться полезными.

## <a name="configurations"></a>Конфигурации

По сути регистратора задание при запуске можно разделить на две категории:

- Проверка каждого управляемого класса для тех, производное от NSObject и сбора списка элементов в среде выполнения Objective-C.
- Зарегистрируйте эту информацию в среде выполнения Objective-C.

Со временем три разных регистратора конфигурации будут созданы для охвата разных вариантов использования. Каждый другой сборки, ее последствия времени:

- **Динамические регистратора** — во время запуска, использовать отражение .NET для сканирования всех загруженных типов, определить список соответствующих объектов и сообщать собственной среды выполнения. Этот параметр добавляет нулевым временем сборки, но является очень ресурсоемким для вычисления во время запуска (до нескольких секунд).
- **Статические регистратора** — во время сборки, вычисления набора элементов, регистрироваться и создавать код Objective-C процессом регистрации. Этот код вызывается во время запуска, чтобы быстро зарегистрировать все элементы. Добавляет значительные паузы для сборки, но можно вырезать значительный объем времени от запуска приложения.
- **«Частичных» static** — новой подход «смешанный», что дает большую часть преимущества обоих. С момента экспорты из **Xamarin.Mac.dll** являются постоянными, Сохранить библиотеку предварительно вычисляемых для обработки их регистрации и привязки, в. Используете отражение для обработки библиотеках пользователей, но как библиотек пользователей Экспорт гораздо меньше типов, что привязки платформы часто это довольно быстро. Neglectable создавать временные затраты на и снижает подавляющее большинство случаев «стоимость» dynamic.

Сегодня частичного статический используется по умолчанию для конфигурации отладки и статический используется по умолчанию для выпуска.

В некоторых ситуациях:

- Подключаемые модули загружаются после запуска классов, производных от NSObject
- Динамически созданные экземпляры класса, производное от NSObject

там, где регистратор не может знать, что ему необходимо зарегистрировать некоторого типа в начале. `ObjCRuntime.Runtime.RegisterAssembly` Метод предоставляется для информирования регистратора, что он имеет дополнительные типы, которые следует учитывать.
