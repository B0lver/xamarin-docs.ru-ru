---
title: Введение в macOS Sierra
description: В этой статье представлены все новые и измененные API-интерфейсы и функции, доступные в macOS Sierra для разработчиков Xamarin. Mac.
ms.prod: xamarin
ms.assetid: 71A8A737-F310-4320-BD23-743AA1E9033C
ms.technology: xamarin-mac
author: conceptdev
ms.author: crdun
ms.date: 03/14/2017
ms.openlocfilehash: b452d4b0a75a64349692c633a8c1bee6a8770256
ms.sourcegitcommit: 933de144d1fbe7d412e49b743839cae4bfcac439
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2019
ms.locfileid: "70290920"
---
# <a name="introduction-to-macos-sierra"></a>Введение в macOS Sierra

Благодаря новому macOS Sierra разработчик может воспользоваться преимуществами новых интерфейсов API, которые позволяют конечному пользователю взаимодействовать с приложениями и веб-сайтами в ранее недоступных способах. Например, Apple теперь позволяет веб-сайтам предоставлять клиентам возможность безопасной оплаты с помощью Apple Pay и усовершенствований металлической инфраструктуры, повышающих качество графики и вычислительных ресурсов приложения. 

Дополнительные сведения о macOS Sierra см. в документации Apple [macOS + Apps](https://developer.apple.com/macos/) .

<a name="Whats-New-in-macOS-Sierra" />

## <a name="whats-new-in-macos-sierra"></a>Новые возможности macOS Sierra

Компания Apple добавила несколько новых интерфейсов API и служб в macOS Sierra вместе с множеством усовершенствований существующих функций, включая следующие:

<a name="Apple-File-System" />

### <a name="apple-file-system"></a>Файловая система Apple

С macOS Sierra компания Apple выпустила новую файловую систему Apple в качестве современной файловой системы для iOS, macOS, tvOS и watchOS. Файловая система Apple была оптимизирована для хранилища Flash и SSD и предоставляет следующие возможности: надежное шифрование, копирование метаданных при записи, совместное использование пространства, клонирование файлов и каталогов, моментальные снимки, быстрое изменение размера каталога и атомарные примитивы сохранения.

Дополнительные сведения [см. в](https://developer.apple.com/library/prerelease/content/documentation/FileManagement/Conceptual/APFS_Guide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40016999)этом разделе.

<a name="Apple-Pay-Enhancements" />

### <a name="apple-pay-enhancements"></a>Улучшения Apple Pay

Компания Apple предоставила несколько усовершенствований Apple Pay в macOS Sierra, позволяющих пользователям выполнять безопасных платежей с веб-сайтов.

При использовании macOS Sierra были добавлены несколько новых API, которые работают с macOS Sierra, iOS и watchOS для поддержки динамических платежных сетей и новой тестовой среды "песочницы".

macOS Sierra включает новую платформу JavaScript ApplePay, которая позволяет разработчику внедрять Apple Pay непосредственно в веб-сайты на базе iOS и macOS Safari. Для веб-сайтов, поддерживающих Apple Pay, пользователь может авторизовать оплату с помощью iPhone или Apple Watch.

Дополнительные сведения см. в справочнике по [платформе Apple APPLEPAY JS](https://developer.apple.com/reference/applepayjs) .

<a name="Building-Modern-macOS-Apps" />

### <a name="building-modern-macos-apps"></a>Создание современных приложений macOS

Современные macOS приложения, такие как Интернет-браузер Safari, страницы «обработчик слов» и «число страниц», используют множество новых технологий для представления унифицированного контекстно-зависимого пользовательского интерфейса, который не работает с традиционными элементами пользовательского интерфейса, такими как плавающие панели и несколько открытых Windows.

[![Пример окна Mac с вкладками](images/content08.png)](images/content08.png#lightbox)

В руководстве по [созданию современных приложений macOS](~/mac/platform/introduction-to-macos-sierra/modern-cocoa-apps.md) описаны некоторые советы, функции и методы, которые разработчик может использовать для создания современного приложения MacOS на Xamarin. Mac.

<a name="CloudKit-Data-Sharing" />

### <a name="cloudkit-data-sharing"></a>Общий доступ к данным CloudKit

Платформа CloudKit была расширена в macOS Sierra, чтобы пользователи могли быстро и легко предоставлять общий доступ к записям или наборам записей из своих частных баз данных iCloud.

CloudKit предоставляет полный пользовательский интерфейс для отправки и принятия приглашений на общий доступ к записям, а пользователь получает полный контроль над пользователями, имеющими доступ к записям.

Дополнительные сведения см. в статье Справочник по [платформе CloudKit](https://developer.apple.com/reference/clockkit) для Apple и [Справочник по CloudKit JS](https://developer.apple.com/reference/cloudkitjs).

> [!IMPORTANT]
> Компания Apple [предоставляет инструменты](https://developer.apple.com/support/allowing-users-to-manage-data/), которые помогают разработчикам надлежащим образом соблюдать Общий регламент по защите данных Европейского союза (GDPR).

<a name="Safari-App-Extensions-Support" />

### <a name="safari-app-extensions-support"></a>Поддержка расширений приложений Safari

Расширения приложений Safari позволяют приложению расширять поведение веб-браузера Safari при тесной интеграции с macOS Sierra. Так как расширения приложения macOS Safari работают так же, как расширения iOS Safari, их легко перенести с одной системы на другую.

Дополнительные сведения см. в разделе [руководств по программированию расширения приложения Safari](https://developer.apple.com/library/prerelease/content/documentation/NetworkingInternetWeb/Conceptual/SafariAppExtension_PG/index.html#//apple_ref/doc/uid/TP40017319)для Apple.

<a name="Security-and-Privacy-Enhancements" />

### <a name="security-and-privacy-enhancements"></a>Улучшения безопасности и конфиденциальности

Компания Apple внесла несколько усовершенствований в безопасность и конфиденциальность в macOS Sierra, которые помогут приложению улучшить безопасность приложения и обеспечить конфиденциальность конечного пользователя, включая следующие:

- Новый `NSAllowsArbitraryLoadsInWebContent` ключ можно добавить в `Info.plist` файл приложения и разрешить правильную загрузку веб-страниц, пока Защита транспорта Apple (ATS) все еще включена для остальной части приложения.
- API общей архитектуры безопасности данных (CDSA) является устаревшим и должен быть заменен API Секкэй для создания асимметричных ключей.
- Для всех подключений SSL/TLS симметричный Шифр RC4 теперь отключен по умолчанию. Кроме того, интерфейс API защищенного транспорта больше не поддерживает SSLv3, поэтому рекомендуется как можно быстрее приостанавливаться к работе приложения с шифрованием SHA-1 и 3DES.
- Так как новый буфер обмена в iOS 10 и macOS Sierra позволяет пользователю копировать и вставлять данные между устройствами, API был развернут, чтобы позволить буферу обмена быть ограниченным на определенное устройство и иметь отметки времени для автоматического сброса в заданной точке. Кроме того, именованные монтажные панели больше не сохраняются и должны быть заменены контейнерами общих монтажных столе.
- Если приложение обращается к защищенным данным (например, к календарю пользователя), оно _должно_ объявлять это намерение с правильным ключом строки цели в своем `Info.plist` файле (`NSCalendarUsageDescription` в случае календаря).
- Приложения, подписанные разработчиками, которые не доставляются через Mac App Store, теперь могут использовать преимущества CloudKit, цепочки ключей iCloud, накопителя iCloud, удаленных push-уведомлений, Мапкит и прав VPN.
- macOS Sierra больше не поддерживает предоставление внешнего кода или данных вместе с приложением для подписания кода в ZIP-архиве или образе неподписанного диска, так как путь среды выполнения неизвестен до выполнения.

Кроме того, приложения, работающие на macOS Sierra (или более поздней версии), должны статически объявлять свои цели для доступа к конкретным функциям или сведениям о пользователях, вводя один или несколько соответствующих ключей конфиденциальности в свои `Info.plist` файлы, объясняющие пользователю, почему приложение хочет получить имеет.

Так как macOS Sierra использует эти изменения совместно с iOS 10, дополнительные сведения см. в статье об [усовершенствованиях по безопасности и конфиденциальности](~/ios/app-fundamentals/security-privacy.md) в iOS 10.

<a name="Smart-Card-Driver-Extension-Support" />

### <a name="smart-card-driver-extension-support"></a>Поддержка расширения драйвера смарт-карты

С помощью macOS Sierra приложение может создавать `NSExtension` драйверы смарт-карт на основе, которые обеспечивают доступ только для чтения к содержимому из определенных типов смарт-карт. Эта информация затем представлена в цепочке ключей системы (замена устаревшего метода общей архитектуры безопасности данных).

Дополнительные сведения см. в [справочнике по платформе криптотокенкит](https://developer.apple.com/reference/cryptotokenkit)для Apple.

<a name="Unified-Logging" />

### <a name="unified-logging"></a>Единое ведение журнала

Единое ведение журнала предоставляет приложению единый API для эффективного обмена сообщениями на всех уровнях системы. Благодаря единому ведению журнала приложение имеет детальный контроль над несколькими уровнями ведения журнала, которые включают элементы управления конфиденциальностью и отслеживание действий для упрощения отладки. 

Ведение журнала обеспечивает автоматическую корреляцию сообщений при одновременном использовании отслеживания и ведения журнала действий.

macOS Sierra включает в себя новое консольное приложение (в приложениях и служебных программах), которое может отображать данные журналов из нескольких источников, включая подключенные устройства. Он также поддерживает маркеры и сохраненные поисковые запросы и отображает соединения между связанными сообщениями в нескольких процессах.

Кроме того, сообщения журнала можно просматривать и обслуживать с помощью программ командной строки.

Дополнительные сведения см. в [справочнике по ведению журнала](https://developer.apple.com/documentation/os/logging)Apple.

<a name="Wide-Color" />

### <a name="wide-color"></a>Широкая цветовая палитра

macOS Sierra расширяет поддержку форматов пикселей с расширенным диапазоном и цветовых пространств для широких палитр по всей системе, включая такие платформы, как основные графические изображения, основные образы, металлические и Авфаундатион. Поддержка устройств с широкими цветами больше облегчило, предоставляя такое поведение во всем стеке графики.

Кроме того `AppKit` , изменено для работы в новом расширенном колорспаце **sRGB** , что упрощает смешение цветов в широких цветовых палитрах без значительной потери производительности.

При работе с широкими цветами Apple предлагает следующие рекомендации:

- `NSColor`Теперь использует цветовое пространство sRGB и больше не будет заменять значения `0.0` в `1.0` диапазоне до. Если приложение использует предыдущее поведение среза, его необходимо изменить для macOS Sierra.
- При использовании низкоуровневых API, таких как основные графические или металлы для обработки изображений, приложение должно использовать расширенное цветовое пространство и формат пикселей, поддерживающий 16-разрядные значения с плавающей точкой. При необходимости приложению придется вручную закрасить значения компонентов цвета.
- Базовые шейдеры основной графики, основного образа и металлических характеристик предоставляют новые методы для преобразования между двумя цветовыми пространствами.

Дополнительные сведения см. в статье [Введение в широкую цветовую](~/ios/platform/wide-color.md) палитру.

<a name="Additional-Framework-Changes" />

## <a name="additional-framework-changes"></a>Дополнительные изменения платформы

В дополнение к основным изменениям и дополнениям, перечисленным выше, Apple сделала множество дополнительных изменений незначительной платформы в macOS Sierra.

Чтобы узнать больше, ознакомьтесь с нашим [дополнительным руководством по изменениям в платформе](~/mac/platform/introduction-to-macos-sierra/additional-framework-changes.md) .

<a name="Deprecated-APIs" />

## <a name="deprecated-apis"></a>Устаревшие интерфейсы API

Следующие API-интерфейсы не рекомендуются в macOS Sierra:

- Стандартная файловая система HFS больше не поддерживается.

Полный список устаревших и нерекомендуемых изменений см. в документации по отличиям [API Apple macOS v 10.12](https://developer.apple.com/library/archive/releasenotes/General/APIDiffsMacOS10_12/index.html) .

## <a name="related-links"></a>Связанные ссылки

- [Примеры Mac](https://docs.microsoft.com/samples/browse/?products=xamarin&term=Xamarin.Mac)
- [Новые возможности в macOS 10,12](https://developer.apple.com/library/prerelease/content/releasenotes/MacOSX/WhatsNewInOSX/Articles/OSXv10.html#//apple_ref/doc/uid/TP40017145-SW1)
