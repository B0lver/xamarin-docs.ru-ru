---
title: Функции без описания операций
description: В этой статье предоставляет общий обзор новых возможностей, представленных в Android 5.0 (без описания операций). Эти функции включают тип интерфейса пользователя вызывается материал темы, а также новые вспомогательные функции, такие как анимации, представление теней и оттенков drawable. Android 5.0 также включает улучшенную уведомления, две новые мини-приложения пользовательского интерфейса, новый планировщик заданий и небольшое число новых API для улучшения хранилища, сети, подключение и мультимедийных данных.
ms.prod: xamarin
ms.assetid: 1CE99CFE-FAAC-49FC-AEDC-1A21FC6E946E
ms.technology: xamarin-android
author: mgmclemore
ms.author: mamcle
ms.date: 02/16/2018
ms.openlocfilehash: cdef611525abbe4f066959c0ac56380b1c617747
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="lollipop-features"></a>Функции без описания операций

_В этой статье предоставляет общий обзор новых возможностей, представленных в Android 5.0 (без описания операций). Эти функции включают тип интерфейса пользователя вызывается материал темы, а также новые вспомогательные функции, такие как анимации, представление теней и оттенков drawable. Android 5.0 также включает улучшенную уведомления, две новые мини-приложения пользовательского интерфейса, новый планировщик заданий и небольшое число новых API для улучшения хранилища, сети, подключение и мультимедийных данных._

## <a name="lollipop-overview"></a>Общие сведения о без описания операций

Android 5.0 (без описания операций) появился новый язык разработки, *разработки материал*, и с ним вспомогательного приведения новых возможностей, чтобы упростить и интуитивно понятными для использования приложения. С помощью конструктора материал Android 5.0 не только дает телефонов Android обновлению; Он также предоставляет новый набор правил разработки для планшетных ПК на базе Android, настольных компьютеров, отслеживает и смарт-телевизоры. Следующие правила создания подчеркнуть простоту и minimalism делая для помогают пользователям быстро и интуитивно понимаем интерфейс используется знакомый tactile атрибутов (например, реалистичный подсказки поверхности и границей).

*Существенные темы* — это воплощение принципы разработки пользовательского интерфейса в Android. В этой статье начинается, рассмотрев функции вспомогательные материалы темы:

-   **Анимации** &ndash; *Touch отзыв* анимации, *перехода действия* анимации, *перехода состояния просмотра* анимации и *выявить эффект*.

-   **Просмотр тени и повышение** &ndash; представления теперь имеют `elevation` свойство; представления с выше `elevation` значения приведены большего теней на заднем плане.

-   **Цвет функции** &ndash; *Drawable оттенков* позволяет использовать ресурсы изображений, изменяя их цвет и *извлечения Показательным цвет* позволяет динамически Тема приложения на основании цветов в изображении.

Многие возможности уже встроены в тему материал Интерфейсе Android 5.0 возникают, пока другим пользователям необходимо явно добавить в приложения. Например, некоторые стандартные представления (таких как кнопки) уже include анимации отзыв сенсорный ввод, приложения необходимо включить большинство shadows представления.

Помимо улучшения пользовательского интерфейса, приводящими через темы материал Android 5.0 включает несколько новых возможностей, описанных в этой статье:

-   **Расширенное уведомления** &ndash; уведомления в Android 5.0 были значительно обновлены, и новый внешний вид, поддержка уведомлений экрана блокировки и новый *специальный* формат представления уведомлений.

-   **Новые мини-приложения пользовательского интерфейса** &ndash; новый `RecyclerView` мини-приложения упрощает для приложений для передачи больших наборов данных и множество данных и новый `CardView` мини-приложения предоставляет формат упрощенного особыми представления для отображения текста и изображения.

-   **Новые API** &ndash; Android 5.0 добавляет новые интерфейсы API для поддержки нескольких сети, улучшенное подключение Bluetooth, упрощает управление хранилищем и более гибкое управление мультимедиа-проигрыватели и камер. Функция планирования нового задания будут доступны для выполнения задачи асинхронно в запланированное время. Эта функция позволяет повысить времени работы батареи, например, планирование задач при подключении устройства и ряд заряжается.


## <a name="requirements"></a>Требования

Для использования новых возможностей Android 5.0 приложения на основе Xamarin требуется следующее.

-   **Xamarin.Android** &ndash; Xamarin.Android 4.20 или более поздней версии необходимо установить и настроить с помощью Visual Studio или Visual Studio для Mac. 

-   **Пакет SDK для Android** &ndash; Android 5.0 (API 21) должен быть установлен через диспетчер Android SDK.

-   **Java Developer Kit** &ndash; требует Xamarin.Android [JDK 1.8](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) или более поздней версии, если вы разрабатываете API уровня 24 или выше (JDK 1.8 также поддерживает API уровня до 24, включая без описания операций). 64-разрядной версии JDK 1.8 является обязательным, если вы используете пользовательские элементы управления или средство предварительного просмотра формы.

Можно продолжать использовать [JDK 1.7](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html) при разработке специально для API уровня 23 или более ранней версии.


## <a name="setting-up-an-android-50-project"></a>Настройка проекта Android 5.0

Создание проекта Android 5.0, необходимо установить новейшие средства и пакеты SDK. Настройка проекта Xamarin.Android, ориентированном Android 5.0, выполните следующие действия:

1. Установка средств Xamarin.Android и активировать лицензию Xamarin. В разделе [установки и настройки](~/android/get-started/installation/index.md) Дополнительные сведения об установке Xamarin.Android.

2. Если вы используете Visual Studio для Mac, необходимо установите последние обновления Android 5.0.

3. Запустите диспетчер Android SDK (в Visual Studio для Mac с помощью **средства &gt; откройте диспетчер пакета SDK Android&hellip;**) и установите пакет инструментов SDK Android 23.0.5 или более поздней версии:

    [![При выборе средства пакета SDK для Android в диспетчер Android SDK](lollipop-images/android-l-tools-sml.png)](lollipop-images/android-l-tools.png#lightbox)

   Кроме того установка последних пакетов Android 5.0 SDK (API 21 или более поздней версии):

    [![Установка пакета SDK для Android 5.0 пакетов в диспетчере Android SDK](lollipop-images/android-l-sdk-pkgs-sml.png)](lollipop-images/android-l-sdk-pkgs.png#lightbox)

   Дополнительные сведения об использовании диспетчер Android SDK см. в разделе [диспетчер пакетов SDK](http://developer.android.com/tools/help/sdk-manager.html).

4. Создание нового проекта Xamarin.Android. Если вы не знакомы с разработки приложений Android с помощью Xamarin, см. раздел [Привет, Android](~/android/get-started/hello-android/index.md) Дополнительные сведения о создании проектов Android. При создании проекта Android, нужно убедиться, что для настройки версии Android 5.0.
   В Visual Studio для Mac перейдите к **параметры проекта &gt; построения &gt; Общие** и задайте **требуемой версии .NET framework** для **Android 5.0 (без описания операций)** или Далее:

    ![Задание целевого Framwework для Android 5.0 без описания операций](lollipop-images/target-framework.png)

   В разделе **параметры проекта &gt; построения &gt; приложения Android**, задать минимальное и обращающихся к Android версии **Авто. Используйте версию целевой платформы**:

    ![Установить автоматический минимальное и Android целевой версии](lollipop-images/minimum-android-version.png)

5. Настройте эмулятор или устройство Android для тестирования приложения. Если вы используете эмулятор, см. раздел [Android установки эмулятора](~/android/get-started/installation/android-emulator/index.md) чтобы узнать, как настроить эмулятор Android для использования с Visual Studio или Xamarin Studio. При использовании устройства Android в разделе [параметр вверх предварительной версии SDK](https://developer.android.com/preview/setup-sdk.html) чтобы узнать, как обновление устройства Android 5.0. Настройка устройства Android для запуска и отладки приложений Xamarin.Android в разделе [задайте копии устройства для разработки](~/android/get-started/installation/set-up-device-for-development.md).

Примечание: Если вы обновляете существующий проект Android, обнаруженная Android L Preview, необходимо обновить **требуемой версии .NET Framework** и **Android версии** значениями, описанными выше.

## <a name="important-changes"></a>Важные изменения

Ранее опубликованные приложения Android может затронуть изменения в Android 5.0. В частности Android 5.0 использует формат значительно изменение уведомления и новой среды выполнения.

### <a name="android-runtime"></a>Android среды выполнения

Android 5.0 в качестве среды выполнения по умолчанию вместо Dalvik используется новый Android среды выполнения (РИСУНОК). ИЛЛЮСТРАЦИИ реализует несколько новых функций:

-   **Вперед-(AOT) компиляции** &ndash; AOT может повысить производительность приложения путем компиляции кода приложения перед первым запуском приложения. При установке приложения ART приводит к возникновению ошибки приложении скомпилированный исполняемый файл для целевого устройства.

-   **Улучшенная сбора мусора (GC)** &ndash; GC увеличение ИЗОБРАЖЕНИЯ также могут повысить производительность приложения. Сборка мусора теперь использует паузу GC вместо двух и выполнение параллельных операций сборки Мусора своевременно более.

-   **Улучшенная отладка приложения** &ndash; КАРТИНОК стала более подробной диагностики для оказания помощи при анализе исключения и отчеты об аварийном завершении.

Существующие приложения должна работать без изменений в группе ART &ndash; за исключением приложений, использующих методы, уникальные для среды выполнения предыдущего Dalvik, которой могут не работать в ИЗОБРАЖЕНИЕ. Дополнительные сведения об этих изменениях см. в разделе [проверка поведения приложения на Android среды выполнения (ГРАФИКА)](http://developer.android.com/guide/practices/verifying-apps-art.html).


### <a name="notification-changes"></a>Изменения уведомления

В Android 5.0 значительно изменилась уведомления:

-   **Звуки и вибрация обрабатываются по-разному** &ndash; звучит уведомления и вибрации обрабатываются `Notification.Builder` вместо `Ringtone`, `MediaPlayer`, и `Vibrator`.

-   **Новая цветовая схема** &ndash; в соответствии с темы материал уведомления подготавливаются к просмотру и темно-текст поверх белыми или небольшой фона. Кроме того альфа-каналы на значки уведомлений можно изменять с Android для координации с системы цветовые схемы. 

-   **Уведомления экрана блокировки** &ndash; уведомления теперь могут отображаться на устройстве экрана блокировки.

-   **Специальный** &ndash; уведомлений с высоким приоритетом, теперь отображаются в небольшого всплывающего окна (уведомление специальный) при устройства разблокирован и включения экрана.

В большинстве случаев перенос существующие функциональные возможности приложения уведомлений Android 5.0, необходимо выполнить следующее:

1.  Преобразуйте код, чтобы использовать `Notification.Builder` (или `NotificationsCompat.Builder`) для создания уведомлений. 

2.  Убедитесь, что существующие уведомления активов могут быть отображены в новую тему материал цветовую схему.

3.  Решите, какие видимости, должны иметь уведомления, когда они отображаются на экрана блокировки. Если уведомление не является общим, какое содержимое должно отображаться на экрана блокировки?

4.  Задайте категорию уведомления, чтобы они правильно обрабатываются в новых Android 5.0 *не беспокоить* режим.

Если уведомления элементов управления движением, media отображения состояния воспроизведения, используйте `RemoteControlClient`, или вызвать `ActivityManager.GetRecentTasks`, в разделе [важные изменения в работе](http://developer.android.com/preview/api-overview.html#Behaviors) Дополнительные сведения об обновлении уведомления для Android 5.0.

Сведения о создании уведомлений в Android см. в разделе [локального уведомления](~/android/app-fundamentals/notifications/local-notifications.md). [Совместимости](~/android/app-fundamentals/notifications/local-notifications.md#compatibility) данной статьи описывается создание уведомлений, которые совместимы с вниз с более ранними версиями Android.


## <a name="material-theme"></a>Существенные темы

Новую тему материал Android 5.0 позволяет радикальных изменений на внешний вид пользовательского интерфейса приложения Android. Визуальные элементы теперь использовать tactile поверхности, которые принимают полужирным графики, оформление и яркие цвета печатного макета. На следующих снимках экрана изображаются примеры материал темы:

[![Снимки экрана материал темы домашний экран, экран приложений и параметров экрана](lollipop-images/android-5-gallery-labeled-sml.png)](lollipop-images/android-5-gallery-labeled.png#lightbox)

Android 5.0 получат приветственное регистрационное с начального экрана показано слева. На снимке экрана center первый экран список приложений, который экрана справа **параметры** экрана. Google [разработки материал](https://material.io/guidelines/material-design/introduction.html) спецификации описываются базовые правила разработки за новая концепция материал темы.

Тема материала включает три встроенных стиля, которые можно использовать в приложении: `Theme.Material` Темная тема (по умолчанию), `Theme.Material.Light` тема и `Theme.Material.Light.DarkActionBar` темы: 

[![Снимки экрана Темная, Светлая и DarkActionBar темы](lollipop-images/three-material-themes-sml.png)](lollipop-images/three-material-themes.png#lightbox)

Дополнительные сведения об использовании функций материал темы в приложениях Xamarin.Android см [темы материал](~/android/user-interface/material-theme.md).


## <a name="animations"></a>Анимации

Android 5.0 предоставляет анимации отзыв сенсорный ввод, действия анимации перехода и анимации перехода состояния представления делать более интуитивным является использование интерфейсов приложения. Кроме того, можно использовать приложения Android 5.0 *выявить эффект* анимации, чтобы скрыть или Показать представления. Можно использовать *изгиб движения* отображаются параметры для настройки, насколько быстро или медленно анимации.


### <a name="touch-feedback-animations"></a>Touch анимации обратной связи

Сенсорный ввод отзыв анимации предоставляют пользователям визуальную обратную связь при представлении были затронуты. Например, кнопки теперь будет отображаться оказывает влияние при затронутых &ndash; это анимация отзыв touch по умолчанию в Android 5.0. Анимация ripple реализуется новый `RippleDrawable` класса. Конец на границы представления или выходят за пределы представления можно настроить оказывает влияние. Например оказывает влияние на кнопку показан на следующей схеме снимки экрана во время анимации сенсорный ввод:

![Кадр, снимки экрана кадра анимации ripple на кнопке](lollipop-images/touch-animation.png)

Обратитесь к начальной касания кнопки выполняется в первое изображение в левой части экрана, пока оставшиеся последовательности (слева направо) показано, каким образом распределяет оказывает влияние на края кнопки. После окончания анимации ripple, представление возвращает к исходному виду. Анимация ripple по умолчанию имеет место в долях секунды, но длины длиннее или короче времени можно настроить продолжительность анимации.

Дополнительные сведения о touch отзыв анимации в Android 5.0, см. в разделе [настройки Touch отзыв](http://developer.android.com/training/material/animations.html#Touch).


### <a name="activity-transition-animations"></a>Действия перехода анимации

Анимации перехода действия предоставляют пользователям смысле visual непрерывности при переходе одного действия к другому. Приложения можно указать три вида анимации перехода:

-   **Введите перехода** &ndash; для когда действие переходит сцены.

-   **Выйти из перехода** &ndash; для при выходе действия из сцены.

-   **Общий элемент переход** &ndash; для изменения представления, являются общими для двух действий как первый переходов действия к следующему.

Например переход с общего элемента показан на следующей схеме, снимки экрана:

[![Кадр, снимки экрана кадра анимации перехода совместно используемому элементу](lollipop-images/activity-transition-sml.png)](lollipop-images/activity-transition.png#lightbox)

Общий элемент (фото гусеницей) имеет несколько представлений в первое действие; его развертывание в качестве представления только в второго действия как первый переходов действия на второй.

#### <a name="enter-transition-animation-types"></a>Введите типы анимации перехода

Для переходов ввод Android 5.0 предоставляет три типа анимации:

-   **Разрезать анимации** &ndash; увеличивает представление центре сцены.

-   **Покадровая анимация** &ndash; перемещает представления в один из краев сцены.

-   **Эффект затухания анимации** &ndash; уменьшает представление в сцене.

#### <a name="exit-transition-animation-types"></a>Типы анимации перехода выхода

Для переходов выхода Android 5.0 предоставляет три типа анимации:

-   **Разрезать анимации** &ndash; сжимает представления к центру сцены.

-   **Покадровая анимация** &ndash; сдвигается представления к одному из краев сцены.

-   **Эффект затухания анимации** &ndash; уменьшает представление из сцены.

#### <a name="shared-element-transition-animation-types"></a>Общие типы анимации перехода элемент

Переходы совместно используемому элементу поддерживает несколько типов анимации, такие как:

-   Изменение макета или клип границы представления.

-   Изменение масштаба и поворота представления.

-   Изменение размера и масштаба типа для представления.

Дополнительные сведения о анимации перехода действия в Android 5.0 см. в разделе [Настройка переходов действия](http://developer.android.com/training/material/animations.html#Transitions).


### <a name="view-state-transition-animations"></a>Анимации перехода состояния представления

Android 5.0 позволяет анимации для выполнения при изменении состояния представления. Можно анимировать переходы состояния представления с помощью одного из следующих способов:

-   Создайте drawables, которого должна начаться анимация изменения состояния, связанные с отдельного представления. Новый `AnimatedStateListDrawable` позволяет создавать drawables отображения анимации между изменения состояния представления.

-   Определите функциональные возможности анимации, который выполняется при изменении состояния представления. Новый `StateListAnimator` класса позволяет определять animator, который выполняется при изменении состояния представления.

Дополнительные сведения о представлении анимации перехода состояния в Android 5.0 см. в разделе [анимировать изменения состояния представления](http://developer.android.com/training/material/animations.html#ViewState).


### <a name="reveal-effect"></a>Показать эффект

*Выявить эффект* — отсечения окружность, радиус изменения для показа или скрытия представления. Этот эффект можно управлять установкой начального и конечного радиус окружности обрезки. Анимация эффекта показа в центре экрана показан на следующей схеме, снимки экрана:

[![Кадр, снимки экрана кадра анимации показа](lollipop-images/reveal-center-sml.png)](lollipop-images/reveal-center.png#lightbox)

Следующей последовательности показано показа эффекта анимации, которая выполняется в левом нижнем углу экрана.

[![Кадр, снимки экрана кадра анимации обрезки](lollipop-images/reveal-left-sml.png)](lollipop-images/reveal-left.png#lightbox)

Показать, что анимация может быть отменено; т. е круг обрезки можно уменьшаются, чтобы скрыть представление, а не увеличивается для отображения представления.

Дополнительные сведения о воздействии показа Android 5.0 в разделе [эффект Показать](http://developer.android.com/training/material/animations.html#Reveal).


### <a name="curved-motion"></a>Кривой движения

Помимо этих функций анимации Android 5.0 также предоставляет новый API, которые позволяют указать время и движения кривых анимации. Android 5.0 использует этих кривых для интерполяции перемещения временных таблиц и Пространственные во время анимации. В Android 5.0 определены три кривые:

-   **Быстрое\_out\_линейной\_в** &ndash; ускоряют быстро и продолжается для ускорения выполнения до окончания анимации.

-   **Быстрое\_out\_медленно\_в** &ndash; Accelerates быстро и медленно замедляется к концу анимации.

-   **Линейный\_out\_медленно\_в** &ndash; начинается с скорости пиковые и медленно замедляется до конца анимации.

Вы можете использовать новый `PathInterpolator` класс, чтобы указать, как происходит движения интерполяции. `PathInterpolator` является интерполятора, проходящем по пути анимации в соответствии с указанными контрольными точками и кривые движения. Дополнительные сведения об указании параметров кривой движения в Android 5.0 см. в разделе [используйте кривые движения](http://developer.android.com/training/material/animations.html#CurvedMotion).


## <a name="view-shadows--elevation"></a>Представление Shadows & повышение прав

В Android 5.0, можно указать *повышение* представления, задав новый `Z` свойство. Больше `Z` значении больше тени на фоне, делая представления отображаются в число с плавающей запятой, чем выше фона представления. Повышение прав начального представления можно настроить с помощью его `elevation` атрибута в макете.

В следующем примере показано приведение с пустой теней `TextView` управления, если его повышение атрибут имеет значение 2dp, 4dp и 6dp, соответственно:

[![Снимки экрана progessively большего представления теней](lollipop-images/view-shadows-sml.png)](lollipop-images/view-shadows.png#lightbox)

Настройка тени представление может быть статическим, (как показано выше) или они могут использоваться в анимации чтобы сделать представление отображаются временно расти фоне представления. Можно использовать `ViewPropertyAnimator` класса для анимации повышения уровня представления. Повышение представления является суммой в макете `elevation` параметр, а также `translationZ` свойство, которое можно задать с помощью `ViewPropertyAnimator` вызова метода.

Дополнительные сведения о представлении тени в Android 5.0 см. в разделе [тени, определение и изменение представления](http://developer.android.com/training/material/shadows-clipping.html).


## <a name="color-features"></a>Параметры цвета

Android 5.0 предоставляет две новые возможности управления цветом в приложениях:

-   *Drawable оттенков* позволяет изменить цвета активы изображений, изменив атрибут макета.

-   *Извлечение Показательным цветов* позволяет динамически настраивать приложения цветовую тему для координации с цветовую палитру для изображения.


### <a name="drawable-tinting"></a>Drawable оттенков

Android 5.0 макеты распознать новый `tint` атрибут, который можно использовать, чтобы задать цвет drawables без необходимости создания нескольких версий этих ресурсов для отображения различных цветов. Чтобы использовать эту функцию, как маска альфа-канала и определить растровое изображение `tint` атрибута для определения цвета актива. Это позволяет создать активы один раз и их цвет на макете для сопоставления темы.

В следующем примере, один ресурс изображения &ndash; белый эмблемы с прозрачным фоном &ndash; используется для создания оттенок вариантов:

![Эмблема белый Xamarin с прозрачным фоном](lollipop-images/xamarin-logo-white.png)

Этот логотип отображается над циклические синим фоном, как показано в следующих примерах. Изображение в левой части — как Эмблема отображается без `tint` параметр. В центре изображения, логотип `tint` атрибута задано значение темно-серый. На рисунке справа `tint` равно светло-серым цветом:

![Примеры выше эмблемы с параметрами разных оттенком](lollipop-images/drawable-tinting.png)

Дополнительные сведения о drawable оттенков в Android 5.0 см. в разделе [Drawable оттенков](http://developer.android.com/training/material/drawables.html#DrawableTint).


### <a name="prominent-color-extraction"></a>Извлечение Показательным цветов

Новый Android 5.0 `Palette` класса позволяет извлекать цвета из изображения, чтобы их можно динамически применить к пользовательской цветовой палитры. `Palette` Класс извлекает шести различных цветов из образа и метки эти цвета в соответствии с их относительного уровня цвет насыщенности и яркости:

-   Динамичной

-   Динамичной Темная

-   Динамичной индикатор

-   Отключен

-   Звук Темная

-   Индикатор отключения

Например на следующих снимках экрана просмотра приложения фотографий извлекает Показательным цвета из изображения на экране и использует эти цвета адаптировать цветовой схемы приложения, соответствующие изображения:

[![Снимки экрана для извлечения темы розовым цветом, зеленого и синего цвета](lollipop-images/prominent-color-extraction-sml.png)](lollipop-images/prominent-color-extraction.png#lightbox)

На снимках экрана выше, панели действий имеет значение извлеченные «динамичной light» цвет и фон присвоено извлеченные «динамичной темный» цвета. В каждом из примеров выше ряд небольших цветных квадратов проиллюстрировано палитру цветов, которые были взяты из образа.

Дополнительные сведения о извлечение цветов в Android 5.0 см. в разделе [извлечения Показательным цвета из образа](http://developer.android.com/training/material/drawables.html#ColorExtract).


## <a name="new-ui-widgets"></a>Новые мини-приложения пользовательского интерфейса

Android 5.0 появились две новые мини-приложения пользовательского интерфейса:

-   `RecyclerView` &ndash; Группа представления, отображающий список элементов прокрутки.

-   `CardView` &ndash; Базовый макет со скругленными углами.

Оба мини-приложения включают помещенного в поддержку темы материал возможностей; например `RecyclerView` используется для добавления и удаления представлений, анимации и `CardView` использует просмотр shadows вносить в каждой карте отображаются в плавающее над фоном. На следующих снимках экрана показаны примеры эти новые мини-приложения:

[![Снимки экрана для приложений, созданных с помощью RecyclerView](lollipop-images/recyclerview-cardview-sml.png)](lollipop-images/recyclerview-cardview.png#lightbox)

Снимок экрана слева является примером `RecyclerView` как применяемого в приложение электронной почты и снимок экрана на право является примером `CardView` как использовался в приложении резервирования движения.


### <a name="recyclerview"></a>RecyclerView

`RecyclerView` Аналогично `ListView,` , но лучше подходит для больших наборов данных из представления или списками с элементами, которые изменяются динамически. Как `ListView,` адаптер для доступа к базового набора данных задается. Однако в отличие от `ListView,` используется *диспетчера структуры* для размещения элементов в пределах `RecyclerView`. Диспетчер макета также обеспечивает повторное использование представления; он управляет повторное использование представления элементов, которые больше не отображаются для пользователя.

При использовании `RecyclerView` мини-приложение, необходимо указать `LayoutManager` и адаптер. Как показано на этом рисунке `LayoutManager` является посредником между адаптером и `RecyclerView`:

![Схема RecyclerView с поддержкой LayoutManager, адаптер и набор данных](lollipop-images/recyclerview-diagram.png)

Иллюстрации следующих снимках экрана `RecyclerView` , содержащий 100 элементов (каждый элемент состоит из `ImageView` и `TextView`):

[![Снимки экрана приложения RecyclerView прокрутке изображений](lollipop-images/recyclerview-scroll-sml.png)](lollipop-images/recyclerview-scroll.png#lightbox)

`RecyclerView` обрабатывает это большой набор данных с легкостью &ndash; прокрутка от начала до конца списка списка в этом образце приложения занимает несколько секунд. `RecyclerView` также поддерживает анимацию; на самом деле анимации для добавления и удаления элементов включены по умолчанию. При добавлении элемента `RecyclerView`, исчезновения в, как показано в следующей последовательности снимки экрана:

[![Кадр, снимок экрана кадра затухание элемента фотографий в](lollipop-images/recyclerview-animation-sml.png)](lollipop-images/recyclerview-animation.png#lightbox)

Дополнительные сведения о `RecyclerView`, в разделе [RecyclerView](~/android/user-interface/layouts/recycler-view/index.md).


### <a name="cardview"></a>CardView

`CardView` представляет простое представление, которое имитирует карту с плавающей запятой со скругленными углами. Поскольку `CardView` имеет встроенное представление shadows, он предоставляет простой способ добавления в приложение visual глубины. Следующих снимках экрана содержатся три текстовые примеры `CardView`:

[![Снимки экрана примера приложения с помощью RecyclerView с элементами на основе CardView](lollipop-images/recyclerview-cardview-sml.png)](lollipop-images/recyclerview-cardview.png#lightbox)

Каждый из карты в приведенном выше примере содержит `TextView`; цвет фона задана с помощью `cardBackgroundColor` атрибута.

Дополнительные сведения о `CardView`, в разделе [CardView](~/android/user-interface/controls/card-view.md).


## <a name="enhanced-notifications"></a>Улучшенные уведомления

Система уведомлений в Android 5.0 значительно обновлена с помощью нового формата visual и новые функции. Уведомления выглядят в Android 5.0. Например уведомления в Android 5.0 теперь использовать темно-текст по светлым фоном:

![Пример без развернутой уведомления о Android 5.0](lollipop-images/expanded-notification-contracted.png)

Когда крупный значок выводится в уведомлении (как показано в приведенном выше примере), Android 5.0 представляет мелкий значок в виде эмблемой над крупными значками. 

В Android 5.0 уведомления могут также отображаться на экрана блокировки устройства.
Например ниже приведен снимок экрана: пример экрана блокировки с одно уведомление.

[![Снимок экрана уведомлений, отображаемых на экране блокировки](lollipop-images/lockscreen-notification-sml.png)](lollipop-images/lockscreen-notification.png#lightbox)

Пользователи могут дважды коснитесь уведомления на экрана блокировки для разблокировки устройства и перехода приложения, создавшего уведомления о или проведите, чтобы закрыть уведомление. Уведомления содержат новый *видимость* параметр, который определяет объем содержимого, которые могут отображаться на экрана блокировки. Пользователи могут выбирать, следует ли разрешить конфиденциальное содержимое, которое будет отображаться в уведомления экрана блокировки.

Android 5.0 появился новый формат представления уведомлений с высоким приоритетом вызывается *специальный*. Специальный уведомления соскальзывания из верхней части экрана на несколько секунд и затем retreat обратно в оттенок уведомлений в верхней части экрана. Специальный уведомлений позволяют системе пользовательского интерфейса для размещения важных информацию, не прерывая выполняемое действие. В следующем примере показан простой специальный уведомление, которое отображается поверх приложения:

[![Пример heads-up уведомления](lollipop-images/heads-up-notification-sml.png)](lollipop-images/heads-up-notification.png#lightbox)

Специальный уведомлений обычно используются для следующих событий:

-   Новое сообщение Далее

-   Телефонный звонок

-   Указание низкого заряда батарей

-   Звукового сигнала

Android 5.0 отображает уведомление в формате специальный только в том случае, если он имеет параметр приоритета высокой или max.

В Android 5.0 можно предоставлять метаданные уведомления для Android сортировки и более рационально отображать уведомления. Android 5.0 организует уведомления в соответствии с приоритетом, видимость и категории.
Категории уведомления используются для фильтрации уведомлений, которые могут быть представлены, когда устройство находится в *не беспокоить* режим.

Подробные сведения о создании и запуске уведомления с новейшими функциями Android 5.0 см. в разделе [локального уведомления](~/android/app-fundamentals/notifications/local-notifications.md).


## <a name="new-apis"></a>Новые интерфейсы API

Помимо новых функций внешнего вида поведения, описанных выше Android 5.0 добавляет новые интерфейсы API, которые расширяют возможности существующего мультимедиа, хранилища и функциональные возможности беспроводного подключения. Кроме того Android 5.0 включает в себя новые интерфейсы API, которые обеспечивают поддержку новой функцией планировщика заданий.

### <a name="camera"></a>Камера

Android 5.0 предоставляет ряд новых интерфейсов API для камеры расширенные возможности. Новый `Android.Hardware.Camera2` пространство имен включает функциональные возможности для доступа к отдельным камер связанных на устройстве Android. Кроме того `Android.Hardware.Camera2` моделирует каждого камеры устройства как конвейера: он принимает запрос на захват, создающую образ, а затем выводит результат. Такой подход позволяет приложениям в очередь нескольких запросов записи на устройство камеры.

Эти новые возможности сделать следующие API:

-   `CameraManager.GetCameraIdList` &ndash; Обеспечивает программный доступ к камере устройства; Вы используете `CameraManager.OpenCamera` для подключения к определенной камеры устройства.

-   `CameraCaptureSession` &ndash; Захватывает или передачи изображений с камеры устройства. Реализации `CameraCaptureSession.CaptureListener` интерфейс для обработки новых событий захвата образа.

-   `CaptureRequest` &ndash; Определяет параметры отслеживания.

-   `CaptureResult` &ndash; Предоставляет результаты операции захвата образа.

Дополнительные сведения о новых API в Android 5.0 камеры см. в разделе [Media](http://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="audio-playback"></a>Воспроизведение звука

Android 5.0 обновления `AudioTrack` класс для улучшения воспроизведения звука:

-   `ENCODING_PCM_FLOAT` &ndash; Настраивает `AudioTrack` принять звуковых данных в формате с плавающей запятой для повышения динамического диапазона, больше запас мощности и более высокого качества (благодаря повышенную точность). Кроме того формате с плавающей запятой помогает избежать звука.

-   `ByteBuffer` &ndash; Теперь можно указать звуковые данные, `AudioTrack` в виде массива байтов.

-   `WRITE_NON_BLOCKING` &ndash; Этот параметр упрощает буферизации и многопоточности для некоторых приложений.

Дополнительные сведения о `AudioTrack` улучшения в Android 5.0 см [Media](http://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="media-playback-control"></a>Элемент управления для воспроизведения мультимедиа

Android 5.0 появился новый `Android.Media.MediaController` класса, который заменяет `RemoteControlClient`. `Android.Media.MediaController` предоставляет упрощенный транспорта управления API-интерфейсов, а также управление потоками воспроизведением вне контекста пользовательского интерфейса. Следующие новые API обрабатывать управления транспорта.

-   `Android.Media.Session.MediaSession` &ndash; Сеанс управления носителя, который обрабатывает несколько контроллеров. Вызывается `MediaSession.GetSessionToken` для запроса маркера, используемого приложением для взаимодействия с сеансом.

-   `MediaController.TransportControls` &ndash; Маркеры транспорта команд, таких как **воспроизведение**, **остановить**, и **пропустить**.

Кроме того, можно использовать новый `Android.App.Notification.MediaStyle` класс, связанный с содержимым уведомлений с широкими возможностями (например, извлечение и отображение альбома) сеанс носителя.

Дополнительные сведения о новых возможностях управления воспроизведение мультимедиа в Android 5.0 см [Media](http://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="storage"></a>Хранилище

Android 5.0 обновляет Framework доступа хранилища для упрощения приложений для работы с каталогами и документы:

-   Чтобы выбрать поддерева каталога, создавать и отправлять `Android.Intent.Action.OPEN_DOCUMENT_TREE` цель. Это назначение заставляет систему для отображения все экземпляры поставщика, поддерживающие Выбор поддерево; Затем пользователь просматривает и выбирает каталог.

-   Для создания и управления ими новые документы или в любом месте в поддереве каталоги, используйте новый `CreateDocument`, `RenameDocument`, и `DeleteDocument` методы `DocumentsContract`.

-   Для получения пути к каталогам мультимедиа на всех устройствах, общее хранилище, вызовите новый `Android.Content.Context.GetExternalMediaDirs` метод.

Дополнительные сведения о новое хранилище API в Android 5.0 см. в разделе [хранения](http://developer.android.com/preview/api-overview.html#Storage).

### <a name="wireless--connectivity"></a>Беспроводной & подключения

Android 5.0 добавляет следующие улучшения API для подключения к беспроводной сети и:

-   Новый *несколькими сети* API, которые делают возможным для приложений найти и выбрать сетей с конкретных возможностей до соединения.

-   Функции Bluetooth широковещательной рассылки, позволяющий устройство Android 5.0 в качестве периферийных устройств Bluetooth низкого энергопотребления.

-   NFC улучшения, которые упрощают взаимодействие Ближнего функциональности для обмена данными с другими устройствами.

Дополнительные сведения о новых беспроводных и подключения к API в Android 5.0 см. в разделе [беспроводной сети и подключение](http://developer.android.com/preview/api-overview.html#Wireless).

### <a name="job-scheduling"></a>Планирование заданий

Android 5.0 появился новый `JobScheduler` API, который поможет пользователям свести к минимуму стока батареи, запланировав определенные задачи, чтобы выполнить только в том случае, если устройство попадет в систему и оплаты. Эта функция планировщика заданий можно использовать также для планирования задачи для выполнения при более удобной для этой задачи, такие как загрузка больших файлов, когда устройство подключено по Wi-Fi сети вместо отслеживаемых сетевых условий.

Дополнительные сведения о новых API в Android 5.0 задание см. в разделе [планирования заданий](http://developer.android.com/preview/api-overview.html#JobScheduler).

## <a name="summary"></a>Сводка

В этой статье содержатся общие сведения о важных новых функций в Android 5.0 для разработчиков приложений Xamarin.Android:

-   Существенные темы

-   Анимации

-   Представление тени и повышения прав

-   Параметры цвета, например drawable оттенков и Показательным цвет извлечения

-   Новый `RecyclerView` и `CardView` мини-приложения

-   Усовершенствования уведомления

-   Новые API для камеры, воспроизведение звука, управления, хранилища, беспроводного подключения и планирования заданий

Если вы не знакомы с Xamarin Android разработки, прочтите [установки и настройки](~/android/get-started/installation/index.md) помогут вам приступить к работе с Xamarin.Android.
[Привет, Android](~/android/get-started/hello-android/index.md) является отличным введением о том, как создавать проекты на Android.



## <a name="related-links"></a>Связанные ссылки

- [Ознакомительная версия для разработчиков Android L](http://developer.android.com/preview/index.html)
- [Получение пакета SDK для Android](https://developer.android.com/sdk/index.html#Other)
- [Существенные разработки](http://developer.android.com/preview/material/index.html)
- [Принципы разработки материала](http://static.googleusercontent.com/media/www.google.com/en/us/design/material-design.pdf)
