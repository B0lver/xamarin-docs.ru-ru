---
title: Функции без описания операций
description: В этой статье описывается высокоуровневая новые функции, представленные в Android 5.0 (Lollipop). Эти функции включают новый стиль интерфейса пользователя с именем материал темы, а также новые вспомогательные функции, такие как анимации, представление теней и drawable изменяется исследуемое. Android 5.0 также включает улучшенные уведомления, две новые мини-приложения пользовательского интерфейса, новый планировщик заданий и небольшое число новых интерфейсов API, для улучшения хранилища, сети, подключение и мультимедийные возможности.
ms.prod: xamarin
ms.assetid: 1CE99CFE-FAAC-49FC-AEDC-1A21FC6E946E
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 02/16/2018
ms.openlocfilehash: d6173e1886eaf807decd960b07acc022bb17c04d
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57669080"
---
# <a name="lollipop-features"></a>Функции без описания операций

_В этой статье описывается высокоуровневая новые функции, представленные в Android 5.0 (Lollipop). Эти функции включают новый стиль интерфейса пользователя с именем материал темы, а также новые вспомогательные функции, такие как анимации, представление теней и drawable изменяется исследуемое. Android 5.0 также включает улучшенные уведомления, две новые мини-приложения пользовательского интерфейса, новый планировщик заданий и небольшое число новых интерфейсов API, для улучшения хранилища, сети, подключение и мультимедийные возможности._

## <a name="lollipop-overview"></a>Общие сведения о без описания операций

Android 5.0 (Lollipop) представляет новый язык разработки, *материальному дизайну*, и с ним вспомогательного приведения из новых функций, чтобы сделать приложения проще и понятнее. С помощью материальному дизайну Android 5.0 не только дает телефонов Android обновлению; Он также предоставляет новый набор правил проектирования для планшетные ПК на базе Android, настольные компьютеры, контролируемые данные и смарт-телевизоры. Эти правила проектирования подчеркнуть простоту и minimalism аналитический использовать знакомые tactile атрибутов (например, реалистичных подсказки области и edge) в помощь пользователям быстро и интуитивно понимаем, интерфейс.

*Тема материала* — это воплощение приведенным здесь принципам проектирования пользовательского интерфейса в Android. В этой статье начинается с рассмотрения вспомогательные функции материал темы:

-   **Анимации** &ndash; *Touch отзыв* анимации, *перемещение действия* анимации, *переход состояния просмотра* анимации и *Показать эффект*.

-   **Просмотреть теней и повышение** &ndash; представления теперь имеют `elevation` свойство; представления с более поздней версии `elevation` значения типу большего размера тени в фоновом режиме.

-   **Цвет функции** &ndash; *Drawable изменяется исследуемое* делает возможным повторное использование графических ресурсов, изменяя их цвет и *извлечения важных цвет* позволяет динамически Тема приложения на основании цветов в изображении.

Многие возможности уже встроены в тему материал Android 5.0 пользовательского интерфейса, при возникать другим пользователям необходимо явно добавить в приложения. Например, некоторые стандартные представления (например, кнопки) уже содержат анимации сенсорной обратной связи, хотя приложения необходимо включить большинство shadows представления.

Помимо улучшений пользовательского интерфейса, приводящими через темы материал Android 5.0 включает несколько новых возможностей, описанных в этой статье:

-   **Расширенный уведомления** &ndash; уведомлений в Android 5.0 были значительно обновлены новый внешний вид, поддержку уведомлений экрана блокировки и новый *информационных индикаторов* формат представления уведомлений.

-   **Новые мини-приложения в пользовательском Интерфейсе** &ndash; новый `RecyclerView` мини-приложения упрощает для приложений для передачи больших наборов данных и сложной информации и новый `CardView` мини-приложение предоставляет формат упрощенного представления карточки для отображения текста и образы.

-   **Новые интерфейсы API** &ndash; Android 5.0 добавляет новые интерфейсы API для поддержки нескольких сети, улучшенная подключения Bluetooth, упрощает управление хранилищем и более гибкое управление мультимедиа-проигрыватели и камера устройства. Функция планирования нового задания будут доступны для выполнения задачи асинхронно в запланированное время. Эта функция позволяет заряда батареи, например, планирование задач и взимать оплату за ряд при подключении устройства.


## <a name="requirements"></a>Требования

Для использования новых функций Android 5.0 в приложениях на базе Xamarin требуется следующее:

-   **Xamarin.Android** &ndash; Xamarin.Android 4.20 или более поздней версии необходимо установить и настроить Visual Studio или Visual Studio для Mac. 

-   **Пакет SDK для Android** &ndash; Android 5.0 (API 21) или более поздней версии необходимо установить через диспетчер пакетов SDK для Android.

-   **Java Developer Kit** &ndash; для Xamarin.Android требуется [JDK 1.8](https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) или более поздней версии, при разработке для API уровня 24 или более поздней версии (JDK 1.8 также поддерживает уровни API ниже 24, включая без описания операций). 64-разрядной версии JDK 1.8 является обязательным, если вы используете пользовательские элементы управления или средство предварительного просмотра формы.

Вы можете продолжать использовать [JDK 1.7](https://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html) при разработке специально для уровень API 23 или более ранней версии.


## <a name="setting-up-an-android-50-project"></a>Настройка проекта Android 5.0

Создание проекта Android 5.0, необходимо установить новейшие средства и пакеты SDK. Следуйте инструкциям ниже, чтобы настроить проект Xamarin.Android излюбленного Android 5.0:

1. Установка средств Xamarin.Android и активировать лицензию Xamarin. См. в разделе [установки и настройки](~/android/get-started/installation/index.md) Дополнительные сведения об установке Xamarin.Android.

2. Если вы используете Visual Studio для Mac, установите последние обновления Android 5.0.

3. Запустите диспетчер пакетов SDK Android (в Visual Studio для Mac использовать **средства &gt; откройте диспетчер пакетов SDK Android&hellip;**) и установить Android SDK Tools 23.0.5 или более поздней версии:

    [![Выбор средства пакета SDK для Android, диспетчер пакетов SDK для Android](lollipop-images/android-l-tools-sml.png)](lollipop-images/android-l-tools.png#lightbox)

   Кроме того установите последнюю версию пакетов SDK для Android 5.0 (API 21 или более поздней версии):

    [![Установка пакета SDK для Android 5.0 пакетов диспетчер пакетов SDK для Android](lollipop-images/android-l-sdk-pkgs-sml.png)](lollipop-images/android-l-sdk-pkgs.png#lightbox)

   Дополнительные сведения об использовании диспетчера пакетов SDK Android, см. в разделе [диспетчер пакетов SDK](https://developer.android.com/tools/help/sdk-manager.html).

4. Создание нового проекта Xamarin.Android. Если вы не знакомы с разработки приложений Android с помощью Xamarin, см. в разделе [Привет, Android](~/android/get-started/hello-android/index.md) Дополнительные сведения о создании проектов Android. При создании проекта Android, не забудьте настроить параметры версии для Android 5.0.
   В Visual Studio для Mac, перейдите к **параметры проекта &gt; построения &gt; Общие** и задайте **требуемой версии .NET framework** для **Android 5.0 (Lollipop)** или Далее:

    ![Установка Android 5.0 Lollipop Framwework целевой объект](lollipop-images/target-framework.png)

   В разделе **параметры проекта &gt; построения &gt; приложения Android**задайте минимальное и целевая версия Android для **автоматически — использовать версию целевой платформы**:

    ![Установка минимума и целевой объект Android версии автоматически](lollipop-images/minimum-android-version.png)

5. Настройте эмулятор или устройство Android для тестирования приложения. Если вы используете эмулятор, см. в разделе [Настройка эмулятора Android](~/android/get-started/installation/android-emulator/index.md) Дополнительные сведения о настройке эмулятора Android для использования с помощью Xamarin Studio или Visual Studio. Если вы используете устройство Android, см. в разделе [параметр Настройка предварительной версии пакета SDK](https://developer.android.com/preview/setup-sdk.html) чтобы узнать, как обновить устройство Android 5.0. Чтобы настроить устройство Android для запуска и отладки приложений Xamarin.Android, см. в разделе [Настройка устройства для разработки](~/android/get-started/installation/set-up-device-for-development.md).

Примечание. Если вы обновляете существующий проект Android с целевой платформой Android L предварительной версии, необходимо обновить **требуемой версии .NET Framework** и **Android версии** для значений, описанных выше.

## <a name="important-changes"></a>Важные изменения

Ранее опубликованные приложения Android может влиять изменения в Android 5.0. В частности в Android 5.0 использует новую среду выполнения и формат значительно изменение уведомления.

### <a name="android-runtime"></a>Среды выполнения Android

Android 5.0 использует новый Android среды выполнения (ИСКУССТВО) в качестве среды выполнения по умолчанию вместо Dalvik. ИСКУССТВО реализует несколько новых функций:

-   **Компиляция Ahead-of-time (AOT)** &ndash; AOT можно повысить производительность приложения путем компиляции кода приложения перед первым запуском приложения. При установке приложения ART создает скомпилированное приложение, исполняемый файл для целевого устройства.

-   **Улучшенная сбора мусора (GC)** &ndash; улучшения сборки Мусора из коллекции можно также повысить производительность приложения. Сборка мусора теперь использует один GC pause вместо двух и выполнения параллельных операций сборки Мусора своевременно более.

-   **Усовершенствованная отладка приложения** &ndash; ART содержатся подробные сведения диагностики, чтобы помочь в анализе исключения и отчеты о сбоях.

Существующие приложения должны работать без изменений в ART &ndash; за исключением приложений, которые используют методики, уникальные для предыдущую dalvik могут вызывать среду выполнения, который может не работать в разделе ART. Дополнительные сведения об этих изменениях см. в разделе [проверка поведение приложения на Android среды выполнения (ИСКУССТВО)](https://developer.android.com/guide/practices/verifying-apps-art.html).


### <a name="notification-changes"></a>Уведомление изменится

Уведомления были значительно изменены в Android 5.0:

-   **Звуки и вибрации обрабатываются по-разному** &ndash; звуки уведомлений и вибрации теперь обрабатываются `Notification.Builder` вместо `Ringtone`, `MediaPlayer`, и `Vibrator`.

-   **Новая цветовая схема** &ndash; в соответствии с тема материала уведомления выводятся в виде текста темно-поверх фона белый или очень светлые. Кроме того альфа-каналы в значках с уведомлением может быть изменен с Android для координации с системы цветовых схем. 

-   **Уведомления экрана блокировки** &ndash; уведомления теперь могут появиться на экране блокировки устройства.

-   **Информационные индикаторы** &ndash; важных уведомлений теперь отображаются в небольшое окно с плавающей запятой (информационных индикаторов уведомление) когда устройство разблокировано и экрана включен.

В большинстве случаев перенос существующие функциональные возможности уведомления приложений для Android 5.0 включает следующие шаги:

1.  Преобразовать код, чтобы использовать `Notification.Builder` (или `NotificationsCompat.Builder`) для создания уведомлений. 

2.  Убедитесь, что существующие ресурсы уведомлений для просмотра нового материала темы цветовой схемы.

3.  Решите, какие видимости, должны иметь уведомления, когда они отображаются на экране блокировки. Если уведомление не является общим, какое содержимое должно отображаться на экране блокировки?

4.  Значение категории уведомлений, поэтому они обрабатываются правильно в новый Android 5.0 *не беспокоить* режим.

Если уведомления представляют элементы управления транспортировкой, отображения мультимедиа состояние воспроизведения, используйте `RemoteControlClient`, или вызвать `ActivityManager.GetRecentTasks`, см. в разделе [важные изменения в поведении](https://developer.android.com/preview/api-overview.html#Behaviors) Дополнительные сведения об обновлении уведомлений для Android 5.0.

Сведения о создании уведомлений в Android, см. в разделе [локальных уведомлений](~/android/app-fundamentals/notifications/local-notifications.md). [Совместимости](~/android/app-fundamentals/notifications/local-notifications.md#compatibility) этой статьи описывается создание уведомлений, которые совместимы с вниз в более ранних версиях Android.


## <a name="material-theme"></a>Тема материала

Новую тему материал Android 5.0 обеспечивает радикальных изменений внешний вид пользовательского интерфейса Android. Визуальные элементы теперь использовать tactile поверхности, которые принимают полужирным графики, оформление и яркие цвета из печатного макета. Примеры темы материал, показан на снимках экрана ниже:

[![Снимки экрана материал темы начальном экране, экране приложений и параметров экрана](lollipop-images/android-5-gallery-labeled-sml.png)](lollipop-images/android-5-gallery-labeled.png#lightbox)

Android 5.0 поздравляющую вас с начального экрана, показанный слева. На снимке экрана center – первый экран, из списка приложений, и увидеть на снимке экрана справа **параметры** экрана. Google [материальному дизайну](https://material.io/guidelines/material-design/introduction.html) спецификация объясняет базового правила проектирования, лежащие новая концепция тема материала.

Тема материала включает в себя три встроенных стиля, которые можно использовать в приложении: `Theme.Material` Темная тема (по умолчанию), `Theme.Material.Light` темы и `Theme.Material.Light.DarkActionBar` темы: 

[![Снимки экрана Темная, Светлая и DarkActionBar темы](lollipop-images/three-material-themes-sml.png)](lollipop-images/three-material-themes.png#lightbox)

Дополнительные сведения об использовании функций материал темы в приложениях Xamarin.Android, см. в разделе [тема материала](~/android/user-interface/material-theme.md).


## <a name="animations"></a>Анимации

Android 5.0 предоставляет анимации сенсорной обратной связи, анимация перехода действия и анимация перехода состояния представления вносить интерфейсы приложений более интуитивного использования. Кроме того, можно использовать приложения Android 5.0 *Показать эффект* анимации, чтобы скрыть или Показать представления. Можно использовать *криволинейные движения* отображаются параметры для настройки, насколько быстро или медленно анимации.


### <a name="touch-feedback-animations"></a>Touch анимации обратной связи

Анимации отзыв Touch предоставляют пользователям визуальной обратной связи при представлении был затронут. Например, кнопки теперь отображается окажет влияние когда они затронут &ndash; это анимации обратной связи по умолчанию сенсорного ввода в Android 5.0. Ripple анимации реализуется новый `RippleDrawable` класса. Можно настроить окажет влияние заканчивается границы представления или выходят за пределы представления. Например окажет влияние на кнопку показан на следующей схеме, снимки экрана во время анимации сенсорного ввода:

![Кадр, снимки экрана кадра анимации ripple на кнопке](lollipop-images/touch-animation.png)

Обратитесь к начальной сенсорного ввода с помощью кнопки происходит в первое изображение с левой стороны экрана, а оставшиеся последовательности (слева направо) показано, каким образом распределяет окажет влияние на периметре кнопки. При завершении анимации ripple, представление возвращает ее начальный внешний вид. Анимация ripple по умолчанию выполняется за долю секунды, но продолжительность анимации могут настраиваться для длины длительное или короткое время.

Сведения о touch анимации обратной связи в Android 5.0, см. в разделе [настроить Touch отзыв](https://developer.android.com/training/material/animations.html#Touch).


### <a name="activity-transition-animations"></a>Анимация перехода действия

Анимация перехода действия дать пользователям представление о visual непрерывности при переходе одного действия к другому. Приложения можно указать три типа анимации перехода:

-   **Введите перехода** &ndash; для когда действие вводит сцены.

-   **Выйти из перехода** &ndash; для когда действие завершается сцены.

-   **Общий элемент переход** &ndash; для изменения представления, который является общим для двух действий как первый переходов действия к другому.

Например переход общий элемент показан на следующей схеме, снимки экрана:

[![Кадр, снимки экрана кадра анимации перехода общего элемента](lollipop-images/activity-transition-sml.png)](lollipop-images/activity-transition.png#lightbox)

Общий элемент (фотографию гусеницей) является одним из нескольких представлений в первое действие; он увеличивает станет представление только в второе действие в качестве первого действия переходы на второй.

#### <a name="enter-transition-animation-types"></a>Введите типы анимации перехода

Для переходов ввод Android 5.0 предоставляет три типа анимации:

-   **Развернуть анимации** &ndash; увеличивает представления в центре сцены.

-   **Скольжения** &ndash; перемещает представления в из одной из границ сцены.

-   **Исчезание анимации** &ndash; уменьшает получить информацию о сцены.

#### <a name="exit-transition-animation-types"></a>Типы анимации перехода выхода

Для переходов выхода Android 5.0 предоставляет три типа анимации:

-   **Развернуть анимации** &ndash; сжимает представления относительно центральной части сцены.

-   **Скольжения** &ndash; сдвигается представления для одной из границ сцены.

-   **Исчезание анимации** &ndash; уменьшает представления из сцены.

#### <a name="shared-element-transition-animation-types"></a>Общие типы анимации перехода элемент

Общий элемент переходы поддерживать несколько типов анимации, такие как:

-   Изменение макета или клипов границы представления.

-   Изменение масштаба и поворота представления.

-   Изменение размера и масштаба типа для представления.

Дополнительные сведения об анимации перехода действия в Android 5.0, см. в разделе [Настройка переходов действия](https://developer.android.com/training/material/animations.html#Transitions).


### <a name="view-state-transition-animations"></a>Анимация перехода состояния представления

Android 5.0 делает возможным для анимации, который будет выполняться при изменении состояния представления. Можно анимировать переходы состояния представления с помощью одного из следующих способов:

-   Создайте прорисовываемых ресурсов, анимация изменения состояния, связанный с конкретной представлением. Новый `AnimatedStateListDrawable` класс позволяет создавать прорисовываемых ресурсов, воспроизводить анимацию между изменения состояния представления.

-   Определите функциональные возможности анимации, который выполняется при изменении состояния представления. Новый `StateListAnimator` класс позволяет определить animator, который выполняется при изменении состояния представления.

Дополнительные сведения об анимации перехода состояния представления в Android 5.0, см. в разделе [анимация изменения состояния представления](https://developer.android.com/training/material/animations.html#ViewState).


### <a name="reveal-effect"></a>Показать эффект

*Показать эффект* отображается в виде круга обрезки, изменения radius, чтобы показать или скрыть представления. Этот эффект можно управлять, задав начальные и конечные радиус круга обрезки. Анимированный эффект Показать в центре экрана показан на следующей схеме, снимки экрана:

[![Кадр, снимки экрана кадра анимации раскрывают](lollipop-images/reveal-center-sml.png)](lollipop-images/reveal-center.png#lightbox)

Следующая последовательность показана анимированный эффект раскрывают, выполняемого в левом нижнем углу экрана.

[![Кадр, снимки экрана кадра анимации обрезки](lollipop-images/reveal-left-sml.png)](lollipop-images/reveal-left.png#lightbox)

Отображает анимации может быть отменено; то есть круг обрезки можно сжать до переводится в скрытый режим вместо увеличить, чтобы отобразить представление.

Дополнительные сведения о воздействии раскрывают Android 5.0 в см. в разделе [эффект Показать](https://developer.android.com/training/material/animations.html#Reveal).


### <a name="curved-motion"></a>Кривые движения

Помимо этих функций анимации Android 5.0 также предоставляет новые API, позволяющие указать время и движения кривых анимации. Android 5.0 использует эти кривые для интерполяции temporal и пространственных перемещения во время анимации. В Android 5.0 определены три кривые:

-   **Быстро\_out\_линейной\_в** &ndash; ускоряют быстро и по-прежнему для ускорения до окончания анимации.

-   **Быстро\_out\_медленно\_в** &ndash; Accelerates быстро и постепенно замедляется в конце анимации.

-   **Линейный\_out\_медленно\_в** &ndash; начинается с Пиковая скорость и медленно замедляется в конце анимации.

Вы можете использовать новый `PathInterpolator` класс, чтобы указать, каким образом происходит движения интерполяции. `PathInterpolator` является интерполятора, проходящий через путей к анимации в соответствии с указанными контрольными точками и кривые движения. Дополнительные сведения о настройке параметров изогнутой движения в Android 5.0, см. в разделе [движения кривых используйте](https://developer.android.com/training/material/animations.html#CurvedMotion).


## <a name="view-shadows--elevation"></a>Представление Shadows & повышение прав

В Android 5.0, можно указать *повышение прав* представления, задав новый `Z` свойство. Больше `Z` значение приводит к смещению представления для приведения большего размера тень на заднем плане, что делает представление отображается число с плавающей запятой, чем выше фона. Начальная высота представления можно настроить с помощью его `elevation` атрибут в макете.

В следующем примере показано приведение с пустым теней `TextView` управления, если его повышение прав атрибут имеет значение 2dp 4dp и 6dp, соответственно:

[![Снимки экрана progessively большего размера представления тени](lollipop-images/view-shadows-sml.png)](lollipop-images/view-shadows.png#lightbox)

Параметры тени представления может быть статическим (как показано выше) или они могут использоваться в анимации, чтобы сделать представление могут временно подняться над фона представления. Можно использовать `ViewPropertyAnimator` класс для анимации высоту данного представления. Угол возвышения складывается из макета `elevation` параметр плюс строка `translationZ` свойство, которое можно задать с помощью `ViewPropertyAnimator` вызова метода.

Дополнительные сведения о представлении тени в Android 5.0, см. в разделе [определение теней и обрезки представления](https://developer.android.com/training/material/shadows-clipping.html).


## <a name="color-features"></a>Параметры цвета

Android 5.0 предоставляет две новые функции управления цветом в приложениях.

-   *Drawable изменяется исследуемое* позволяет изменить цвета графические активы, изменив атрибут размещения.

-   *Извлечение заметной цветов* позволяет динамически настраивать цветовую тему приложения для координации с цветовую палитру для изображения.


### <a name="drawable-tinting"></a>Drawable изменяется исследуемое

Android 5.0 макеты распознает новый `tint` атрибут, который можно использовать, чтобы задать цвет прорисовываемых ресурсов без необходимости создания нескольких версий этих ресурсов для отображения различных цветов. Чтобы использовать эту функцию, определить растровое изображение альфа-маска и использование `tint` атрибут для определения цвета средства. Это позволяет после создания ресурсов и их цвет в соответствии с вашим фирменным макете.

В следующем примере, один ресурс изображения &ndash; белый логотип с прозрачным фоном &ndash; используется для создания оттенок вариантов:

![Xamarin белый логотип с прозрачным фоном](lollipop-images/xamarin-logo-white.png)

Этот логотип отображается над циклическая синим фоном, как показано в следующих примерах. Изображение в левой части показано, как выглядит эмблема без `tint` параметр. В центре изображения, логотипа `tint` атрибуту присваивается темно-серый. На рисунке справа `tint` присваивается светло-серый цвет:

![Примеры выше эмблемы с параметрами разных оттенком](lollipop-images/drawable-tinting.png)

Дополнительные сведения о drawable изменяется исследуемое в Android 5.0, см. в разделе [Drawable изменяется исследуемое](https://developer.android.com/training/material/drawables.html#DrawableTint).


### <a name="prominent-color-extraction"></a>Извлечение заметной цветов

Новый Android 5.0 `Palette` класс позволяет извлекать цвета из изображения, чтобы их можно динамически применить к пользовательской цветовой палитры. `Palette` Класс извлекает шесть цвета из изображения и метки эти цвета в соответствии с их относительного уровня цвет насыщенности и яркости:

-   Активное

-   Активное темный

-   Активное света

-   Отключить звук сигнала

-   Звук темный

-   Звук света

Например на следующих снимках экрана, приложение просмотра фотографий извлекает заметной цвета из изображения на экране и использует эти цвета для адаптировать цветовую схему приложения, соответствующие изображения:

[![Снимки экрана темы розовый, зеленого и синего цвета извлечения](lollipop-images/prominent-color-extraction-sml.png)](lollipop-images/prominent-color-extraction.png#lightbox)

На приведенном выше снимке экрана, панели действий имеет значение извлеченные «активное light» цвет и фон имеет значение извлеченные «активное темноте» цвет. В каждом из примеров выше строку небольшие цветные квадраты проиллюстрировано цвета палитры, которые были извлечены из образа.

Дополнительные сведения о извлечение цветов в Android 5.0, см. в разделе [извлечения важных цвета из изображения](https://developer.android.com/training/material/drawables.html#ColorExtract).


## <a name="new-ui-widgets"></a>Новые мини-приложения пользовательского интерфейса

Android 5.0 появились две новые мини-приложения пользовательского интерфейса.

-   `RecyclerView` &ndash; Группа представления, отображающий список элементов для прокрутки.

-   `CardView` &ndash; Базовый макет со скругленными углами.

Оба мини-приложений включает встроенные поддержку тема материала функций; например `RecyclerView` используется для добавления и удаления представлений, анимации и `CardView` использует просмотр теней, чтобы каждая карта поверх фона. На следующем снимке экрана показаны примеры эти новые мини-приложения:

[![Снимки экрана приложений, созданных с помощью RecyclerView](lollipop-images/recyclerview-cardview-sml.png)](lollipop-images/recyclerview-cardview.png#lightbox)

Снимок экрана: в левой части является примером `RecyclerView` как применяемого в приложение электронной почты и снимке экрана на правом является примером `CardView` как использовать в приложении travel резервирования.


### <a name="recyclerview"></a>RecyclerView

`RecyclerView` аналогичен `ListView,` , но лучше всего подходит для больших наборов представлений или списками с элементами, которые изменяются динамически. Как и `ListView,` адаптер для доступа к базового набора данных задается. Однако в отличие от `ListView,` использовании *диспетчер макета* для размещения элементов в пределах `RecyclerView`. Диспетчер структуры также обеспечивает повторное использование представления; он управляет повторное использование представлений элементов, которые больше не отображаются для пользователя.

При использовании `RecyclerView` мини-приложение, необходимо указать `LayoutManager` и адаптера. Как показано на этом рисунке `LayoutManager` является посредником между адаптером и `RecyclerView`:

![Схема RecyclerView с поддержкой LayoutManager, адаптер и набор данных](lollipop-images/recyclerview-diagram.png)

Далее на снимках экрана показаны `RecyclerView` , содержащий 100 элементов (каждый элемент состоит из `ImageView` и `TextView`):

[![Снимки экрана приложения RecyclerView прокрутке образов](lollipop-images/recyclerview-scroll-sml.png)](lollipop-images/recyclerview-scroll.png#lightbox)

`RecyclerView` обрабатывает этот большой набор данных с легкостью &ndash; прокрутка в начале списка, до конца списка в этом образце приложения только через несколько секунд. `RecyclerView` также поддерживает анимацию; на самом деле анимацию для добавления и удаления элементов включены по умолчанию. При добавлении элемента `RecyclerView`, исчезновения в, как показано в этой последовательности снимки экрана:

[![Кадр с кадра снимок постепенное исчезновение элемента photo в](lollipop-images/recyclerview-animation-sml.png)](lollipop-images/recyclerview-animation.png#lightbox)

Дополнительные сведения о `RecyclerView`, см. в разделе [RecyclerView](~/android/user-interface/layouts/recycler-view/index.md).


### <a name="cardview"></a>CardView

`CardView` — Это простое представление, которое имитирует карту с плавающей запятой со скругленными углами. Так как `CardView` имеет встроенное представление теней, он предоставляет простой способ добавления в приложение visual глубины. На следующих снимках экрана показано три ориентированных на текст примера `CardView`:

[![Снимки экрана приложений, использовании RecyclerView с элементами на основе CardView](lollipop-images/recyclerview-cardview-sml.png)](lollipop-images/recyclerview-cardview.png#lightbox)

Каждый из карточек в приведенном выше примере содержит `TextView`; цвет фона задается с помощью `cardBackgroundColor` атрибута.

Дополнительные сведения о `CardView`, см. в разделе [CardView](~/android/user-interface/controls/card-view.md).


## <a name="enhanced-notifications"></a>Улучшенные уведомления

Система уведомлений в Android 5.0 значительно обновлен новый визуальный формат и новые функции. Уведомления выглядят в Android 5.0. Например уведомления в Android 5.0 теперь использовать темно-текст над светлым фоном:

![Пример без развернутой уведомление Android 5.0](lollipop-images/expanded-notification-contracted.png)

Когда крупный значок отображается в уведомлении (как показано в приведенном выше примере), Android 5.0 представляется мелкого значка в виде значка на значке больших. 

В Android 5.0 уведомления могут также отображаться на экране блокировки устройства.
Например ниже приведен пример снимка экрана с экрана блокировки с одно уведомление.

[![Снимок экрана уведомлений, отображаемых на экране блокировки](lollipop-images/lockscreen-notification-sml.png)](lollipop-images/lockscreen-notification.png#lightbox)

Пользователи могут дважды коснитесь уведомления на экране блокировки, разблокировки устройства и перейти к приложению, являющийся источником этого уведомления, или проведите по экрану, чтобы закрыть уведомление. Уведомления содержат новый *видимость* параметр, который определяет, какой объем содержимого, которые могут отображаться на экране блокировки. Пользователи могут выбрать, следует ли разрешить конфиденциального содержимого, которые должны отображаться в уведомления экрана блокировки.

Android 5.0 появился новый формат уведомлений с высоким приоритетом презентации вызывается *информационных индикаторов*. Уведомления о новинках проведите пальцем вниз из верхней части экрана на несколько секунд и затем кто куда обратно в оттенок уведомлений в верхней части экрана. Уведомления о новинках делают возможным для системы пользовательского интерфейса для размещения важных информацию, не нарушая выполняемое действие. В следующем примере показано такое простое уведомление о новинках, которое отображается поверх приложения:

[![Пример heads-up уведомления](lollipop-images/heads-up-notification-sml.png)](lollipop-images/heads-up-notification.png#lightbox)

Уведомления о новинках обычно используются для следующих событий:

-   Новый следующего сообщения

-   Телефонный звонок

-   Значение, указывающее низкого заряда батарей

-   Оповещение

Android 5.0 отображает уведомление в формате информационных индикаторов, только в том случае, если он имеет параметр приоритета высокой или max.

В Android 5.0 может предоставить метаданные уведомлений для Android сортировки и более разумно отображать уведомления. Android 5.0 организует уведомлений в соответствии с приоритетом, видимость и категории.
Уведомления категории используются для фильтрации, какие уведомления могут быть представлены, когда устройство находится в *не беспокоить* режим.

Подробные сведения о создании и запуске уведомления с новейшими функциями Android 5.0 см. в разделе [локальных уведомлений](~/android/app-fundamentals/notifications/local-notifications.md).


## <a name="new-apis"></a>Новые интерфейсы API

Помимо новых функций внешний вид и поведение, описанных выше Android 5.0 добавляет новые интерфейсы API, расширить возможности существующих мультимедиа, хранения и функциональные возможности беспроводного подключения. Кроме того Android 5.0 включает в себя новые интерфейсы API, которые предоставляют поддержку для новой функции планировщика заданий.

### <a name="camera"></a>Камера

Android 5.0 предоставляет ряд новых интерфейсов API для камеры, улучшенные возможности. Новый `Android.Hardware.Camera2` пространство имен включает функциональные возможности, доступ к отдельным камеры устройства с подключением на устройстве Android. Кроме того `Android.Hardware.Camera2` моделирует каждого камеры устройства, как конвейер: он принимает запрос на захват записи образа и затем выводит результат. Такой подход позволяет для приложений в очередь нескольких запросов записи на устройстве камеры.

Эти новые возможности сделать следующие API:

-   `CameraManager.GetCameraIdList` &ndash; Обеспечивает программный доступ к камере устройства; использовании `CameraManager.OpenCamera` для подключения к устройству определенные камеры.

-   `CameraCaptureSession` &ndash; Фиксирует или отправляет образы с камеры устройства. Вы реализуете `CameraCaptureSession.CaptureListener` интерфейс для обработки новых событий захвата образа.

-   `CaptureRequest` &ndash; Определяет параметры захвата.

-   `CaptureResult` &ndash; Предоставляет результаты операции захвата образа.

Дополнительные сведения о новых API в Android 5.0 камеры, см. в разделе [мультимедиа](https://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="audio-playback"></a>Воспроизведение звука

Android 5.0 обновлений `AudioTrack` класса для повышения воспроизведения звука:

-   `ENCODING_PCM_FLOAT` &ndash; Настраивает `AudioTrack` принимать звуковых данных в формате с плавающей запятой для повышения динамического диапазона больше запасом и более высоким качеством (благодаря наличию повышенную точность). Кроме того формате с плавающей запятой позволяет избежать звука.

-   `ByteBuffer` &ndash; Теперь можно указать аудиозапись `AudioTrack` в виде массива байтов.

-   `WRITE_NON_BLOCKING` &ndash; Этот параметр упрощает буферизации и многопоточности для некоторых приложений.

Дополнительные сведения о `AudioTrack` улучшения в Android 5.0 см. в разделе [мультимедиа](https://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="media-playback-control"></a>Управления воспроизведением мультимедиа

Android 5.0 введен новый `Android.Media.MediaController` класса, которое заменяет `RemoteControlClient`. `Android.Media.MediaController` предоставляет упрощенный транспорта управления API-интерфейсы, а также управление потоками воспроизведением вне контекста пользовательского интерфейса. Следующие новые API обработки элементов управления транспорта:

-   `Android.Media.Session.MediaSession` &ndash; Сеанс управления мультимедиа, который обрабатывает несколько контроллеров. Вы вызываете `MediaSession.GetSessionToken` для запроса маркера, приложение использует для взаимодействия с сеансом.

-   `MediaController.TransportControls` &ndash; Дескрипторы транспорта команд, таких как **воспроизведение**, **остановить**, и **Skip**.

Кроме того, вы можете использовать новый `Android.App.Notification.MediaStyle` класс должен быть сопоставлен сеанс носителя содержимого форматированного уведомления (например, извлечение и отображение альбома).

Дополнительные сведения о новых возможностях управления воспроизведением мультимедиа в Android 5.0, см. в разделе [мультимедиа](https://developer.android.com/about/versions/android-5.0.html#Media).

### <a name="storage"></a>Хранилище

Android 5.0 обновляет Framework доступ хранилища для упрощения работы с каталогами и документы приложений:

-   Для выбора поддерева каталога, можно создавать и отправлять `Android.Intent.Action.OPEN_DOCUMENT_TREE` намерение. Этого намерения заставляет систему для отображения всех экземпляров поставщика, которые поддерживают выбора поддерева; Затем пользователь просматривает и выбирает каталог.

-   Для создания и администрирования новых документов или каталогов в любом месте в поддерево, используйте новый `CreateDocument`, `RenameDocument`, и `DeleteDocument` методы `DocumentsContract`.

-   Для получения пути к каталогам мультимедиа на всех устройствах общее хранилище, вызовите новый `Android.Content.Context.GetExternalMediaDirs` метод.

Дополнительные сведения о хранилище новые интерфейсы API в Android 5.0, см. в разделе [хранения](https://developer.android.com/preview/api-overview.html#Storage).

### <a name="wireless--connectivity"></a>Беспроводного и подключение

Android 5.0 добавляет следующие усовершенствования API для беспроводных и подключения:

-   Новый *несколькими сетевыми* API, которые делают возможным для приложений найти и выбрать сетей с помощью определенных возможностей до соединения.

-   Функции Bluetooth широковещательной рассылки, позволяющий на устройстве Android 5.0, в качестве периферийных устройств Bluetooth с низким энергопотреблением.

-   NFC усовершенствования, которые упрощают процесс для использования функциональности Ближнего связи для обмена данными с другими устройствами.

Дополнительные сведения о новых беспроводных и подключения к API в Android 5.0, см. в разделе [беспроводных и подключения](https://developer.android.com/preview/api-overview.html#Wireless).

### <a name="job-scheduling"></a>Планирование заданий

Android 5.0 вводится новый `JobScheduler` API, который может помочь пользователям свести к минимуму разряду батареи, планирования задач, определенные для выполнения только в том случае, когда устройство подключено и взимать плату. Эта функция планировщика заданий можно использовать также для планирования задачи для выполнения при более подходящие для этой задачи, такие как загрузка больших файлов, когда устройство подключено по сети Wi-Fi вместо лимитных сетевых условий.

Дополнительные сведения о новое задание, планирование, интерфейсы API в Android 5.0, см. в разделе [планирования заданий](https://developer.android.com/preview/api-overview.html#JobScheduler).

## <a name="summary"></a>Сводка

В этой статье предоставляются общие сведения о важных новых функций в Android 5.0 для разработчиков приложений Xamarin.Android:

-   Тема материала

-   Анимации

-   Представление тени и повышение прав

-   Параметры цвета, например drawable изменяется исследуемое и известных цвета извлечения

-   Новый `RecyclerView` и `CardView` мини-приложения

-   Улучшения уведомлений

-   Новые интерфейсы API для камеры, воспроизведение звука, управления мультимедиа, хранилища, беспроводной или подключения и планирование заданий

Если вы не занимались разработкой программ Xamarin Android, прочтите [установки и настройки](~/android/get-started/installation/index.md) помогут вам начать работу с Xamarin.Android.
[Привет, Android](~/android/get-started/hello-android/index.md) является отличным введением о том, как создавать проекты Android.



## <a name="related-links"></a>Связанные ссылки

- [Android L Developer Preview](https://developer.android.com/preview/index.html)
- [Получить пакет SDK для Android](https://developer.android.com/sdk/index.html#Other)
- [Материального исполнения](https://developer.android.com/preview/material/index.html)
- [Принципы материального исполнения](http://static.googleusercontent.com/media/www.google.com/en/us/design/material-design.pdf)
