---
title: Фрагменты
description: В Android 3,0 появились фрагменты, демонстрирующие поддержку более гибких схем для различных размеров экрана на телефонах и планшетах. В этой статье рассматривается использование фрагментов для разработки приложений Xamarin. Android, а также поддержка фрагментов на устройствах до Android 3,0 (API уровня 11).
ms.prod: xamarin
ms.assetid: 1AFB4242-A337-F8E0-83D9-B8D850D7F384
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 03/15/2018
ms.openlocfilehash: b04ecf0685e78b73346ea5af815ed46f98b5da0f
ms.sourcegitcommit: 6264fb540ca1f131328707e295e7259cb10f95fb
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2019
ms.locfileid: "69524361"
---
# <a name="fragments"></a>Фрагменты

_В Android 3,0 появились фрагменты, демонстрирующие поддержку более гибких схем для различных размеров экрана на телефонах и планшетах. В этой статье рассматривается использование фрагментов для разработки приложений Xamarin. Android, а также поддержка фрагментов на устройствах до Android 3,0 (API уровня 11)._

## <a name="fragments-overview"></a>Общие сведения о фрагментах

Крупные размеры экрана, найденные на большинстве планшетов, добавляют дополнительный уровень сложности для разработки Android — макет, предназначенный для небольших экранов, не обязательно должен работать для более крупных экранов и наоборот. Чтобы сократить число осложнений, которые появились в этой версии, в Android 3,0 добавлены две новые функции, фрагменты и *пакеты поддержки*.

Фрагменты можно рассматривать как модули пользовательского интерфейса. Они позволяют разработчику разделить пользовательский интерфейс на изолированные, многократно используемые части, которые можно выполнять в отдельных действиях. Во время выполнения сами действия решают решить, какие фрагменты будут использоваться.

Пакеты поддержки первоначально назывались *библиотеками совместимости* и позволяли использовать фрагменты на устройствах под управлением версий Android до Android 3,0 (API уровня 11).

Например, на рисунке ниже показано, как в одном приложении используются фрагменты различных форм-факторов устройств.

[![Схема использования фрагментов на планшетах и в телефонах](images/00.png)](images/00.png#lightbox)

*Фрагмент A* содержит список, а *фрагмент б* содержит подробные сведения об элементе, выбранном в этом списке. Когда приложение запускается на планшете, оно может отображать оба фрагмента в одном действии. Если одно и то же приложение запускается на телефоне (с меньшим размером экрана), фрагменты размещаются в двух отдельных действиях. Фрагменты A и B одинаковы для обоих форм-факторов, но действия, в которых они размещены, различаются.

Чтобы упростить координацию действий и управлять всеми этими фрагментами, в Android появился новый класс с именем *фрагментманажер*. Каждое действие имеет собственный экземпляр класса `FragmentManager` для добавления, удаления и поиска размещенных фрагментов. На следующей схеме показана связь между фрагментами и действиями.

[![Схема, иллюстрирующая отношения между действиями, диспетчером фрагментов и фрагментами](images/01.png)](images/01.png#lightbox)

В некоторых случаях фрагменты можно рассматривать как составные элементы управления или как мини-действия. Они разбивают элементы пользовательского интерфейса на многократно используемые модули, которые затем могут использоваться разработчиками в действиях независимо друг от друга. У фрагмента есть иерархия представлений, как и для действия, но, в отличие от действия, она может совместно использоваться на экранах. Представления отличаются от фрагментов в тех фрагментах, которые имеют собственный жизненный цикл. представления не имеют.

Хотя действие является узлом для одного или нескольких фрагментов, оно не осведомлено непосредственно о самих фрагментах. Аналогично, фрагменты не знают непосредственно о других фрагментах в действии размещения. Тем не менее, фрагменты и действия знают `FragmentManager` об этом в своих действиях. С помощью `FragmentManager`можно выполнить действие или фрагмент, чтобы получить ссылку на конкретный экземпляр фрагмента, а затем вызвать методы для этого экземпляра. Таким образом, действие или фрагменты могут взаимодействовать с другими фрагментами и взаимодействовать с ними.

Это руководство содержит исчерпывающее описание использования фрагментов, включая:

- **Создание фрагментов** — создание основных методов фрагмента и ключей, которые должны быть реализованы.
- **Управление фрагментами и транзакции** — как управлять фрагментами во время выполнения.
- **Пакет поддержки Android** — использование библиотек, позволяющих использовать фрагменты в более старых версиях Android.


## <a name="requirements"></a>Требования

Фрагменты доступны в пакет SDK для Android, начиная с API уровня 11 (Android 3,0), как показано на следующем снимке экрана:

[![Выбор уровня API в диспетчере пакет SDK для Android](images/02.png)](images/02.png#lightbox)

Фрагменты доступны в Xamarin. Android 4,0 и более поздних версиях. Для использования фрагментов приложение Xamarin. Android должно быть предназначено по меньшей мере на уровне API 11 (Android 3,0) или более поздней версии. Целевую платформу можно задать в свойствах проекта, как показано ниже.

[![Задание уровня API целевой платформы в параметрах проекта](images/03-sml.png)](images/03.png#lightbox)

Фрагменты можно использовать в более ранних версиях Android с помощью пакета поддержки Android и Xamarin. Android 4,2 или более поздней версии. Сведения о том, как это сделать, подробно описаны в документах этого раздела.


## <a name="related-links"></a>Связанные ссылки

- [Коллекция хонэйкомб (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/honeycombgallery)
- [Фрагменты](https://developer.android.com/guide/topics/fundamentals/fragments.html)
- [Пакет поддержки](https://developer.android.com/sdk/compatibility-library.html)
- [Веб – семинар МОТОДЕВ: Знакомство с фрагментами](http://motodev.adobeconnect.com/p9h1aqk3ttn/)
