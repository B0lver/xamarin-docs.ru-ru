---
title: Реализация фрагментов — пошаговое руководство
description: В этой статье рассматривается использование фрагментов для разработки приложений Xamarin. Android.
ms.topic: tutorial
ms.prod: xamarin
ms.assetid: A71E9D87-CB69-10AB-CE51-357A05C76BCD
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 04/26/2018
ms.openlocfilehash: b601fc37cc75dcd43c3688de8d302f0a47a06b35
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73027419"
---
# <a name="implementing-fragments---walkthrough"></a>Реализация фрагментов — пошаговое руководство

_Фрагменты — это автономные модульные компоненты, которые могут помочь в устранении сложности приложений Android, предназначенных для устройств с различными размерами экранов. В этой статье рассматривается создание и использование фрагментов при разработке приложений Xamarin. Android._

## <a name="overview"></a>Обзор

В этом разделе вы узнаете, как создавать и использовать фрагменты в приложении Xamarin. Android. Это приложение будет отображать названия нескольких воспроизводимых Уильям Шекспир в списке. Когда пользователь отключается по названию игры, приложение будет отображать цитату из этого воспроизведения в отдельном действии:

[![приложение, работающее на телефоне Android в книжной ориентации](./images/intro-screenshot-phone-sml.png)](./images/intro-screenshot-phone.png#lightbox)

Когда телефон вращается в альбомном режиме, внешний вид приложения изменится: как список воспроизведения, так и кавычки будут отображаться в одном действии. Если выбрано воспроизведение, предложение будет отображаться в том же действии:

[![приложение, работающее на телефоне Android в альбомном режиме](./images/intro-screenshot-phone-land-sml.png)](./images/intro-screenshot-phone-land.png#lightbox)

Наконец, если приложение работает на планшете:

[![приложение, работающее на планшете Android](./images/intro-screenshot-tablet-sml.png)](./images/intro-screenshot-tablet.png#lightbox)

Этот пример приложения можно легко адаптировать к различным конструктивным параметрам и ориентациям с минимальными изменениями кода, используя фрагменты и [альтернативные макеты](/xamarin/android/app-fundamentals/resources-in-android/alternate-resources).

Данные для приложения будут находиться в двух строковых массивах, которые жестко закодированы в приложении C# в виде массивов строк. Каждый массив будет служить источником данных для одного фрагмента.  Один массив будет содержать имя некоторых воспроизводимых Шекспир, а другой массив будет содержать цитату из этого воспроизведения. При запуске приложение будет отображать имена воспроизведения в `ListFragment`. Когда пользователь щелкает воспроизведение в `ListFragment`, приложение запустит другое действие, которое будет отображать квоту.

Пользовательский интерфейс для приложения будет состоять из двух макетов: один для книжной и один для альбомного режима. Во время выполнения Android определит, какую разметку загружать в зависимости от ориентации устройства, и предоставит этот макет действию для подготовки к просмотру. Вся логика реагирования на нажатие пользователем и отображение данных будет содержаться в фрагментах. Действия в приложении существуют только в качестве контейнеров, в которых будут размещаться фрагменты.

Это пошаговое руководство будет разбито на два руководства. [Первая часть](./walkthrough.md) посвящена основным частям приложения. Будет создан один набор макетов (оптимизированный для книжного режима), а также два фрагмента и два действия:

1. `MainActivity` &nbsp; это действие запуска приложения.
1. `TitlesFragment` &nbsp; этот фрагмент будет отображать список названий воспроизведения, записанных Уильям Шекспир. Он будет размещен на `MainActivity`.
1. `PlayQuoteActivity` &nbsp; `TitlesFragment` запустит `PlayQuoteActivity` в ответ на то, что пользователь выбирает воспроизведение в `TitlesFragment`.
1. `PlayQuoteFragment` &nbsp; этот фрагмент будет отображать цитату с Уильям Шекспир. Он будет размещен на `PlayQuoteActivity`.

[Вторая часть этого пошагового руководства](./walkthrough-landscape.md) посвящена добавлению альтернативного макета (оптимизированного для альбомного режима), в котором отображаются оба фрагмента экрана. Кроме того, в код будут внесены некоторые небольшие изменения кода, чтобы приложение адаптирует свое поведение к количеству фрагментов, одновременно отображаемых на экране.

## <a name="related-links"></a>Связанные ссылки

- [Фрагментсвалксраугх (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/fragmentswalkthrough)
- [Общие сведения о конструкторе](~/android/user-interface/android-designer/index.md)
- [Реализация фрагментов](https://developer.android.com/guide/topics/fundamentals/fragments.html)
- [Пакет поддержки](https://developer.android.com/sdk/compatibility-library.html)
