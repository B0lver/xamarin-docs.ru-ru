---
title: Реализация фрагментов кода — пошаговое руководство
description: В этой статье рассматривается использование фрагментов кода для разработки приложений Xamarin.Android.
ms.topic: tutorial
ms.prod: xamarin
ms.assetid: A71E9D87-CB69-10AB-CE51-357A05C76BCD
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 04/26/2018
ms.openlocfilehash: b601fc37cc75dcd43c3688de8d302f0a47a06b35
ms.sourcegitcommit: 9ee02a2c091ccb4a728944c1854312ebd51ca05b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2020
ms.locfileid: "73027419"
---
# <a name="implementing-fragments---walkthrough"></a>Реализация фрагментов кода — пошаговое руководство

_Фрагменты — это автономные модульные компоненты, которые могут помочь в устранении сложностей с приложениями Android, предназначенными для устройств с различными размерами экранов. В этой статье рассматривается создание и использование фрагментов при разработке приложений Xamarin.Android._

## <a name="overview"></a>Обзор

В этом разделе вы узнаете, как создавать и использовать фрагменты в приложении Xamarin.Android. Это приложение будет отображать названия нескольких пьес Уильяма Шекспира в списке. Когда пользователь нажимает название пьесы, приложение будет отображать цитату из этой пьесы в отдельном действии:

[![Приложение, работающее на телефоне Android в книжной ориентации](./images/intro-screenshot-phone-sml.png)](./images/intro-screenshot-phone.png#lightbox)

Когда телефон возвращается к альбомной ориентации, внешний вид приложения изменится: как список пьес, так и цитаты будут отображаться в одном и том же действии. Если выбрана пьеса, цитата будет отображаться в том же действии:

[![Приложение, работающее на телефоне Android в альбомной ориентации](./images/intro-screenshot-phone-land-sml.png)](./images/intro-screenshot-phone-land.png#lightbox)

Наконец, если приложение запущено на планшете:

[![Приложение, работающее на планшете Android](./images/intro-screenshot-tablet-sml.png)](./images/intro-screenshot-tablet.png#lightbox)

Этот пример приложения можно легко адаптировать к различным формфакторам и ориентациям с минимальными изменениями кода, используя фрагменты и [альтернативные макеты](/xamarin/android/app-fundamentals/resources-in-android/alternate-resources).

Данные для приложения будут находиться в двух строковых массивах, которые прописаны в приложении C# в виде строковых массивов. Каждый массив будет служить источником данных для одного фрагмента.  Один массив будет содержать название пьесы Шекспира, а другой массив будет содержать цитату из нее. При запуске приложение будет отображать названия пьес в `ListFragment`. Когда пользователь нажимает название пьесы в `ListFragment`, приложение запустит другое действие, которое будет отображать цитату.

Пользовательский интерфейс для приложения будет состоять из двух макетов: один для книжной и один для альбомной ориентации. Во время выполнения Android определит, какой макет загружать в зависимости от ориентации устройства, и предоставит этот макет действию для подготовки к преобразованию для просмотра. Вся логика реагирования на нажатие пользователем и отображение данных будет содержаться в фрагментах. Действия в приложении существуют только в качестве контейнеров, в которых будут размещаться фрагменты.

Это пошаговое руководство будет разбито на два руководства. [Первая часть](./walkthrough.md) будет посвящена основным частям приложения. Будет создан один набор макетов (оптимизированных для книжной ориентации), а также два фрагмента и два действия:

1. `MainActivity` &nbsp; это действие запуска приложения.
1. `TitlesFragment` &nbsp; — этот фрагмент позволяет отобразить список названий пьес, написанных Уильямом Шекспиром. Он размещается в `MainActivity`.
1. `PlayQuoteActivity` &nbsp; `TitlesFragment` запускает `PlayQuoteActivity` в ответ на выбор пьесы пользователем в `TitlesFragment`.
1. `PlayQuoteFragment` &nbsp; — этот фрагмент позволяет отобразить цитату из пьесы Уильяма Шекспира. Он размещается в `PlayQuoteActivity`.

Во [второй части этого пошагового руководства](./walkthrough-landscape.md) будет рассматриваться добавление альтернативного макета (оптимизированного для альбомной ориентации), в котором на экране отображаются оба фрагмента. Кроме того, в код будут внесены некоторые небольшие изменения, чтобы приложение адаптировало свое поведение к количеству фрагментов, одновременно отображаемых на экране.

## <a name="related-links"></a>Связанные ссылки

- [FragmentsWalkthrough (пример)](https://docs.microsoft.com/samples/xamarin/monodroid-samples/fragmentswalkthrough)
- [Общие сведения о конструкторе](~/android/user-interface/android-designer/index.md)
- [Реализация фрагментов](https://developer.android.com/guide/topics/fundamentals/fragments.html)
- [Пакет поддержки](https://developer.android.com/sdk/compatibility-library.html)
