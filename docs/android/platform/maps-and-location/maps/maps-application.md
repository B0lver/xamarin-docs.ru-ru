---
title: Запуск приложения Maps
description: Запуск встроенного приложения Maps в приложении Xamarin. Android.
ms.prod: xamarin
ms.assetid: 929EACB8-8950-50E1-093C-43FB5F1F1CD5
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 06/25/2018
ms.openlocfilehash: b950326eb5a124d5040caa0044309630a2a53d38
ms.sourcegitcommit: 57f815bf0024b1afe9754c0e28054fc0a53ce302
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/06/2019
ms.locfileid: "70761674"
---
# <a name="launching-the-maps-application"></a>Запуск приложения Maps

Самый простой способ работы с картами в Xamarin. Android — использовать встроенное приложение Maps, показанное ниже:

[![Пример снимка экрана встроенного приложения Google Maps](maps-application-images/01-mapsapplication.png)](maps-application-images/01-mapsapplication.png#lightbox)

При использовании приложения Maps карта не будет частью приложения. Вместо этого приложение запустит приложение Maps и загрузит карту извне. В следующем разделе рассматривается использование Xamarin. Android для запуска карт, аналогичных приведенным выше.

## <a name="creating-the-intent"></a>Создание цели

Работа с приложением Maps так же проста, как создание цели с соответствующим URI, установка действия в Актионвиев и вызов метода StartActivity. Например, следующий код запускает приложение Maps в центре в заданной широте и долготе:

```csharp
var geoUri = Android.Net.Uri.Parse ("geo:42.374260,-71.120824");
var mapIntent = new Intent (Intent.ActionView, geoUri);
StartActivity (mapIntent);
```

Этот код необходим для запуска схемы, показанной на предыдущем снимке экрана. В дополнение к указанию широты и долготы, Схема универсального кода ресурса (URI) для Map поддерживает несколько других параметров.

## <a name="geo-uri-scheme"></a>Схема географического URI

Приведенный выше код использовал географическую схему для создания универсального кода ресурса (URI). Эта схема URI поддерживает несколько форматов, перечисленных ниже.

- `geo:latitude,longitude`&ndash; Открывает приложение Maps в центре Lat/долготы. 

- `geo:latitude,longitude?z=zoom`&ndash; Открывает приложение Maps в центре Lat/долготы и масштабируется до указанного уровня. Уровень масштаба может быть в диапазоне от 1 до 23: 1 отображает всю земля, а 23 — ближайший уровень масштабирования.

- `geo:0,0?q=my+street+address`&ndash; Открывает приложение Maps в расположении почтового адреса. 

- `geo:0,0?q=business+near+city`&ndash; Открывает приложение Maps и отображает результаты поиска с заметками. 

Версии URI, которые принимают запрос (а именно адрес улицы или условия поиска), используют службу геокодирования Google для получения расположения, которое затем отображается на карте. Например, URI `geo:0,0?q=coop+Cambridge` приводит к отображению показанной ниже схемы:

[![Пример снимка экрана, показывающий Google Maps с поисковым выражением](maps-application-images/02-mapsearch.png)](maps-application-images/02-mapsearch.png#lightbox)

Дополнительные сведения о схемах географических URI см. в разделе [Отображение расположения на карте](https://developer.android.com/guide/components/intents-common.html#Maps).

## <a name="street-view"></a>Представление улицы

Помимо географической схемы, Android также поддерживает загрузку представлений улицы с намерением. Ниже приведен пример приложения для просмотра улицы, запускаемого из Xamarin. Android.

[![Пример снимка экрана представления улицы](maps-application-images/03-streetview.png)](maps-application-images/03-streetview.png#lightbox)

Чтобы запустить представление улицы, просто используйте `google.streetview` схему универсального кода ресурса (URI), как показано в следующем коде:

```csharp
var streetViewUri = Android.Net.Uri.Parse (
       "google.streetview:cbll=42.374260,-71.120824&cbp=1,90,,0,1.0&mz=20");  
var streetViewIntent = new Intent (Intent.ActionView, streetViewUri);  
StartActivity (streetViewIntent);
```

Использованная выше схема URI Google. стритвиев имеет следующий вид:

```csharp
google.streetview:cbll=lat,lng&cbp=1,yaw,,pitch,zoom&mz=mapZoom
```

Как видите, поддерживаются несколько параметров, как показано ниже.

- `lat`&ndash; Широта расположения, которое должно отображаться в представлении улицы.

- `lng`&ndash; Долгота расположения, отображаемая в представлении улицы.

- `pitch`&ndash; Угол панорамы для просмотра улицы, измеряемый от центра в градусах, где 90 градусов выполняется вертикально и-90 градусов.

- `yaw`&ndash; Центр — вид панорамы просмотра улицы, измеряемый по часовой стрелке в градусах от Севера.

- `zoom`&ndash; Коэффициент увеличения для панорамы просмотра улицы, где 1,0 = нормальный масштаб, 2,0 = масштабное 2x, 3,0 = с масштабом 4X и т. д.

- `mz`&ndash; Уровень масштаба карты, который будет использоваться при переходе к приложению Maps из представления улицы.

Работа со встроенным приложением Maps или представлением улицы — это простой способ быстрого добавления поддержки сопоставления. Однако API карт Android обеспечивает более точный контроль над процессом сопоставления.
