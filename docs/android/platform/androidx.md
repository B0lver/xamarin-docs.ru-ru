---
title: андроидкс
description: Как приступить к разработке приложений с помощью Андроидкс с использованием Xamarin. Android.
ms.assetid: CC21BD28-EF67-4132-8C0D-CF25B78BA78B
author: JonDouglas
ms.author: jodou
ms.date: 02/20/2020
ms.openlocfilehash: ad6ea2f68fc01183f7ed42e85094f6be5fb3d9f9
ms.sourcegitcommit: 2836f2003a5b745b042ee6003a3d6a11b9139e44
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/26/2020
ms.locfileid: "77618914"
---
# <a name="androidx-with-xamarin"></a>Андроидкс с Xamarin

_Как приступить к разработке приложений с помощью Андроидкс с использованием Xamarin. Android._

Андроидкс является значительным улучшением исходной библиотеки поддержки Android, которая больше не поддерживается. Пакеты **андроидкс** полностью заменяют библиотеку поддержки Android, предоставляя функции четности и новые библиотеки, которые можно использовать в приложениях Android.

Андроидкс включает следующие функции:

- Все пакеты в Андроидкс теперь имеют одинаковое пространство имен, начинающееся с `androidx`. Это означает, что все пакеты библиотеки поддержки Android сопоставляются с соответствующим пакетом `androidx.*`.
- пакеты `androidx` отдельно обслуживаются и обновляются. Это означает, что библиотеки Андроидкс можно обновлять независимо друг от друга.
- Начиная с V28 в библиотеке поддержки Android больше не будет выпусков. Вместо этого в `androidx` будет включена вся разработка.

![Логотип Андроидкс](~/android/platform/androidx-images/AndroidXLogo.png)

## <a name="requirements"></a>Требования

Следующий список необходим для использования функций Андроидкс в приложениях на основе Xamarin:

- **Visual Studio** — на Windows Update в visual Studio 2019 версии 16,4 или более поздней. В macOS обновите Visual Studio 2019 для Mac версии 8,4 или более поздней.
- **Xamarin. Android** — Xamarin. Android 10,0 или более поздней версии должен быть установлен вместе с Visual Studio (Xamarin. Android автоматически устанавливается в составе рабочей нагрузки **.NET для разработки мобильных приложений** в Windows и устанавливается как часть **установщика Visual Studio для Mac**).
- **Пакет Java Developer Kit** — для разработки Xamarin. Android 10,0 требуется JDK 8. Дистрибутив OpenJDK Майкрософт автоматически устанавливается в составе Visual Studio.
- **Пакет SDK для Android** -пакет SDK для Android API 28 или выше должны быть установлены через диспетчер пакет SDK для Android.

## <a name="get-started"></a>Начало работы

Вы можете приступить к работе с Андроидкс, включив любой [пакет NuGet андроидкс](https://www.nuget.org/packages?q=Tags%3A%22AndroidX%22+Authors%3A%22Microsoft%22) в проект Android. Дополнительные сведения об установке и использовании пакета в [Visual Studio](https://docs.microsoft.com/nuget/quickstart/install-and-use-a-package-in-visual-studio) или [Visual Studio для Mac](https://docs.microsoft.com/nuget/quickstart/install-and-use-a-package-in-visual-studio-mac)

## <a name="behavior-changes"></a>Изменения в поведении

Так как Андроидкс является перестроением библиотеки поддержки Android, она включает шаги миграции, которые повлияют на приложения Android, созданные с помощью библиотеки поддержки Android.

### <a name="package-name-change"></a>Изменение имени пакета
Имена пакетов были изменены между старыми и новыми пакетами. Ниже можно увидеть пример этих изменений.

| Исходного                    | Создать                    |
| ---------------------- | ---------------------- |
| Android. support. * *     | андроидкс. @             |
| Android. Design. * *      | com. Google. Android. Material. @ |
| Android. support. Test. * * | андроидкс. Test. @       |
| Android. Arch. * *        | андроидкс. @             |
| Android. Arch. сохраняемость. комната. * * | андроидкс. комната. @ |
| Android. Arch. сохраняемость. * * | андроидкс. SQLite. @ |

Дополнительные сведения об именовании пакетов [см. в следующей документации](https://developer.android.com/jetpack/androidx/migrate#artifact_mappings).

## <a name="migration-tooling"></a>Средства миграции

Существует три шага миграции, которые необходимо учитывать для вашего приложения.

1. Если приложение включает в себя **пространства имен библиотеки поддержки Android и вы хотите перенести их в пространства имен андроидкс**, можно использовать нашу **миграцию в андроидкс** IDE Tools для выполнения большинства сценариев пространства имен. 

Включите **Андроидкс Migrator** с помощью **средств > параметры > Параметры Xamarin > Android** в Visual Studio 2019 (этот шаг можно пропустить на Visual Studio для Mac).

![Включить Андроидкс Migrator](~/android/platform/androidx-images/EnableAndroidXMigrator.png)

Щелкните проект правой кнопкой мыши и **выполните миграцию в андроидкс**.

![Переход на Андроидкс](~/android/platform/androidx-images/MigrateToAndroidX.png)

> [!NOTE] 
> Вам потребуется внести некоторые изменения в пространство имен вручную для сценариев, которые не охватываются этим инструментом. Несмотря на то, что мы будем сопоставлять правильный пакет, рекомендуется ознакомиться с официальным [сопоставлением артефактов](https://developer.android.com/jetpack/androidx/migrate/artifact-mappings) и [сопоставлениями классов](https://developer.android.com/jetpack/androidx/migrate/class-mappings) , чтобы упростить миграцию проекта.

2. Если приложение содержит **все зависимости, которые не были перенесены в пространство имен андроидкс**, необходимо использовать [библиотеку поддержки Android для андроидкс пакета миграции.](https://www.nuget.org/packages/Xamarin.AndroidX.Migration)
3. Если приложение **не содержит никаких зависимостей, требующих миграции пространства имен андроидкс**, вы можете использовать [библиотеки андроидкс в NuGet уже сегодня](https://www.nuget.org/packages?q=Tags%3A%22AndroidX%22+Authors%3A%22Microsoft%22).

## <a name="troubleshooting"></a>Диагностика

- Некоторые пакеты архитектуры в Андроидкс будут конфликтовать с версиями библиотеки поддержки. Чтобы устранить эту проблему, следует использовать Андроидкс версию этих пакетов и удалить версию библиотеки поддержки. Например, если вы ссылаетесь на `Xamarin.Android.Arch.Work.Runtime` в проекте, он будет конфликтовать с типами только что добавленного пакета `AndroidX.Work`.

## <a name="summary"></a>Сводка

В этой статье представлено Андроидкс и описано, как установить и настроить новейшие средства и пакеты для разработки Xamarin. Android с помощью Андроидкс. В нем предоставлены общие сведения о Андроидкс. В нем содержатся ссылки на разделы документации по API и разработчиков Android, которые помогут вам приступить к созданию приложений с помощью Андроидкс. Он также выделяет наиболее важные изменения в работе Андроидкс и разделы по устранению неполадок, которые могут повлиять на существующие приложения.

## <a name="related-links"></a>Связанные ссылки

- [Введение в Андроидкс | Xamarin, демонстрация](https://www.youtube.com/watch?v=M_l3RjTev5A)
- [андроидкс](https://developer.android.com/jetpack/androidx)
- [Репозиторий Xamarin Андроидкс GitHub](https://github.com/xamarin/AndroidX)
- [Репозиторий GitHub для миграции Xamarin Андроидкс](https://github.com/xamarin/XamarinAndroidXMigration)
