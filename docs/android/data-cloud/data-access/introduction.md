---
title: Общие сведения о хранении данных в Android
ms.prod: xamarin
ms.assetid: FDAC0771-4749-4758-865A-F1BD190CA54B
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 03/28/2017
ms.openlocfilehash: 21e3421125e6fd918a379c5501a44c15620f5d94
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73023783"
---
# <a name="introduction"></a>Вступление

## <a name="when-to-use-a-database"></a>Когда следует использовать базу данных

Хотя возможности хранения и обработки мобильных устройств увеличиваются, телефоны и Планшетные ПК по-прежнему будут отставать от настольных и переносных компьютеров. По этой причине стоит потратить некоторое время на планирование архитектуры хранилища данных для приложения, а не только при условии, что база данных является верным ответом на все время. Существует ряд различных параметров, отвечающих различным требованиям, например:

- **Предпочтения** — Android предлагает встроенный механизм для хранения простых пар "ключ-значение". Если вы храните простые параметры пользователя или небольшие фрагменты данных (например, сведения о персонализации), используйте собственные функции платформы для хранения информации такого типа.
- **Текстовые файлы** — пользовательский ввод или кэш загруженного содержимого (например, HTML) может храниться непосредственно в файловой системе. Используйте соответствующее соглашение об именовании файлов, чтобы облегчить организацию файлов и поиск данных.
- **Сериализованные файлы данных** — объекты могут сохраняться в файловой системе как XML или JSON. Платформа .NET Framework включает библиотеки, которые упрощают сериализацию и десериализацию объектов. Используйте подходящие имена для организации файлов данных.
- **База данных** — обработчик базы данных SQLite доступен на платформе Android и удобен для хранения структурированных данных, необходимых для выполнения запросов, сортировки или других манипуляций. Хранилище базы данных подходит для списков данных с множеством свойств.
- **Файлы изображений** — хотя двоичные данные можно хранить в базе данных на мобильном устройстве, рекомендуется хранить их непосредственно в файловой системе. При необходимости можно сохранить имена файлов в базе данных, чтобы связать образ с другими данными. При работе с большими изображениями или большим количеством изображений рекомендуется спланировать стратегию кэширования, которая удаляет файлы, которые больше не нужны, чтобы избежать использования всех дисков.

Если база данных является верным механизмом хранения для вашего приложения, в оставшейся части этого документа рассматривается использование SQLite на платформе Xamarin.

## <a name="advantages-of-using-a-database"></a>Преимущества использования базы данных

Использование базы данных SQL в мобильном приложении имеет ряд преимуществ:

- Базы данных SQL позволяют эффективно хранить структурированные данные.
- Конкретные данные можно извлечь с помощью сложных запросов.
- Результаты запроса могут быть отсортированы.
- Результаты запроса могут быть агрегированы.
- Разработчики с существующими навыками баз данных могут использовать свои знания для проектирования базы данных и кода доступа к данным.
- Модель данных из серверного компонента подключенного приложения можно использовать повторно (полностью или частично) в мобильном приложении.

## <a name="sqlite-database-engine"></a>SQLite ядро СУБД

SQLite — это ядро базы данных с открытым кодом, которое было принято Google для своей мобильной платформы. Ядро базы данных SQLite встроено в обе операционные системы, поэтому для разработчиков нет никакой дополнительной работы для ее использования. SQLite хорошо подходит для кросс-платформенной разработки мобильных приложений, поскольку:

- Ядро СУБД является небольшим, быстрым и простым в переносе.
- База данных хранится в одном файле, что упрощает управление на мобильных устройствах.
- Формат файла прост в использовании на разных платформах: требуется ли 32-или 64-разрядная система, а также системы с большим или прямым порядком байтов.
- Он реализует большую часть SQL92 стандарта.

Так как SQLite разработано как небольшие и быстрые, существует ряд предостережений по его использованию:

- Синтаксис внешнего объединения не поддерживается.
- Поддерживаются только переименование таблиц и ADDCOLUMN. В схему невозможно внести другие изменения.
- Представления доступны только для чтения.

Вы можете узнать больше о SQLite на веб-сайте — [SQLite.org](https://SQLite.org) , но все сведения, необходимые для использования SQLite с Xamarin, содержатся в этом документе и связанных образцах. Ядро базы данных SQLite поддерживалось в Android с Android 2.
Хотя в этой главе не рассматривается, SQLite также можно использовать в приложениях Windows Phone и Windows.

## <a name="windows-and-windows-phone"></a>Windows и Windows Phone

SQLite также можно использовать на платформах Windows, хотя эти платформы не рассматриваются в этом документе.
Дополнительные сведения см. в блоге по [задачам](~/cross-platform/app-fundamentals/building-cross-platform-applications/case-study-tasky.md) и [задачам](~/cross-platform/app-fundamentals/building-cross-platform-applications/case-study-tasky.md) , а также ознакомьтесь с [блогом Тим Хойер (](https://timheuer.com/blog/archive/2012/06/28/seeding-your-metro-style-app-with-sqlite-database.aspx).

## <a name="related-links"></a>Связанные ссылки

- [Базовый доступ к данным (пример)](https://github.com/xamarin/mobile-samples/tree/master/DataAccess/Basic)
- [Расширенный доступ к данным (пример)](https://github.com/xamarin/mobile-samples/tree/master/DataAccess/Advanced)
- [Рецепты по данным Android](https://github.com/xamarin/recipes/tree/master/Recipes/android/data)
- [Доступ к данным Xamarin. Forms](~/xamarin-forms/data-cloud/data/databases.md)
