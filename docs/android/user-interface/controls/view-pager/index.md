---
title: ViewPager
description: ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип.
ms.prod: xamarin
ms.assetid: D42896C0-DE7C-4818-B171-CB2D5E5DD46A
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 03/01/2018
ms.openlocfilehash: 427ace2043f966b617a258b5f50fa42f943e707e
ms.sourcegitcommit: 4e399f6fa72993b9580d41b93050be935544ffaa
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/29/2020
ms.locfileid: "91457657"
---
# <a name="viewpager"></a>ViewPager

_ViewPager — это Диспетчер макетов, позволяющий реализовать навигацию жестурал. Жестуралная навигация позволяет пользователю прокручивать влево и вправо для пошагового просмотра страниц данных. В этом руководство объясняется, как реализовать навигацию жестурал с помощью ViewPager с фрагментами и без них. В нем также описывается добавление индикаторов страниц с помощью Пажертитлестрип и Пажертабстрип._

## <a name="overview"></a>Обзор

Распространенным сценарием при разработке приложений является необходимость предоставить пользователям жестурал навигацию между родственными представлениями. При таком подходе пользователь проводит влево или вправо для доступа к страницам содержимого (например, в мастере установки или показе слайдов). Эти представления можно создать с помощью мини-приложения `ViewPager` , доступного в [библиотеке поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/). `ViewPager`— Это мини-приложение макета, состоящие из нескольких дочерних представлений, в которых каждое дочернее представление образует страницу в макете: 

[![Снимки экрана приложения Трипажер с примером горизонтального прокрутки](images/01-intro-sml.png)](images/01-intro.png#lightbox)

Обычно `ViewPager` используется вместе с [фрагментами](~/android/platform/fragments/index.md), однако в некоторых ситуациях может потребоваться использовать `ViewPager` без дополнительной сложности `Fragment` .

`ViewPager` использует шаблон адаптера, чтобы предоставить его отображаемым представлениям. Используемый здесь адаптер концептуально похож на тот, который используется в [RecyclerView](~/android/user-interface/layouts/recycler-view/index.md) &ndash; . Вы предоставляете реализацию `PagerAdapter` для создания страниц, `ViewPager` отображаемых пользователю. В качестве отображаемых страниц `ViewPager` могут использоваться `View` s или `Fragment` s. При `View` отображении s Этот адаптер подклассы `PagerAdapter` базового класса Android. Если `Fragment` отображаются, то адаптер подклассов Android `FragmentPagerAdapter` . Кроме того, в библиотеку поддержки Android входит `FragmentPagerAdapter` (подкласс `PagerAdapter` ) для получения сведений о подключении `Fragment` s к данным. 

В этом руководстве демонстрируются оба подхода: 

- В [Viewpager с представлениями](~/android/user-interface/controls/view-pager/viewpager-and-views.md)приложение [трипажер](/samples/xamarin/monodroid-samples/userinterface-treepager) разрабатывается, чтобы продемонстрировать, как использовать `ViewPager` для отображения представлений каталога дерева (коллекции изображений листопадное и популярная-деревьев). 
    `PagerTabStrip`  и `PagerTitleStrip` используются для вывода заголовков, помогающих при навигации по страницам.

- В [Viewpager с фрагментами](~/android/user-interface/controls/view-pager/viewpager-and-fragments.md)разрабатывается немного более сложное [флашкардпажер](/samples/xamarin/monodroid-samples/userinterface-flashcardpager) приложение, которое показывает, как использовать `ViewPager` с `Fragment` s для создания приложения, которое представляет математические проблемы в виде флэш-карт и реагирует на вводимые пользователем данные. 

## <a name="requirements"></a>Требования

Чтобы использовать `ViewPager` в проекте приложения, необходимо установить пакет [библиотеки поддержки Android версии 4](https://www.nuget.org/packages/Xamarin.Android.Support.v4/) . Дополнительные сведения об установке пакетов NuGet см. [в разделе Пошаговое руководство. Включение NuGet в проект](/visualstudio/mac/nuget-walkthrough). 

## <a name="architecture"></a>Architecture

Для реализации навигации жестурал используются три компонента `ViewPager` :

- ViewPager
- Адаптер
- Индикатор страничного навигатора

Ниже приведено описание каждого из этих компонентов.

### <a name="viewpager"></a>ViewPager

`ViewPager` — Это Диспетчер макетов, который отображает `View` по одному набору s за раз. Его задание заключается в обнаружении жеста прокрутки пользователя и переходе к следующему или предыдущему представлению. Например, на следующем снимке экрана показано, как выполнить `ViewPager` Переход от одного изображения к другому в ответ на жест пользователя: 

[![Крупный план приложения Трипажер, отображающего переход между представлениями](images/02-transition-sml.png)](images/02-transition.png#lightbox)

### <a name="adapter"></a>Адаптер

`ViewPager` извлекает свои данные из *адаптера*. Задание адаптера состоит в том, чтобы создать `View` s, отображаемый в `ViewPager` , предоставляя их по мере необходимости. На приведенной ниже схеме показана эта концепция &ndash; , которую адаптер создает и заполняет `View` и предоставляет `ViewPager` . Как только `ViewPager` обнаруживает жесты прокрутки пользователя, он запрашивает адаптер для предоставления соответствующего `View` интерфейса: 

[![На схеме показано, как адаптер соединяется с изображениями и именами в ViewPager](images/03-adapter-sml.png)](images/03-adapter.png#lightbox)

В этом конкретном примере каждый `View` из них строится на основе изображения дерева и имени дерева перед его передачей в `ViewPager` . 

### <a name="pager-indicator"></a>Индикатор страничного навигатора

`ViewPager` может использоваться для вывода большого набора данных (например, коллекция изображений может содержать сотни изображений). Чтобы помочь пользователю перемещаться по большим наборам данных, `ViewPager` часто сопровождается *индикатором страничного навигатора* , отображающим строку. Строка может быть названием изображения, заголовком или просто позицией текущего представления в наборе данных. 

Существует два представления, которые могут создавать эту информацию для навигации. каждый из них `PagerTabStrip` `PagerTitleStrip.` отображает строку в верхней части `ViewPager` , и каждый из них извлекает свои данные из `ViewPager` адаптера, чтобы всегда оставаться синхронизированным с отображаемым в данный момент `View` . Различие между ними состоит в том, что `PagerTabStrip` включает визуальный индикатор для "Current" строки, а `PagerTitleStrip` не (как показано на снимках экрана): 

[![Снимки экрана приложения Трипажер с Пажертитлестрип и Пажертабстрип](images/04-comparison-sml.png)](images/04-comparison.png#lightbox)

В этом руководстве показано, как иммплемент `ViewPager` , адаптеры и компоненты приложения с индикаторами и интегрировать их для поддержки навигации жестурал. 

## <a name="related-links"></a>Связанные ссылки

- [Трипажер (пример)](/samples/xamarin/monodroid-samples/userinterface-treepager)
- [Флашкардпажер (пример)](/samples/xamarin/monodroid-samples/userinterface-flashcardpager)