---
title: ListView и жизненный цикл действия
ms.prod: xamarin
ms.assetid: 40840D03-6074-30A2-74DA-3664703E3367
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 02/06/2018
ms.openlocfilehash: b2328759b3158920bc8683ec14c2aebefd7a04ae
ms.sourcegitcommit: e268fd44422d0bbc7c944a678e2cc633a0493122
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/25/2018
ms.locfileid: "50117724"
---
# <a name="listview-and-the-activity-lifecycle"></a>ListView и жизненный цикл действия

Действия проходят определенные состояния как выполнения приложения, такие как запуск, running, приостановки и остановки. Дополнительные сведения и инструкции по обработке переходов между состояниями, см. в разделе [учебник по жизненному циклу действия](~/android/app-fundamentals/activity-lifecycle/index.md).
Очень важно понять жизненный цикл действия и месте вашего `ListView` кода находятся в надлежащих местоположениях.

Во всех примерах в этом документе выполните «Настройка задачи» в действии `OnCreate` метод и (при необходимости) выполнить «удаление» в `OnDestroy`. В примерах обычно используются небольшие наборы данных, которые не изменяются, поэтому чаще повторной загрузке данных не нужен.

Тем не менее, если данные часто изменяющиеся или использует большой объем памяти возможно, можно использовать методы в другом жизненном цикле для заполнения и обновления вашей `ListView`. Например, если базовые данные постоянно меняется (или могут влиять обновления для других действий) а затем создать адаптер в `OnStart` или `OnResume` обеспечит последних данных отображается каждый раз, показано действие.

Если адаптер использует ресурсы, такие как память или курсора, управляемого, не забудьте освобождать эти ресурсы в методе взаимодополняющие, для которых они создавались (например) объекты, созданные в `OnStart` могут быть уничтожены в `OnStop`).


## <a name="configuration-changes"></a>Изменения конфигурации

Это важно помнить, изменения этой конфигурации &ndash; особенно экрана поворота и клавиатуры видимость &ndash; может привести к текущего действия быть удалены и созданы заново (если не указано иное использование `ConfigurationChanges` атрибут). Это означает, что в обычных условиях поворот устройства приведет к `ListView` и `Adapter` повторного создания и (Если вы не написали код `OnPause` и `OnResume`) Выбор прокрутки положения и строки состояния, будут потеряны.

Следующий атрибут могли бы помешать действие уничтожается и повторно в результате изменения конфигурации:

```csharp
[Activity(ConfigurationChanges="keyboardHidden|orientation")]
```

Действие должно затем Переопределите `OnConfigurationChanged` соответствующим образом отреагировать на эти изменения. Дополнительные сведения о том, как обрабатывать изменения конфигурации см. в документации.

