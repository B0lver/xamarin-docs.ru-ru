---
title: Альтернативные ресурсы
ms.prod: xamarin
ms.assetid: AE5A864E-192D-475E-C731-99249C2E7D9E
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 03/13/2018
ms.openlocfilehash: e71e79b58d912ecb697576e92ae921a848f24f4c
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57671181"
---
# <a name="alternate-resources"></a>Альтернативные ресурсы

Альтернативные ресурсы — это ресурсы, предназначенных для конкретного устройства или конфигурацию времени выполнения, например текущий язык, размер экрана определенного или зависимости от плотности пикселей. Если Android может соответствовать ресурс, который является более точным для определенного устройства или конфигурации ресурса по умолчанию, то этот ресурс будет использоваться вместо этого. Если не удается найти ресурс альтернативный, который соответствует текущей конфигурации, будут загружены ресурсы по умолчанию. Как Android решает, какие ресурсы будут использоваться в приложении будут рассматриваться более подробно ниже в разделе расположение ресурса

Альтернативные ресурсы организованы в виде подкаталога в папке ресурсов в соответствии с типом ресурса, так же, как ресурсы по умолчанию. Имя подкаталога, альтернативных источников ресурсов имеет форму: _ResourceType_-_квалификатор_

*Квалификатор* — это имя, идентифицирующее конфигурации конкретного устройства.
В имени каждого из них через дефис может быть более одного квалификатора. Например на следующем снимке экрана показан простой проект, имеющий альтернативные ресурсы для различных конфигураций, таких как языковой стандарт, плотности на экране, размера экрана и ориентацию:

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![Альтернативные ресурсы](alternate-resources-images/alternate-resources-vs.png)
 
# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![Альтернативные ресурсы](alternate-resources-images/alternate-resources-xs.png)
 
-----
 

При добавлении к типу ресурса квалификаторы применяются следующие правила:

1. Возможно, более одного квалификатора, с каждой квалификатор, разделенные дефисом.

2. Квалификаторы, может быть указан только один раз.

3. Квалификаторы должно быть в порядке их следования в таблице ниже.

Ниже перечислены возможные квалификаторы для ссылки.

- **MCC и кодом МНЧ** &ndash; [код страны мобильных](https://en.wikipedia.org/wiki/List_of_mobile_country_codes) (MCC) и при необходимости [код мобильной сети](https://en.wikipedia.org/wiki/Mobile_Network_Code) (кодом МНЧ). Сети, к которой устройство подключено к предоставит кодом МНЧ будет предоставляют MCC SIM-карты. Несмотря на то, что существует возможность целевых языков, использующих код страны для мобильных устройств, рекомендуется использовать подходом является использование квалификатора языка, указанного ниже. Например, чтобы целевые ресурсы в Германии, будет квалификатор `mcc262`. Чтобы целевые ресурсы для T-Mobile в США квалификатор не `mcc310-mnc026`.
  Полный список кодов стран для мобильных устройств и коды мобильной сети см. в разделе <http://mcc-mnc.com/>.

- **Язык** &ndash; двухбуквенный [код ISO 639-1 языка](https://en.wikipedia.org/wiki/ISO_639-1) и при необходимости следуют двухбуквенный [код региона ISO 3166-альфа-версия 2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2). 
  Если оба квалификаторы предоставляются, то они разделяются `-r`. Например, для языковых стандартов на французский язык целевой объект, а затем квалификатор `fr` используется. Для канадского языковых стандартов, `fr-rCA` будет использоваться. Полный список кодов языка и региона, см. в разделе [коды для представления из названий языков](http://www.loc.gov/standards/iso639-2/php/English_list.php) и [названия стран и элементов кода](http://www.iso.org/iso/country_codes/iso_3166_code_lists/country_names_and_code_elements.htm).

- **Наименьшую ширину** &ndash; задает наименьшую ширину экрана приложения предназначен для выполнения. Дополнительные сведения см. в [Создание ресурсов для различных экранов](~/android/app-fundamentals/resources-in-android/resources-for-varying-screens.md). 
  Доступные в API уровня 13 (Android 3.2) и более поздних версий. Например, описатель `sw320dp` используется для целевых устройств, высота и ширина которого составляет не менее 320dp.

- **Доступную ширину** &ndash; Минимальная ширина экрана в формате w*N*точки распространения, где *N* является ширина плотность размещения независимых пикселях.
  Это значение может измениться при повороте устройства. Дополнительные сведения см. в [Создание ресурсов для различных экранов](~/android/app-fundamentals/resources-in-android/resources-for-varying-screens.md). 
  Доступные в API уровня 13 (Android 3.2) и более поздних версий. Пример: w720dp квалификатор используется для целевых устройств, которые имеют ширину минимальных 720dp.

- **Доступной высоте** &ndash; минимальную высоту экрана в формате h*N*точки распространения, где *N* является высота в точки распространения. Это значение может измениться при повороте устройства. Дополнительные сведения см. в [Создание ресурсов для различных экранов](~/android/app-fundamentals/resources-in-android/resources-for-varying-screens.md). 
  Доступные в API уровня 13 (Android 3.2) и более поздних версий. Например h720dp квалификатор предназначен для устройств, имеющих высоту минимальных 720dp

- **Размер экрана** &ndash; этот квалификатор представляет собой обобщение размер экрана, для которого предназначены эти ресурсы. Он описан более подробно в [Создание ресурсов для различных экранов](~/android/app-fundamentals/resources-in-android/resources-for-varying-screens.md). 
  Допустимые значения: `small`, `normal`, `large` и `xlarge`. Добавлены в API уровня 9 (Android 2.3 или Android 2.3.1/Android 2.3.2)

- **Экран аспект** &ndash; основывается на соотношение сторон, не ориентации экрана. Длинный экран шире. Добавлен API уровня 4 (Android 1.6). Возможные значения: значения типа long и notlong.

- **Ориентация экрана** &ndash; книжная или альбомная ориентации экрана. Это можно изменить во время существования приложения.
  Возможными значениями являются `port` и `land`.

- **Закрепить режим** &ndash; для устройств в автомобиле закрепления или закрепить службы поддержки. Добавлены в API уровня 8 (Android 2.2.x). Возможными значениями являются `car` и `desk`.

- **Ночной режим** &ndash; ли приложение выполняется ночью или в день. Это может измениться в течение времени существования приложения и предназначена для предоставления разработчикам возможности использовать более темные версии интерфейса по ночам. Добавлены в API уровня 8 (Android 2.2.x). Возможными значениями являются `night` и `notnight`.

- **Зависимости от плотности пикселей (dpi) экрана** &ndash; количество пикселей в заданной области на экране физического. Обычно выражается в виде точек на дюйм (dpi). Доступны следующие значения:

    - `ldpi` &ndash; Низкая плотность экранов.

    - `mdpi` &ndash; Экраны среднюю плотность

    - `hdpi` &ndash; Экраны с высокой плотностью

    - `xhdpi` &ndash; Экраны с очень высокой плотностью

    - `nodpi` &ndash; Ресурсы, которые не должны масштабироваться

    - `tvdpi` &ndash; Появилась в API уровня 13 (Android 3.2) для экранов между mdpi и hdpi.

- **Тип сенсорного экрана** &ndash; указывает тип сенсорный экран на устройстве может быть. Возможные значения: `notouch` (не сенсорный экран) `stylus` (активной сенсорного экрана подходит для пера), и `finger` (сенсорного экрана).

- **Сочетания доступности** &ndash; указывает, какого рода клавиатуры доступна. Это может измениться в течение времени существования приложения &ndash; для примера в том случае, когда пользователь открывает аппаратную клавиатуру. Доступны следующие значения:

    - `keysexposed` &ndash; Устройство имеет доступные клавиатуры. Если клавиатура не включена, то это используется только при открытии аппаратную клавиатуру.

    - `keyshidden` &ndash; На устройстве нет аппаратной клавиатуре, но она скрыта и не сочетания программного обеспечения включена.

    - `keyssoft` &ndash; устройство имеет клавиатура программного обеспечения включена.

- **Основной способ ввода текста** &ndash; позволяет указать, какие виды оборудования ключи доступны для входных данных. Доступны следующие значения:

    - `nokeys` &ndash; Отсутствуют ключи оборудования для входных данных.

    - `qwerty` &ndash; Отсутствует клавиатуру qwerty.

    - `12key` &ndash; Есть 12-клавишная клавиатура


- **Доступность ключа навигации** &ndash; для когда доступна способом 5 или d панель навигации (направленный клавиатура). Это можно изменить во время жизненного цикла приложения. Доступны следующие значения:

    - `navexposed` &ndash; Навигационный ключи доступны пользователю

    - `navhidden` &ndash; Навигационный ключи недоступны.

-  **Основной способ навигации Non-Touch** &ndash; тип навигации, доступных на устройстве. Доступны следующие значения:

    - `nonav` &ndash; доступны только Навигация по помещению является сенсорный экран

    - `dpad` &ndash; d панель (направленный клавиатура) доступен для навигации

    - `trackball` &ndash; устройство имеет трекбол для навигации

    - `wheel` &ndash; редко, где имеется один или несколько направленных колеса, доступных

-  **Версия платформы (уровень API)** &ndash; уровень API, поддерживаемых устройством, в формате v*N*, где *N* целевой уровень API. Например, версии 11 ориентированы и на уровне API 11 (Android 3.0) устройство.


Более полные сведения о ресурсе квалификаторы см. в разделе [ресурсы, предоставляя](https://developer.android.com/guide/topics/resources/providing-resources.html) веб-сайта разработчики Android.


## <a name="how-android-determines-what-resources-to-use"></a>Как Android определяет, какие именно ресурсы следует использовать

Это очень возможно и скорее всего, что приложение Android будет содержать много ресурсов. Важно понимать, каким образом Android будут выбирать ресурсы для приложения при его запуске на устройстве.

Android определяет ресурсы базовый перебор следующий тест правил:

- **Исключить противоречащих друг другу квалификаторы** &ndash; к примеру, если книжной ориентации устройства, затем все каталоги ресурсов альбомная будут отклонены.

- **Игнорировать не поддерживается квалификаторы** &ndash; доступны не все квалификаторы для всех уровней API. Если каталог ресурсов содержит квалификатор, который не поддерживается на устройстве, этот каталог ресурсов игнорируются.

- **Определить следующий наибольший приоритет квалификатор** &ndash; приведенной выше таблице выберите следующий квалификатор наивысший приоритет (сверху вниз).

- **Сохранить все каталоги ресурсов для квалификатора** &ndash; при наличии все каталоги ресурсов, которые соответствуют квалификатор для приведенной выше таблице выберите следующий квалификатор наивысший приоритет (сверху вниз).

Эти правила также показаны на следующей блок-схеме:

[![Блок-схема ресурсов](alternate-resources-images/flowchart-sml.png)](alternate-resources-images/flowchart.png#lightbox)

Когда система выполняет поиск ресурсов, определяемых плотность и не может их найти, он попытается найти другие плотности определенных ресурсов и их масштабирования. Android не может обязательно используйте ресурсы по умолчанию.
Например при ищете Низкая плотность ресурс и он недоступен, Android может выбрать с высокой плотностью версии ресурса по отношению к ресурсам по умолчанию или средняя плотность. Это связано с высокой плотностью ресурса может быть уменьшен с коэффициентом 0,5, что приведет к меньше проблем видимость, чем масштабирование ресурсов Средняя плотность, что может требовать фактор 0,75.

Например рассмотрим приложение, которое имеет следующие каталоги drawable ресурсов:

    drawable
    drawable-en
    drawable-fr-rCA
    drawable-en-port
    drawable-en-notouch-12key
    drawable-en-port-ldpi
    drawable-port-ldpi
    drawable-port-notouch-12key

И запустите приложение на устройстве со следующей конфигурацией:

- **Языковой стандарт** &ndash; en-GB
- **Ориентация** &ndash; порт
- **Экран плотность** &ndash; hdpi
- **Тип сенсорного экрана** &ndash; notouch
- **Основной метод ввода** &ndash; 12key

Начнем с того, исключаются ресурсов на французском языке, он конфликтует с языковой стандарт `en-GB`, оставляя с нами:

    drawable
    drawable-en
    drawable-en-port
    drawable-en-notouch-12key
    drawable-en-port-ldpi
    drawable-port-ldpi
    drawable-port-notouch-12key

Затем первый квалификатор выбирается из приведенной выше таблице квалификаторов: MCC и кодом МНЧ. Существуют каталоги ресурсов, которые содержат этот квалификатор, поэтому код MCC/кодом МНЧ игнорируется.

Установлен следующий квалификатор, который является языком. Существуют ресурсы, которые соответствует коду языка. Все каталоги ресурсов, которые не соответствуют также код языка `en` отклоняются, таким образом, в список ресурсов теперь:

    drawable-en-port
    drawable-en-notouch-12key
    drawable-en-port-ldpi

Далее квалификатор, который присутствует касается ориентацию экрана, поэтому все каталоги ресурсов, которые не соответствуют ориентацию экрана `port` исключаются:

    drawable-en-port
    drawable-en-port-ldpi

Далее идет квалификатор для плотностью экрана `ldpi`, в результате исключения одного дополнительные каталог ресурсов:

    drawable-en-port-ldpi

В результате этого процесса Android будет использовать прорисовываемые ресурсы в каталоге ресурсов `drawable-en-port-ldpi` для устройства.

> [!NOTE]
> Квалификаторы размер экрана предоставляют единственным исключением из этого процесса выбора. Вполне возможно, для Android выбрать ресурсы, которые предназначены для небольших экранов, чем предоставляет текущее устройство. Например, устройство большом экране может использовать ресурсы обеспечивают для стандартного размера экрана. Тем не менее это верно обратное не: то же устройство большом экране не будет использовать ресурсы, выделенные для очень большой экран. Если Android не удается найти набор ресурсов, соответствующий размер данного экрана, произойдет сбой приложения.
