---
title: "Создание ресурсов для разных экранов"
ms.topic: article
ms.prod: xamarin
ms.assetid: 3D17DE45-115C-7192-5685-44F8EEE07DCC
ms.technology: xamarin-android
author: mgmclemore
ms.author: mamcle
ms.date: 03/01/2018
ms.openlocfilehash: fcd77d97d492baee441cfd428e58ea83525f927e
ms.sourcegitcommit: 30055c534d9caf5dffcfdeafd6f08e666fb870a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/09/2018
---
# <a name="creating-resources-for-varying-screens"></a>Создание ресурсов для разных экранов

Android сам работает на различных устройствах, каждое из которых самые разнообразные решения, размеров и плотностей экрана. Выполняет масштабирование и размера для обеспечения работы приложения на этих устройствах Android, но это может привести к неоптимальной работы. Например изображения могут быть нечеткими, образов может занимать слишком много (или недостаточно) экрана чего положения элементов пользовательского интерфейса в макете будут перекрываться или быть слишком далеко друг от друга.


## <a name="concepts"></a>Основные понятия

Несколько термины и основные понятия важны для понимания для поддержки нескольких экранов.

- **Размер экрана** &ndash; объемом физического места для отображения приложения

- **На экране плотность** &ndash; количество точек в любой заданной области, на экране. Стандартные единицы измерения — точек на дюйм (dpi).

- **Разрешение** &ndash; общее число пикселей на экране. При разработке приложений, разрешение не столь важно, как размер экрана и плотность.

- **Плотность независимый пиксель (dp)** &ndash; это виртуального единица измерения, чтобы разрешить макеты проектироваться зависит от плотности. Преобразование точки распространения в точек используется следующая формула:

    px &equals; dp &times; dpi &divide; 160

- **Ориентация** &ndash; ориентации экрана считается Альбомная при шире, чем больше высоты. В противоположность этому при превышала ее ширину экрана выполняется книжной ориентации. При повороте устройства пользователем ориентацию можно изменить во время существования приложения.

Обратите внимание, что первые три из этих концепций связаны между &ndash; увеличение разрешение без увеличения плотность приведет к увеличению размера экрана. Однако если плотность и разрешения, увеличиваются затем размером экрана можно остаются неизменными. Эта связь между размер, плотность и разрешение экрана усложняют поддержку экрана очень быстро.

Для решения этой проблемы предпочитает использовать платформы Android *плотность независимых пикселях (dp)* макетов экрана. С помощью плотность независимых точках, пользователь должен иметь один и тот же физический размер на экранах с различные плотности будут отображаться элементы пользовательского интерфейса.


## <a name="supporting-various-screen-sizes-and-densities"></a>Поддержка различных размеров и плотности

Android обрабатывает большую часть работы, для подготовки к просмотру макетов должным образом для каждой конфигурации экрана. Однако существуют некоторые действия, которые можно выполнить, чтобы помочь в системе.

Использование плотность независимых пикселях вместо фактического пикселей в макетах достаточно в большинстве случаев, чтобы обеспечить независимость плотность.
Android будет масштабироваться drawables во время выполнения до соответствующего размера.
Тем не менее существует возможность, что это масштабирование вызовет точечные рисунки, чтобы быть нечеткими. Чтобы избежать этого, может потребоваться предоставить альтернативный ресурсы для различные плотности. При разработке устройств для нескольких разрешений и плотности экрана, оказались проще со более высокое или плотность изображения и затем уменьшения масштаба. Это предотвратит стирают ни искривления, могут быть связаны с изменением размеров.


### <a name="declare-the-screen-size-the-application-supports"></a>Объявите приложение поддерживает размер экрана

Объявление размера экрана гарантирует, что только поддерживаемые устройства можно загрузить приложение. Это делается путем присвоения свойству [экраны поддерживает](http://developer.android.com/guide/topics/manifest/supports-screens-element.html) элемент в **AndroidManifest.xml** файла. Этот элемент используется, чтобы указать, какие размеры экрана поддерживаются приложением. Указанными экранными считается поддерживается, если приложение может правильно его в макеты экран. С помощью этого элемента манифеста, приложение не будет отображаться в [ *Google Play* ](https://play.google.com/) для устройств, которые не удовлетворяют требованиям экрана. Приложение по-прежнему будет работать на устройствах с экранами не поддерживается, однако макетами может быть нечеткими и некачественно.

Чтобы сделать это в Xamarin.Android, необходимо сначала добавить **AndroidManifest.xml** файл в проект, если он еще не существует:

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

[![Манифеста Android](resources-for-varying-screens-images/01-android-manifest-vs-sml.png)](resources-for-varying-screens-images/01-android-manifest-vs.png#lightbox)

**AndroidManifest.xml** добавляется **свойства** каталога. Затем этот файл редактируется для включения [поддерживает экраны](http://developer.android.com/guide/topics/manifest/supports-screens-element.html):

[![Добавление экранов поддерживает](resources-for-varying-screens-images/02-adding-supports-screens-vs-sml.png)](resources-for-varying-screens-images/02-adding-supports-screens-vs.png#lightbox)

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

[![Манифеста Android](resources-for-varying-screens-images/01-android-manifest-xs-sml.png)](resources-for-varying-screens-images/01-android-manifest-xs.png#lightbox)

**AndroidManifest.xml** добавляется **свойства** каталога. Затем этот файл редактируется для включения [поддерживает экраны](http://developer.android.com/guide/topics/manifest/supports-screens-element.html):

[![Добавление экранов поддерживает](resources-for-varying-screens-images/02-adding-supports-screens-xs-sml.png)](resources-for-varying-screens-images/02-adding-supports-screens-xs.png#lightbox)

-----

### <a name="provide-alternate-layouts-for-different-screen-sizes"></a>Укажите альтернативный макеты для разных размеров

Несмотря на то, что Android изменится в соответствии с размером экрана, это может быть недостаточно в некоторых случаях. Рекомендуется увеличить размер некоторых элементов пользовательского интерфейса на большом экране или изменять положение элементов пользовательского интерфейса для меньшего размера экрана.

Начиная с API-13 уровня (Android 3.2), размеры экрана устарели и были заменены с помощью sw*N*квалификатор точки распространения. Этот новый квалификатор объявляет требуется объем указанным макетом. Настоятельно рекомендуется, приложения, предназначенные для работы в Android 3.2 или более поздней версии следует использовать эти новые квалификаторы.

Например, при необходимости минимальное 700dp ширины экрана макет альтернативный макета перейдет в папке **sw700dp макета**:

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

![Папку структуры для 700dp ширина экрана](resources-for-varying-screens-images/03-layout-sw700dp-vs.png)

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

![Папку структуры для 700dp ширина экрана](resources-for-varying-screens-images/03-layout-sw700dp-xs.png)

-----


Как правило ниже приведены некоторые числа для различных устройств.

- **Типичный Телефон** &ndash; 320dp: типичный телефон

- **Планшетный ПК 5"/ «tweener» устройства** &ndash; 480dp: например Samsung Примечание

- **Планшет 7"** &ndash; 600dp: например Barnes &amp; Noble Nook

- **Планшетный ПК 10"** &ndash; 720dp: например Motorola Xoom

Для приложений, целевой API уровней до 12 (Android 3.1), макетов должен переходить в каталогах, использующих квалификаторы **небольшой**/**обычного**/**большой**  / **xlarge** как обобщения различными размерами экранов, доступных в большинство устройств. Например на приведенном ниже рисунке существует альтернативный ресурсы для четырех разных размеров.

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

![Альтернативный ресурсы четыре размерами экранов](resources-for-varying-screens-images/04-layout-large-vs.png)

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

![Альтернативный ресурсы четыре размерами экранов](resources-for-varying-screens-images/04-layout-large-xs.png)

-----

Ниже приведен сравнение сравнение старых квалификаторы размер экрана pre-API уровня 13 плотность независимых пикселях.

- — 426dp x 320dp **небольшой**

- — 470dp x 320dp **обычный**

- — 640dp x 480dp **большой**

- — 960dp x 720dp **xlarge**

Размер квалификаторы в API уровня 13 и копирование имеют более высокий приоритет, чем старые квалификаторы экрана API уровней 12 и нижней новой экрана.
Для приложений, которые будет охватывать старые и новые уровни API может потребоваться создать альтернативный ресурсы с помощью обоих наборов квалификаторы, как показано на следующем снимке экрана:

# <a name="visual-studiotabvswin"></a>[Visual Studio](#tab/vswin)

![Альтернативный ресурсами с помощью обоих квалификаторы](resources-for-varying-screens-images/05-both-qualifiers-vs.png)

# <a name="visual-studio-for-mactabvsmac"></a>[Visual Studio для Mac](#tab/vsmac)

![Альтернативный ресурсами с помощью обоих квалификаторы](resources-for-varying-screens-images/05-both-qualifiers-xs.png)

-----



### <a name="provide-different-bitmaps-for-different-screen-densities"></a>Укажите другой растровые изображения для плотности другой экран

Несмотря на то, что Android масштабируется растровых изображений как необходимые для устройства, точечные рисунки, сами могут масштабироваться эффективного вверх или вниз: они могут стать нечеткое или нечетким. Предоставление растровые изображения для экрана плотность позволит устранить эту проблему.

Например, на следующем рисунке приведен пример макета и внешнего вида проблем, возникающих при плотность задания не указаны ресурсы.

![Снимки экрана без плотность ресурсов](resources-for-varying-screens-images/06-density-not-provided.png)

Сравните макете, разработанные с помощью плотность определенных ресурсов:

![Снимки экрана с ресурсов, связанных с плотность](resources-for-varying-screens-images/07-density-specific-resources.png)


### <a name="create-varying-density-resources-with-android-asset-studio"></a>Создать различные плотности ресурсы с ОС Android Studio

Создание таких изображений различные плотности может быть несколько утомительным. Таким образом, Google создал документации программы, которой могут уменьшить трудоемкость, связанные с созданием растровых изображения вызывается [ **Android Studio активов**](https://romannurik.github.io/AndroidAssetStudio/).

[![ОС Android Studio](resources-for-varying-screens-images/08-android-asset-studio-sml.png)](resources-for-varying-screens-images/08-android-asset-studio.png#lightbox)

Этот веб-сайт помогут при создании точечных рисунков, который нацелен на четыре общих плотностей экрана, предоставляя один образ. Android Studio активов затем создайте растровые изображения с помощью некоторых настроек и подождите, пока их можно скачать в виде ZIP-файл.


## <a name="tips-for-multiple-screens"></a>Советы для нескольких экранов

Android выполняется на огромное количество устройств и сочетание размеров и плотностей экрана может показаться невозможной. Следующие советы помогут свести к минимуму усилия, необходимые для поддержки различных устройств:

- **Только дизайн и разработка для теми, которые требуется** &ndash; множество различных устройств здесь, но в редких форм-факторов, которые может занять слишком больших усилий для проектирования и разработки для некоторых существует. [ **Размер экрана и плотность** ](http://developer.android.com/resources/dashboard/screens.html) панель мониторинга — это страница, предоставляемый Google, предоставляющие данные о декомпозиция матрицы плотность экрана размер и экрана. Это разделение содержит информацию о том, как в процессе разработки о поддержке экранов.

- **Используйте политики диагностики, а не в точках** -становятся отчетливо как изменения экрана плотности пикселей. Не следует жестко кодировать значения пикселов. Избегайте пикселей пользу точки распространения (плотность независимых пикселях).

- **Избегайте** [AbsoluteLayout](https://developer.xamarin.com/api/type/Android.Widget.AbsoluteLayout/)
  **везде, где возможно** &ndash; его рекомендуется использовать в API уровня 3 (Android 1.5) и приведут неустойчивыми макеты. Он должен не использоваться. Вместо этого попробуйте использовать более гибкий макет мини-приложения, такие как [ **LinearLayout**](https://developer.xamarin.com/api/type/Android.Widget.LinearLayout/), [ **RelativeLayout**](https://developer.xamarin.com/api/type/Android.Widget.RelativeLayout/), или новый [ **GridLayout**](https://developer.xamarin.com/api/type/Android.Widget.GridLayout/).

- **Выберите один ориентацию макета по умолчанию** &ndash; к примеру, а не альтернативных ресурсов **Земли макета** и **макета порт**, поместить ресурсы для Альбомная в **макета**и ресурсы для книжной в **макета порт**.

- **Использовать LayoutParams высоты и ширины** — при определении элементов пользовательского интерфейса в макете в XML-файл приложения Android с помощью **wrap_content** и **fill_parent** значения будут иметь дополнительные успех Убедитесь, правильную взглянуть на различных устройствах, чем при использовании пикселей или плотность независимых элементов. Эти значения измерения вызвать Android для масштабирования ресурсов растровое изображение соответствующим образом. По этой же причине плотность независимые единицы зарезервированы лучше всего для при указании поля и заполнение элементов пользовательского интерфейса.


## <a name="testing-multiple-screens"></a>Тестирование несколько экранов

Приложение должно тестироваться для всех конфигураций, которые будут поддерживаться. В идеале устройств необходимо протестировать на сами устройства, но во многих случаях это не невозможно или нецелесообразно.
В этом случае будут использоваться использование эмулятора и установки виртуального устройства Android для каждой конфигурации устройства.

Android SDK предоставляет некоторые эмулятор обложки можно использовать для создания элемента AVD реплицирует размер, плотность и разрешения для разных устройств.
Многие поставщики оборудования аналогичным образом укажите обложки для своих устройств.

Другой вариант — использование служб третьей стороны тестирование службы.
Эти службы принимает apk-ФАЙЛ, запустите его на различных устройствах и затем предоставить отзыв, как работает приложение.
