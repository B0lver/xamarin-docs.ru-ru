---
title: Создание ресурсов для разных экранов
ms.prod: xamarin
ms.assetid: 3D17DE45-115C-7192-5685-44F8EEE07DCC
ms.technology: xamarin-android
author: conceptdev
ms.author: crdun
ms.date: 08/28/2018
ms.openlocfilehash: 63cbe556783ffe22512ff5312817d522120bd15e
ms.sourcegitcommit: 57e8a0a10246ff9a4bd37f01d67ddc635f81e723
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "57670575"
---
# <a name="creating-resources-for-varying-screens"></a>Создание ресурсов для разных экранов

Android сам работает на различных устройствах, для каждой из них разнообразные способы их устранения, размеры экрана и плотности на экране. Android будет выполнять масштабирование и изменение размера для обеспечения работы приложения на этих устройствах, но это может привести к неоптимальной пользователем. Например изображения может быть нечеткими или они могут быть расположены на представление.


## <a name="concepts"></a>Основные понятия

Несколько термины и основные понятия важны для понимания для поддержки нескольких экранов.

- **Размер экрана** &ndash; физического пространства для отображения приложения

- **Экран плотность** &ndash; количество точек в любой заданной области на экране. Типичная единица измерения — точек на дюйм (dpi).

- **Разрешение** &ndash; общее число пикселей на экране. При разработке приложений, разрешение не столь важным, как размер экрана и плотности.

- **Плотность независимый пиксель (dp)** &ndash; виртуального единица измерения, чтобы разрешить макетов позволяет проектировать взаимодействие зависит от плотности. Эта формула используется для преобразования точки распространения в пикселях на экране:

    px &equals; dp &times; dpi &divide; 160

- **Ориентация** &ndash; ориентации экрана считается ландшафт при шире, чем высота. В противоположность этому при выше, чем ширина экрана выполняется книжной ориентации. Ориентацию можно изменить во время существования приложения при повороте устройства.

Обратите внимание на то, что первые три из этих концепций взаимозависимых &ndash; увеличению разрешения без увеличения плотности приведет к увеличению размера экрана. Тем не менее если увеличиваются плотность и разрешения, затем размера экрана оставались неизменными. Это отношение между размером экрана, плотности и разрешение быстро усложняют поддержку экрана.

Чтобы помочь справиться с этой сложной, предпочитает использовать платформы Android *density независимых пикселях (dp)* для макетов экрана. С помощью пикселях независимо от плотности, элементы пользовательского интерфейса будут отображаться как пользователь должен иметь такой же размер на экранах с различной плотности.


## <a name="supporting-various-screen-sizes-and-densities"></a>Поддержка различных размеров экрана и плотности

Android обрабатывает большую часть работы по отображению макеты должным образом для каждой конфигурации экрана. Однако существуют некоторые действия, которые могут быть предприняты помощь в системе.

Использование density независимых пикселей вместо собственно пикселы в макетах достаточно в большинстве случаев, чтобы обеспечить независимость от плотности.
Android масштабирует прорисовываемых ресурсов во время выполнения до соответствующего размера.
Тем не менее существует возможность, что масштабирование вызовет растровые изображения быть нечеткими. Чтобы обойти эту проблему, укажите альтернативный ресурсы для различной плотности. При разработке устройств для нескольких разрешений и плотностей экрана, она будет подтверждает проще начать с более высокого разрешения или плотности изображения и уменьшайте его.


### <a name="declare-the-supported-screen-size"></a>Объявляет размер поддерживаемых экрана

Объявление размера экрана гарантирует, что только поддерживаемые устройства можно скачать приложение. Это достигается путем установки [поддерживает экраны](https://developer.android.com/guide/topics/manifest/supports-screens-element.html) элемент в **AndroidManifest.xml** файла. Этот элемент используется для указания, какие размеры экрана поддерживаются приложением. Некоторый экран считается поддерживаться, если приложение правильно может поместить его макеты экран. Используя этот элемент манифеста, приложение не будет отображаться в [ *Google Play* ](https://play.google.com/) для устройств, которые не соответствует характеристикам экрана. Приложение все равно будет работать на устройствах с экранами не поддерживается, но макетов может быть нечеткими и размытыми.

Поддерживаемые экрана sixes объявляются в **Properites/AndroidManifest.xml** файл решения:

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

[![Android Manifest](resources-for-varying-screens-images/01-android-manifest-sml.w1581.png)](resources-for-varying-screens-images/01-android-manifest.w1581.png#lightbox)

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

[![Android Manifest](resources-for-varying-screens-images/01-android-manifest-sml.m761.png)](resources-for-varying-screens-images/01-android-manifest.m761.png#lightbox)

-----

Изменить **AndroidManifest.xml** для включения [поддерживает экраны](https://developer.android.com/guide/topics/manifest/supports-screens-element.html):

```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          android:versionCode="1"
          android:versionName="1.0"
          package="HelloWorld.HelloWorld">
      <uses-sdk android:minSdkVersion="21" android:targetSdkVersion="27" />
      <supports-screens android:resizable="true"
                        android:smallScreens="true"
                        android:normalScreens="true"
                        android:largeScreens="true" />
      <application android:allowBackup="true"
                   android:icon="@mipmap/ic_launcher"
                   android:label="@string/app_name"
                   android:roundIcon="@mipmap/ic_launcher_round"
                   android:supportsRtl="true" android:theme="@style/AppTheme">
  </application>
</manifest>
```

### <a name="provide-alternate-layouts-for-different-screen-sizes"></a>Укажите альтернативный макеты для различных размеров экрана


Альтернативные макеты позволяют настраивать представление для изменения положения размера экрана особую или размер элементов пользовательского интерфейса компонента.

Начиная с API уровня 13 (Android 3.2), размеры экрана устарели и были заменены с помощью sw*N*квалификатор точки распространения. Этот новый квалификатор объявляет потребности объем заданного макета. Рекомендуется, что приложения, которые предназначены для работы в Android 3.2 или более поздней версии следует использовать эти новые квалификаторы.

Например, если макет требуется минимальное 700 dp ширины экрана, альтернативный макет будет обрабатываться в папку **sw700dp макета**:

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![Папку структуры для ширины экрана 700 точки распространения](resources-for-varying-screens-images/03-layout-sw700dp-vs.png)

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![Папку структуры для ширины экрана 700 точки распространения](resources-for-varying-screens-images/03-layout-sw700dp-xs.png)

-----


Как правило ниже приведены некоторые номера для различных устройств.

- **Типичный Телефон** &ndash; 320 dp: типичный телефон

- **Планшет 5"/ «tweener» устройства** &ndash; 480 dp: например Примечание Samsung

- **Планшет 7"** &ndash; 600 dp: например Barnes &amp; Noble Nook

- **Планшет 10"** &ndash; 720 dp: например Motorola Xoom

Для приложений, целевой API уровней до 12 (Android 3.1), макетов должны попадать в каталоги, использующих квалификаторы **небольшой**/**обычный**/**больших**  / **очень большой** как обобщения на разные размеры экрана, доступных в большинство устройств. Например на рисунке ниже, существуют альтернативные ресурсы для четырех различных размеров экрана:

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![Альтернативные ресурсы для четырех размеров экрана](resources-for-varying-screens-images/04-layout-large-vs.png)

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![Альтернативные ресурсы для четырех размеров экрана](resources-for-varying-screens-images/04-layout-large-xs.png)

-----

Ниже приведен сравнение сравнение старых квалификаторы размер экрана pre-API уровня 13 с density независимых пикселях.

- 426 dp x 320 точка распространения не **небольшой**

- 470 dp x 320 точка распространения не **обычный**

- 640 dp x 480 точка распространения не **больших**

- 960 dp x 720 точка распространения не **очень большой.**

Более новые экрана размер квалификаторы в API уровня 13 и копирования имеют более высокий приоритет, чем старые квалификаторы экрана 12 и нижнего уровней API.
Для приложений, будут охватывать старые и новые уровни API может потребоваться создавать альтернативные ресурсы, с помощью оба вида квалификаторы, как показано на следующем снимке экрана:

# <a name="visual-studiotabwindows"></a>[Visual Studio](#tab/windows)

![Альтернативные ресурсы с помощью обоих квалификаторы](resources-for-varying-screens-images/05-both-qualifiers-vs.png)

# <a name="visual-studio-for-mactabmacos"></a>[Visual Studio для Mac](#tab/macos)

![Альтернативные ресурсы с помощью обоих квалификаторы](resources-for-varying-screens-images/05-both-qualifiers-xs.png)

-----



### <a name="provide-different-bitmaps-for-different-screen-densities"></a>Укажите различными растровыми изображениями для экранов различной плотности

Несмотря на то, что Android масштабирования точечных рисунков для устройства при необходимости, точечные рисунки, сами могут масштабироваться элегантно вверх или вниз: они могут стать нечеткое или нечетким. Предоставляя растровые изображения для экрана плотность будет устранить эту проблему.

Например, на следующем рисунке приведен пример макета и внешнего вида проблем, которые могут возникнуть при плотности укажите ресурсов не предоставляются.

![Снимки экрана без плотность ресурсов](resources-for-varying-screens-images/06-density-not-provided.png)

Сравните это макет, при помощи ресурсов, связанных с плотностью:

![Снимки экрана с плотностью ресурсов](resources-for-varying-screens-images/07-density-specific-resources.png)


### <a name="create-varying-density-resources-with-android-asset-studio"></a>Создание различной плотности ресурсов с помощью Android Asset Studio

Создание эти точечные рисунки, различные плотности может быть утомительным. Таким образом, Google создала служебной online, которые могут снизить часть утомительной работы, связанные с созданием эти точечные рисунки вызывается [ **Android Asset Studio**](https://romannurik.github.io/AndroidAssetStudio/).

[![Android Asset Studio](resources-for-varying-screens-images/08-android-asset-studio-sml.png)](resources-for-varying-screens-images/08-android-asset-studio.png#lightbox)

Этот веб-сайт поможет Создание точечных рисунков, предназначенных для четыре распространенных экранов плотности, предоставляя один образ. Android Asset Studio будет затем создайте растровые изображения с помощью некоторых настроек и разрешить их можно скачать в виде ZIP-файл.


## <a name="tips-for-multiple-screens"></a>Советы для нескольких экранов

Android выполняется на огромное число устройств, и сочетание размеров экрана и плотности экрана может показаться сложным. Следующие советы помогут свести к минимуму усилия, необходимые для поддержки различных устройств:

- **Только проектирования и разработки, которые вы используете** &ndash; существуют существует множество разных устройств, но некоторые существуют в отдельных форм-факторов, которые могут потребоваться значительные усилия для проектирования и разработки для. [ **Размеру экрана и плотности** ](https://developer.android.com/resources/dashboard/screens.html) панели мониторинга — это страница, предоставляемый Google, предоставляющие данные о декомпозиция матрицы плотностью экрана размер и экрана. Разделении полосы пропускания предоставляет сведения о том, как всяких усилий с поддержкой экранов.

- **Использовать DPs, а не в точках** -пиксели становятся нежелательный как изменения плотностью экрана. Делать не следует жестко кодировать значения в пикселях. Избегайте пикселей пользу dp (независимый от плотности пикселей).

- **Избегайте** [AbsoluteLayout](https://developer.xamarin.com/api/type/Android.Widget.AbsoluteLayout/)
  **везде, где возможно** &ndash; его рекомендуется использовать в API уровня 3 (Android 1.5) и приведет к значительно усложняло работу макетов. Его не следует. Вместо этого попробуйте использовать мини-приложения более гибкий макет, такие как [ **LinearLayout**](https://developer.xamarin.com/api/type/Android.Widget.LinearLayout/), [ **RelativeLayout**](https://developer.xamarin.com/api/type/Android.Widget.RelativeLayout/), или на новую [ **GridLayout**](https://developer.xamarin.com/api/type/Android.Widget.GridLayout/).

- **Выберите один ориентацию макета по умолчанию** &ndash; вместо предоставляя альтернативные ресурсы, например, **макета land** и **макета port**, поместите ресурсы для в в альбомной ориентации **макета**и ресурсы для книжной в **макета port**.

- **Использовать LayoutParams высоты и ширины** — при определении элементов пользовательского интерфейса в XML-файл макета, приложения Android с помощью **wrap_content** и **fill_parent** значения будут иметь успешное развитие обеспечить правильное взгляд на различных устройствах, чем при использовании пикселей или density независимых единицах. Эти значения измерения вызвать Android для масштабирования ресурсов растровое изображение соответствующим образом. По этой же причине density независимых единицах, лучше всего зарезервированы для при указании поля и заполнение элементов пользовательского интерфейса.


## <a name="testing-multiple-screens"></a>Тестирование нескольких экранов

Приложения Android должен проверяться для всех конфигураций, которые будут поддерживаться. В идеале устройств должны тестироваться на сами устройства, но во многих случаях это не возможно или целесообразно.
В этом случае использование эмулятора, так и настройки виртуальных устройств Android для каждой конфигурации устройства будут полезны.

Пакет SDK для Android предоставляет некоторые эмулятор, который обложки могут использоваться для создания Avd будут реплицированы, плотность, а также разрешение многих устройств.
Аналогично, многие из тех поставщиков оборудования предоставляют обложек для своих устройств.

Другой вариант — использовать службы тестирования службы третьей стороны.
Эти службы принимает пакет APK, запустите его на различных устройствах и затем предоставить отзыв, как работает приложение.
