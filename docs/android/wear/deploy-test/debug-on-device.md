---
title: Отладка на устройстве износ
description: В этой статье объясняется, как для отладки приложения на устройстве износ Xamarin.Android одежды.
ms.prod: xamarin
ms.assetid: 01668E4B-BB83-4C26-B23A-F788173FB823
ms.technology: xamarin-android
author: mgmclemore
ms.author: mamcle
ms.date: 02/16/2018
ms.openlocfilehash: 3f3143dcda4017bbabfbd34a58a40665beea6f75
ms.sourcegitcommit: 945df041e2180cb20af08b83cc703ecd1aedc6b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/04/2018
---
# <a name="debug-on-a-wear-device"></a>Отладка на устройстве износ

_В этой статье объясняется, как для отладки приложения на устройстве износ Xamarin.Android одежды._


## <a name="overview"></a>Обзор

При наличии устройства с Android, например Android Smartwatch с запуском приложения на устройстве, вместо того чтобы использовать эмулятор. (Если вы еще не познакомились с процессом развертывания и выполнения приложений с Android, см. [носят Здравствуйте,](~/android/wear/get-started/hello-wear.md).)

## <a name="prepare-the-wear-device"></a>Подготовка устройства износ:

Чтобы включить отладку на устройстве с Android, выполните следующие действия:

1.  Откройте **параметры** меню на устройстве с Android.

2.  Прокрутите до нижней части меню и выберите **о**.

3.  Коснитесь 7 раз номер сборки.

4.  На **параметры** меню, выберите **параметров разработчика**.

5.  Убедитесь, что **отладки ADB** включен.


## <a name="debugging-over-usb"></a>Отладка по USB

Если износ устройства USB-порту, можно подключить устройство износ к компьютеру, развертывания на него и выполнения и отладки приложения так же, как телефоне с Android (Дополнительные сведения см. в разделе [отладка на устройстве](~/android/deploy-test/debugging/debug-on-device.md)).


## <a name="debugging-over-bluetooth"></a>Отладка через Bluetooth

Если износ устройство не имеет USB-порту, можно развернуть приложение на устройстве износ через Bluetooth по маршрутизация выходных данных отладки приложения на телефоне с Android, которое подключено к компьютеру. 

### <a name="prepare-your-phone"></a>Подготовьте ваш телефон

Используйте следующие шаги для подготовки телефона для установления соединений износ устройства Bluetooth: 

1.  Если вы еще не сделали настроить телефон для разработки Xamarin.Android, как описано в [задайте копии устройства для разработки](~/android/get-started/installation/set-up-device-for-development.md).

2.  Загрузите и установите бесплатный [Android носят](https://play.google.com/store/apps/details?id=com.google.android.wearable.app) приложение из магазина Google Play.

### <a name="connect-the-device"></a>Подключите устройство

Для подключения устройства износ на ваш телефон, выполните следующие действия:

1.  На телефоне, который будет выступать в качестве посредника Bluetooth (настроенных выше), запуск приложения Android с. 

2.  Коснитесь **параметры** значок.

3.  Включить **отладка через Bluetooth**. Вы увидите следующие состояние, отображаемое на экране приложения Android с:

        Host: disconnected
        Target: connected

4.  Подключения телефона к компьютеру через USB. На компьютере введите следующие команды:

    ```shell
    adb forward tcp:4444 localabstract:/adb-hub
    adb connect 127.0.0.1:4444
    ```

    Если порт 4444 недоступен, можно использовать любой другой доступный порт, к которому имеется доступ. 

    **Примечание**: при перезапуске Visual Studio или Visual Studio для Mac, необходимо выполнить эти команды еще раз, чтобы установить подключение к устройству одежды.

5.  Износ устройства по запросу, убедитесь, что позволяет пользователям **отладки ADB**. В приложении Android с вы увидите, измените состояние:

        Host: connected
        Target: connected

6.  После завершения указанные выше шаги, выполнение `adb devices` показывает состояние телефона, устройства с Android:

        List of devices attached
        127.0.0.1:4444    device
        019ad61df0a69399  device

На этом этапе приложение можно развернуть на устройство одежды.

<a name="screenshots" />

### <a name="taking-screenshots"></a>Получение снимков экрана

Снимок экрана устройства износ можно выполнить, введя следующую команду: 

```shell
adb -s 127.0.0.1:4444 shell screencap -p /sdcard/DCIM/screencap.png
```

Копирование снимка экрана в систему, введя следующую команду:

```shell
adb -s 127.0.0.1:4444 pull /sdcard/DCIM/screencap.png
```

Удаление снимка экрана на устройстве, введя следующую команду:

```shell
adb -s 127.0.0.1:4444 shell rm /sdcard/DCIM/screencap.png
```


### <a name="uninstalling-an-app"></a>Удаление приложения

Приложение можно удалить с устройства одежды, введя следующую команду:

```shell
adb -s 127.0.0.1:4444 uninstall <package name>
```

Например, чтобы удалить приложение с именем пакета `com.xamarin.weartest`, введите следующую команду:

```shell
adb -s 127.0.0.1:4444 uninstall com.xamarin.weartest
```

Дополнительные сведения об отладке через Bluetooth устройства с Android см. в разделе [отладка через Bluetooth](https://developer.android.com/training/wearables/apps/bt-debugging.html).


## <a name="debugging-a-wear-app-with-a-companion-phone-app"></a>Отладка приложения одежды с вспомогательное приложение Windows phone

Приложения Android износ упакованы с дополнительное приложении Android для распространения на Google Play (Дополнительные сведения см. в разделе [работа с упаковкой](~/android/wear/deploy-test/packaging.md)). При этом по-прежнему разработать приложение Износ и его вспомогательное приложение отдельно. После отпускания приложения через магазин Google Play приложение износ упаковывается с приложением дополнительное и автоматически устанавливается, если это возможно.

Для отладки приложения одежды с приложением дополнительное: 

1.  Построение и развертывание вспомогательное приложение на телефоне.

2.  Щелкните правой кнопкой мыши проект Износ и задать его в качестве проекта запуска по умолчанию.

3.  Разверните проект износ на переносном устройстве.

4.  Запускать и отлаживать приложение износ на устройстве.

 
## <a name="summary"></a>Сводка

В этой статье описано, как настроить устройство с Android для отладки износ из Visual Studio через Bluetooth и как отладить приложение одежды с вспомогательное приложение Windows phone. Оно также предоставляет общие советы по отладке для отладки приложения, написанного на износ через Bluetooth.
