---
title: Отладка в устройстве Android Wear
description: В этой статье объясняется, как выполнить отладку приложения Xamarin. Android износа на устройстве с износом.
ms.prod: xamarin
ms.assetid: 01668E4B-BB83-4C26-B23A-F788173FB823
ms.technology: xamarin-android
author: davidortinau
ms.author: daortin
ms.date: 02/16/2018
ms.openlocfilehash: 965ed4e802c05f8450192c0fec17fe31e464c779
ms.sourcegitcommit: 2fbe4932a319af4ebc829f65eb1fb1816ba305d3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/29/2019
ms.locfileid: "73028698"
---
# <a name="debug-on-a-wear-device"></a>Отладка в устройстве Android Wear

_В этой статье объясняется, как выполнить отладку приложения Xamarin. Android износа на устройстве с износом._

## <a name="overview"></a>Обзор

Если вы используете устройство Android, например "износ Android", вы можете запустить приложение на устройстве, а не в эмуляторе. (Если вы еще не знакомы с процессом развертывания и запуска приложений "износа Android", см. статью [Hello, износ](~/android/wear/get-started/hello-wear.md).)

## <a name="prepare-the-wear-device"></a>Подготовка устройства "износ":

Чтобы включить отладку на устройстве Android, выполните следующие действия:

1. Откройте меню " **Параметры** " на устройстве "износ Android".

2. Прокрутите меню вниз и выберите пункт **о программе**.

3. Коснитесь номера сборки 7 раз.

4. В меню **Параметры** выберите пункт **Параметры разработчика**.

5. Убедитесь, что включена **Отладка ADB** .

## <a name="debugging-over-usb"></a>Отладка через USB

Если у устройства "износ" есть USB-порт, вы можете подключить его к компьютеру, развернуть на нем и запустить или выполнить отладку приложения, как при использовании телефона Android (Дополнительные сведения см. [в разделе Отладка на устройстве](~/android/deploy-test/debugging/debug-on-device.md)).

## <a name="debugging-over-bluetooth"></a>Отладка через Bluetooth

Если у устройства не установлено USB-порт, вы можете развернуть приложение на устройстве износа через Bluetooth, перенаправляя выходные данные отладки приложения на телефон Android, подключенный к компьютеру. 

### <a name="prepare-your-phone"></a>Подготовка телефона

Выполните следующие действия, чтобы подготовить телефон для подключения Bluetooth к устройству износа: 

1. Если вы еще не сделали этого, Настройте телефон для разработки Xamarin. Android, как описано в подокне [Настройка устройства для разработки](~/android/get-started/installation/set-up-device-for-development.md).

2. Скачайте и установите бесплатное приложение " [износ Android](https://play.google.com/store/apps/details?id=com.google.android.wearable.app) " из Google Play Маркет.

### <a name="connect-the-device"></a>Подключение устройства

Чтобы подключить устройство "износ" к телефону, выполните следующие действия.

1. На телефоне, который будет действовать как посредник Bluetooth (настроенный выше), запустите приложение "износ Android". 

2. Коснитесь значка **параметров** .

3. Включить **отладку через Bluetooth**. На экране приложения "износ Android" должно отобразиться следующее состояние:

    ```
    Host: disconnected
    Target: connected
    ```

4. Подключите телефон к компьютеру по USB. На компьютере введите следующие команды:

    ```shell
    adb forward tcp:4444 localabstract:/adb-hub
    adb connect 127.0.0.1:4444
    ```

    Если порт 4444 недоступен, можно использовать любой другой доступный порт, к которому у вас есть доступ. 

    > [!NOTE]
    > При перезапуске Visual Studio или Visual Studio для Mac необходимо снова выполнить эти команды, чтобы установить подключение к устройству износа.

5. Когда устройство "износ" запросит вас, подтвердите, что вы разрешаете **отладку ADB**. В приложении "износ Android" вы увидите, что состояние изменится на:

    ```
    Host: connected
    Target: connected
    ```

6. После выполнения описанных выше действий `adb devices` отображает состояние телефона и устройства "износ Android":

    ```
    List of devices attached
    127.0.0.1:4444    device
    019ad61df0a69399  device
    ```

На этом этапе можно развернуть приложение на устройстве износа.

<a name="screenshots" />

### <a name="taking-screenshots"></a>Создание снимков экрана

Снимок экрана с устройством износа можно сделать, введя следующую команду: 

```shell
adb -s 127.0.0.1:4444 shell screencap -p /sdcard/DCIM/screencap.png
```

Скопируйте снимок экрана на компьютер, введя следующую команду:

```shell
adb -s 127.0.0.1:4444 pull /sdcard/DCIM/screencap.png
```

Удалите снимок экрана на устройстве, введя следующую команду:

```shell
adb -s 127.0.0.1:4444 shell rm /sdcard/DCIM/screencap.png
```

### <a name="uninstalling-an-app"></a>Удаление приложения

Вы можете удалить приложение с устройства "износ", введя следующую команду:

```shell
adb -s 127.0.0.1:4444 uninstall <package name>
```

Например, чтобы удалить приложение с именем пакета `com.xamarin.weartest`, введите следующую команду:

```shell
adb -s 127.0.0.1:4444 uninstall com.xamarin.weartest
```

Дополнительные сведения об отладке устройств Android с использованием Bluetooth см. в разделе [Отладка через Bluetooth](https://developer.android.com/training/wearables/apps/bt-debugging.html).

## <a name="debugging-a-wear-app-with-a-companion-phone-app"></a>Отладка приложения "износ" с помощью вспомогательного приложения для телефона

Приложения "износ Android" упаковываются в сопутствующее приложение для телефонов Android для распространения на Google Play (Дополнительные сведения см. в разделе [Работа с упаковкой](~/android/wear/deploy-test/packaging.md)). Тем не менее вы по-прежнему разрабатываете приложение «износ» и его сопутствующее приложение отдельно. При освобождении приложения с помощью Google Play Маркет приложение "износ" будет упаковываться вместе с сопутствующим приложением и автоматически устанавливаться по возможности.

Для отладки приложения "износ" с помощью вспомогательного приложения: 

1. Создание и развертывание вспомогательного приложения на телефоне.

2. Щелкните проект "износ" правой кнопкой мыши и задайте его в качестве запускаемого проекта по умолчанию.

3. Разверните проект "износ" на устройстве носимого пользователем.

4. Запуск и отладка приложения "износ" на устройстве.

## <a name="summary"></a>Сводка

В этой статье объясняется, как настроить устройство "износ Android" для износа из Visual Studio через Bluetooth и как выполнить отладку приложения "износ" с помощью вспомогательного приложения для телефона. Он также предоставляет общие советы по отладке для отладки приложения с помощью Bluetooth.
